(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"+7LX":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GenericBarcode=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(((r=n("52Lf"))&&r.__esModule?r:{default:r}).default);e.GenericBarcode=o},"/4Rl":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("NJzS"),i=n("2j0D"),o=n("JB6v"),a=n("n/pZ"),s=n("jlE0"),c=n("fLmL"),u=n("wXsw"),l=n("+7LX");e.default={CODE39:r.CODE39,CODE128:i.CODE128,CODE128A:i.CODE128A,CODE128B:i.CODE128B,CODE128C:i.CODE128C,EAN13:o.EAN13,EAN8:o.EAN8,EAN5:o.EAN5,EAN2:o.EAN2,UPC:o.UPC,UPCE:o.UPCE,ITF14:a.ITF14,ITF:a.ITF,MSI:s.MSI,MSI10:s.MSI10,MSI11:s.MSI11,MSI1010:s.MSI1010,MSI1110:s.MSI1110,pharmacode:c.pharmacode,codabar:u.codabar,GenericBarcode:l.GenericBarcode}},"/XyT":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=function(t,e){return r({},t,e)}},"2j0D":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CODE128C=e.CODE128B=e.CODE128A=e.CODE128=void 0;var r=s(n("byS7")),i=s(n("6Mm9")),o=s(n("cLAh")),a=s(n("7T9X"));function s(t){return t&&t.__esModule?t:{default:t}}e.CODE128=r.default,e.CODE128A=i.default,e.CODE128B=o.default,e.CODE128C=a.default},"3KJX":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.name="InvalidInputException",o.symbology=t,o.input=n,o.message='"'+o.input+'" is not a valid input for '+o.symbology,o}return o(e,Error),e}(),s=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="InvalidElementException",t.message="Not supported type to render on",t}return o(e,Error),e}(),c=function(t){function e(){r(this,e);var t=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.name="NoElementException",t.message="No element to render on.",t}return o(e,Error),e}();e.InvalidInputException=a,e.InvalidElementException=s,e.NoElementException=c},"52Lf":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.text=n.text||e,this.options=n}},"6LKm":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();e.checksum=s;var i=o(n("VyaE"));function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{11}$/)&&(t+=s(t));var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.displayValue=n.displayValue,r.fontSize=n.fontSize>10*n.width?10*n.width:n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{12}$/)&&this.data[11]==s(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=(0,i.default)(this.data.substr(0,6),"LLLLLL"),t+="01010",t+=(0,i.default)(this.data.substr(6,6),"RRRRRR"),{data:t+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101"+(0,i.default)(this.data[0],"L"),options:{height:this.guardHeight}}),t.push({data:(0,i.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),t.push({data:"01010",options:{height:this.guardHeight}}),t.push({data:(0,i.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),t.push({data:(0,i.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),t}}]),e}(o(n("52Lf")).default);function s(t){var e,n=0;for(e=1;e<11;e+=2)n+=parseInt(t[e]);for(e=0;e<11;e+=2)n+=3*parseInt(t[e]);return(10-n%10)%10}e.default=a},"6Mm9":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n("SyMb"))&&r.__esModule?r:{default:r},a=n("8I5R"),s=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a.A_START_CHAR+t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return new RegExp("^"+a.A_CHARS+"+$").test(this.data)}}]),e}(o.default);e.default=s},"7T9X":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n("SyMb"))&&r.__esModule?r:{default:r},a=n("8I5R"),s=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a.C_START_CHAR+t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return new RegExp("^"+a.C_CHARS+"+$").test(this.data)}}]),e}(o.default);e.default=s},"8I5R":function(t,e,n){"use strict";var r;function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0});var o=e.SET_A=0,a=e.SET_B=1,s=e.SET_C=2,c=(e.SHIFT=98,e.START_A=103),u=e.START_B=104,l=e.START_C=105;e.MODULO=103,e.STOP=106,e.FNC1=207,e.SET_BY_CODE=(i(r={},c,o),i(r,u,a),i(r,l,s),r),e.SWAP={101:o,100:a,99:s},e.A_START_CHAR=String.fromCharCode(208),e.B_START_CHAR=String.fromCharCode(209),e.C_START_CHAR=String.fromCharCode(210),e.A_CHARS="[\0-_\xc8-\xcf]",e.B_CHARS="[ -\x7f\xc8-\xcf]",e.C_CHARS="(\xcf*[0-9]{2}\xcf*)",e.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},"B9+t":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n("PHz1"))&&r.__esModule?r:{default:r},a=function(t){var e=t.substr(0,13).split("").map((function(t){return parseInt(t,10)})).reduce((function(t,e,n){return t+e*(3-n%2*2)}),0);return 10*Math.ceil(e/10)-e},s=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{13}$/)&&(t+=a(t)),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{14}$/)&&+this.data[13]===a(this.data)}}]),e}(o.default);e.default=s},"Ek++":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"encode",value:function(){for(var t="110",e=0;e<this.data.length;e++){var n=parseInt(this.data[e]).toString(2);n=a(n,4-n.length);for(var r=0;r<n.length;r++)t+="0"==n[r]?"100":"110"}return{data:t+="1001",text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]+$/)}}]),e}(((r=n("52Lf"))&&r.__esModule?r:{default:r}).default);function a(t,e){for(var n=0;n<e;n++)t="0"+t;return t}e.default=o},"G6U+":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=(r=n("vf6K"))&&r.__esModule?r:{default:r},s=function(t){return(10-t.substr(0,7).split("").map((function(t){return+t})).reduce((function(t,e,n){return n%2?t+e:t+3*e}),0)%10)%10},c=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{7}$/)&&(t+=s(t)),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{8}$/)&&+this.data[7]===s(this.data)}},{key:"leftText",value:function(){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var t=this.data.substr(0,4);return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,"LLLL")}},{key:"rightText",value:function(){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var t=this.data.substr(4,4);return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRR")}}]),e}(a.default);e.default=c},Ir9b:function(t,e,n){"use strict";n.r(e),n.d(e,"TransportModule",(function(){return zt}));var r=n("fXoL"),i=["bcElement"],o=n("YsXA"),a=function(){function t(t){this.renderer=t,this.elementType="svg",this.cssClass="barcode",this.format="CODE128",this.lineColor="#000000",this.width=2,this.height=100,this.displayValue=!1,this.fontOptions="",this.font="monospace",this.textAlign="center",this.textPosition="bottom",this.textMargin=2,this.fontSize=20,this.background="#ffffff",this.margin=10,this.marginTop=10,this.marginBottom=10,this.marginLeft=10,this.marginRight=10,this.value="",this.valid=function(){return!0}}return Object.defineProperty(t.prototype,"options",{get:function(){return{format:this.format,lineColor:this.lineColor,width:this.width,height:this.height,displayValue:this.displayValue,fontOptions:this.fontOptions,font:this.font,textAlign:this.textAlign,textPosition:this.textPosition,textMargin:this.textMargin,fontSize:this.fontSize,background:this.background,margin:this.margin,marginTop:this.marginTop,marginBottom:this.marginBottom,marginLeft:this.marginLeft,marginRight:this.marginRight,valid:this.valid}},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(){this.createBarcode()},t.prototype.createBarcode=function(){if(this.value){var t;switch(this.elementType){case"img":t=this.renderer.createElement("img");break;case"canvas":t=this.renderer.createElement("canvas");break;case"svg":default:t=this.renderer.createElement("svg","svg")}o(t,this.value,this.options);for(var e=0,n=this.bcElement.nativeElement.childNodes;e<n.length;e++)this.renderer.removeChild(this.bcElement.nativeElement,n[e]);this.renderer.appendChild(this.bcElement.nativeElement,t)}},t.\u0275fac=function(e){return new(e||t)(r.Pb(r.F))},t.\u0275cmp=r.Jb({type:t,selectors:[["ngx-barcode"]],viewQuery:function(t,e){var n;1&t&&r.Hc(i,!0),2&t&&r.zc(n=r.ec())&&(e.bcElement=n.first)},inputs:{elementType:["bc-element-type","elementType"],cssClass:["bc-class","cssClass"],format:["bc-format","format"],lineColor:["bc-line-color","lineColor"],width:["bc-width","width"],height:["bc-height","height"],displayValue:["bc-display-value","displayValue"],fontOptions:["bc-font-options","fontOptions"],font:["bc-font","font"],textAlign:["bc-text-align","textAlign"],textPosition:["bc-text-position","textPosition"],textMargin:["bc-text-margin","textMargin"],fontSize:["bc-font-size","fontSize"],background:["bc-background","background"],margin:["bc-margin","margin"],marginTop:["bc-margin-top","marginTop"],marginBottom:["bc-margin-bottom","marginBottom"],marginLeft:["bc-margin-left","marginLeft"],marginRight:["bc-margin-right","marginRight"],value:["bc-value","value"],valid:["bc-valid","valid"]},features:[r.Ab],decls:2,vars:2,consts:[["bcElement",""]],template:function(t,e){1&t&&r.Qb(0,"div",null,0),2&t&&r.Eb(e.cssClass)},encapsulation:2}),t}(),s=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[]}},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[]]}),t}(),c=n("tyNb"),u=n("ey9i"),l=n("oARB"),d=n("ofXK"),b=n("rEr+"),f=n("7zfz"),h=n("Mfq2"),p=n("3Pt+");const m=["dataTable"];function v(t,e){1&t&&(r.Vb(0,"colgroup"),r.Qb(1,"col",14),r.Qb(2,"col",15),r.Qb(3,"col",16),r.Ub())}function g(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tr"),r.Vb(1,"th"),r.Lc(2,"Actions"),r.Ub(),r.Vb(3,"th",17),r.Lc(4,"Vendor Name"),r.Qb(5,"p-sortIcon",18),r.Ub(),r.Vb(6,"th"),r.Lc(7,"Vehicle Count"),r.Ub(),r.Ub(),r.Vb(8,"tr",19),r.Vb(9,"th"),r.Vb(10,"a",20),r.dc("click",(function(){return r.Dc(t),r.hc(2).clearSearchForm()})),r.Qb(11,"i",21),r.Lc(12,"Clear"),r.Ub(),r.Ub(),r.Vb(13,"th"),r.Vb(14,"input",22),r.dc("ngModelChange",(function(e){return r.Dc(t),r.hc(2).searchForm.vendorBpName=e}))("keyup.enter",(function(){return r.Dc(t),r.hc(2).resetListing()})),r.Ub(),r.Ub(),r.Qb(15,"th"),r.Ub()}if(2&t){const t=r.hc(2);r.Cb(3),r.oc("pSortableColumn","vendorBpName"),r.Cb(2),r.oc("field","vendorBpName"),r.Cb(9),r.oc("ngModel",t.searchForm.vendorBpName)}}function y(t,e){if(1&t&&(r.Vb(0,"tr"),r.Vb(1,"td"),r.Vb(2,"a",23),r.Qb(3,"i",24),r.Ub(),r.Ub(),r.Vb(4,"td"),r.Lc(5),r.Ub(),r.Vb(6,"td"),r.Lc(7),r.Ub(),r.Ub()),2&t){const t=e.$implicit,n=r.hc(2);r.Cb(2),r.qc("routerLink","/branch/transport/vehicle-edit/",n.utilsService.encrypt(t.id),""),r.Cb(3),r.Oc("",t.vendorBpCode," - ",t.vendorBpName,""),r.Cb(2),r.Mc(t.vehicleCount)}}function C(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"div",1),r.Vb(2,"span"),r.Lc(3,"V"),r.Ub(),r.Lc(4,"ehicle Master Data - List "),r.Vb(5,"div",2),r.Vb(6,"button",3),r.Qb(7,"i",4),r.Vb(8,"span"),r.Lc(9,"Add Vehicle"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(10,"div",5),r.Vb(11,"div",6),r.Vb(12,"div",7),r.Vb(13,"div",8),r.Vb(14,"p-table",9,10),r.dc("onLazyLoad",(function(e){return r.Dc(t),r.hc().getListing(e)})),r.Jc(16,v,4,0,"ng-template",11),r.Jc(17,g,16,3,"ng-template",12),r.Jc(18,y,8,4,"ng-template",13),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Sb()}if(2&t){const t=r.hc();r.Cb(14),r.oc("value",t.listing.data)("lazy",!0)("paginator",!0)("rows",t.appConstants.TABLE_DEFAULT_ROWS)("totalRecords",t.listing.totalRecords)}}let _=(()=>{class t{constructor(t,e,n){this.utilsService=t,this.authGuardService=e,this.vehicleDataService=n,this.appConstants=u.h,this.screenAcl={},this.listingProperties={},this.listing={data:[],totalRecords:0},this.searchForm={vendorBpName:""}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("63"),!this.screenAcl.view)return this.utilsService.showFailureMsg(u.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1}getListing(t){const e=this.utilsService.dataTableParameterFormation(t,this.searchForm);this.listingProperties=e,this.vehicleDataService.getList(e).subscribe(t=>{"SUCCESS"===t.status?(this.listing.data=t.results.searchResults,this.listing.totalRecords=t.results.totalRecords):this.utilsService.showFailureMsg(t)})}clearSearchForm(){this.searchForm={vendorBpName:""},this.resetListing()}resetListing(){this.dataTable.reset()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u.g),r.Pb(u.a),r.Pb(l.ob))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-vehicle-list"]],viewQuery:function(t,e){var n;1&t&&r.Pc(m,!0),2&t&&r.zc(n=r.ec())&&(e.dataTable=n.first)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"btn-group"],["routerLink","/branch/transport/vehicle-add",1,"btn","btn-primary","btn-sm"],[1,"fa","fa-plus"],[1,"working-container"],[1,"row"],[1,"col-12"],[1,"datatable-responsive"],[3,"value","lazy","paginator","rows","totalRecords","onLazyLoad"],["dataTable",""],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[2,"width","100px"],[2,"width","150px"],[2,"width","120px"],[3,"pSortableColumn"],[3,"field"],["placement","top","container","body","tooltip","Press Enter key to search",1,"search"],[1,"clear-search",3,"click"],[1,"fa","fa-times"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup.enter"],["placement","top","container","body","tooltip","Edit",1,"action","blue",3,"routerLink"],[1,"fa","fa-edit"]],template:function(t,e){1&t&&r.Jc(0,C,19,5,"ng-container",0),2&t&&r.oc("ngIf",e.screenAcl.view)},directives:[d.m,c.e,b.c,f.b,b.b,b.a,h.a,p.b,p.m,p.o,c.g],styles:[""]}),t})();var S=n("ZOsW");function E(t,e){1&t&&(r.Tb(0),r.Lc(1,"Add"),r.Sb())}function L(t,e){1&t&&(r.Tb(0),r.Lc(1,"Edit"),r.Sb())}function O(t,e){if(1&t&&(r.Vb(0,"div",29),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.vendorBpId," ")}}function V(t,e){if(1&t&&(r.Vb(0,"div",29),r.Lc(1),r.Ub()),2&t){const t=r.hc().index,e=r.hc();r.Cb(1),r.Nc(" ",e.myFormErrors.vehicleListArray[t].vehicleCode," ")}}function w(t,e){if(1&t&&(r.Vb(0,"div",29),r.Lc(1),r.Ub()),2&t){const t=r.hc().index,e=r.hc();r.Cb(1),r.Nc(" ",e.myFormErrors.vehicleListArray[t].description," ")}}function U(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tr",30),r.Vb(1,"td"),r.Vb(2,"a",31),r.dc("click",(function(){r.Dc(t);const n=e.index;return r.hc().removeVehicleFields(n)})),r.Qb(3,"i",32),r.Ub(),r.Ub(),r.Vb(4,"td"),r.Qb(5,"input",33),r.Jc(6,V,2,1,"div",15),r.Ub(),r.Vb(7,"td"),r.Qb(8,"input",34),r.Jc(9,w,2,1,"div",15),r.Ub(),r.Ub()}if(2&t){const t=e.index,n=r.hc();r.oc("formGroupName",t),r.Cb(6),r.oc("ngIf",n.myFormErrors.vehicleListArray[t].vehicleCode),r.Cb(3),r.oc("ngIf",n.myFormErrors.vehicleListArray[t].description)}}function I(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",35),r.dc("click",(function(){return r.Dc(t),r.hc().saveUpdate()})),r.Qb(1,"i",36),r.Vb(2,"span"),r.Lc(3,"Save"),r.Ub(),r.Ub()}}function A(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.dc("click",(function(){return r.Dc(t),r.hc().clearForm()})),r.Qb(1,"i",37),r.Vb(2,"span"),r.Lc(3,"Clear"),r.Ub(),r.Ub()}}function x(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",35),r.dc("click",(function(){return r.Dc(t),r.hc().saveUpdate()})),r.Qb(1,"i",38),r.Vb(2,"span"),r.Lc(3,"Update"),r.Ub(),r.Ub()}}function D(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.dc("click",(function(){return r.Dc(t),r.hc().utilsService.goBack()})),r.Qb(1,"i",39),r.Vb(2,"span"),r.Lc(3,"Cancel"),r.Ub(),r.Ub()}}function F(t,e){1&t&&(r.Vb(0,"div",40),r.Vb(1,"span",41),r.Lc(2,"Note:"),r.Ub(),r.Lc(3," You are unauthorized to "),r.Vb(4,"strong"),r.Lc(5,"update"),r.Ub(),r.Lc(6," this transaction! "),r.Ub())}function T(t,e){1&t&&(r.Vb(0,"div",40),r.Vb(1,"span",41),r.Lc(2,"Note:"),r.Ub(),r.Lc(3," You are unauthorized to "),r.Vb(4,"strong"),r.Lc(5,"add"),r.Ub(),r.Lc(6," this transaction!. "),r.Ub())}let P=(()=>{class t{constructor(t,e,n,r,i,o){this.utilsService=t,this.authGuardService=e,this.vehicleDataService=n,this.commonDataService=r,this.formBuilder=i,this.activatedRoute=o,this.appConstants=u.h,this.screenAcl={},this.vendorBpList=[],this.myFormData={},this.myFormErrors={vendorBpId:"",vehicleListArray:[]},this.myFormValidationMsgs={vendorBpId:{required:"Vendor Name is required"},vehicleListArray:{vehicleCode:{required:"Vehicle Code is required"},description:{required:"Description is required"}}}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("63"),!this.screenAcl.view)return this.utilsService.showFailureMsg(u.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.initializeForm(),this.initializeSubscriptions()}initializeSubscriptions(){this.activatedRoute.params.subscribe(t=>{t.id?(this.inputEditId=this.utilsService.decrypt(t.id),this.get()):this.getVendorBpList()})}initializeForm(){this.myForm=this.formBuilder.group({vendorBpId:[null,[p.u.required]],deletedVehicleChildIds:[[]],vehicleListArray:this.formBuilder.array([this.initVehicleFields()])}),this.myForm.valueChanges.subscribe(t=>{this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs),this.myFormData=this.myForm.getRawValue()}),this.myFormData=this.myForm.getRawValue()}addVehicleFields(t){this.myForm.controls.vehicleListArray.push(this.initVehicleFields(t))}initVehicleFields(t){const e={vehicleCode:"",description:"",id:""};return t&&(e.vehicleCode=t.vehicleCode,e.description=t.description,e.id=t.id),this.myFormErrors.vehicleListArray.push({vehicleCode:"",description:""}),this.formBuilder.group({vehicleCode:[e.vehicleCode,[p.u.required]],description:[e.description,[p.u.required]],id:[e.id]})}removeVehicleFields(t){const e=this.myFormData.vehicleListArray[t].id;if(e){const t=this.myFormData.deletedVehicleChildIds;t.push(e),this.myForm.patchValue({deletedVehicleChildIds:t})}this.myForm.controls.vehicleListArray.removeAt(t)}saveUpdate(){if(!this.myForm.valid)return this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs,!0),!1;if(0===this.myFormData.vehicleListArray.length)return this.utilsService.showFailureMsg("Please add atelase one vehicle info"),!1;const t={vendorBpId:this.myFormData.vendorBpId,vehicleListArray:[]};let e;this.myFormData.vehicleListArray.forEach(e=>{t.vehicleListArray.push({vehicleCode:e.vehicleCode,description:e.description,id:e.id})}),this.inputEditId?(e="update",t.id=this.inputEditId,t.deletedVehicleChildIds=this.myFormData.deletedVehicleChildIds):e="save",this.vehicleDataService[e](t).subscribe(t=>{"SUCCESS"===t.status?(this.utilsService.showSuccessMsg(t),this.utilsService.redirect("/branch/transport/vehicle-list")):this.utilsService.showFailureMsg(t)})}get(){this.vehicleDataService.get(this.inputEditId).subscribe(t=>{if("SUCCESS"===t.status){const e=t.results;this.myForm.patchValue({vendorBpId:e.vendorBpId}),this.getVendorBpList(e.vendorBpInfo),this.removeVehicleFields(0),e.vehicleListArray.forEach(t=>{this.addVehicleFields(t)})}else this.utilsService.showFailureMsg(t)})}clearForm(){this.initializeForm()}getVendorBpList(t){this.commonDataService.getBusinessPartnerList([2]).subscribe(e=>{"SUCCESS"===e.status?(this.utilsService.ifNotPushToList(e.results,t),this.vendorBpList=e.results.map(t=>(t.searchText=t.partnerName+" - "+t.partnerCode,t))):this.utilsService.showFailureMsg(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u.g),r.Pb(u.a),r.Pb(l.ob),r.Pb(l.l),r.Pb(p.e),r.Pb(c.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-vehicle-add"]],decls:60,vars:13,consts:[[1,"page-title"],[4,"ngIf"],[1,"btn-group"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-arrow-left"],[1,"working-container",3,"formGroup"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-form"],[1,"row"],[1,"form-group","col-sm-4"],[1,"form-label"],[1,"mandatory"],["formControlName","vendorBpId","bindLabel","searchText","bindValue","id","placeholder","--SELECT--","appendTo","body",3,"items","multiple"],["class","validation-error",4,"ngIf"],[1,"box-body","box-table"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],["formArrayName","vehicleListArray"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","5"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-plus"],[1,"btn-group","text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class"," btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[1,"validation-error"],[3,"formGroupName"],["placement","bottom","container","body","tooltip","Delete",1,"action","red",3,"click"],[1,"fa","fa-minus-circle"],["type","text","formControlName","vehicleCode",1,"form-control","form-control-sm"],["type","text","formControlName","description",1,"form-control","form-control-sm"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save"],[1,"fa","fa-broom"],[1,"fa","fa-redo-alt"],[1,"fa","fa-times"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"span"),r.Lc(2,"V"),r.Ub(),r.Lc(3,"ehicle Master Data - "),r.Jc(4,E,2,0,"ng-container",1),r.Jc(5,L,2,0,"ng-container",1),r.Vb(6,"div",2),r.Vb(7,"button",3),r.dc("click",(function(){return e.utilsService.goBack()})),r.Qb(8,"i",4),r.Vb(9,"span"),r.Lc(10,"Back"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(11,"div",5),r.Vb(12,"div",6),r.Vb(13,"div",7),r.Qb(14,"i",8),r.Lc(15,"Basic Info "),r.Ub(),r.Vb(16,"div",9),r.Vb(17,"div",10),r.Vb(18,"div",11),r.Vb(19,"label",12),r.Lc(20,"Vendor Name"),r.Vb(21,"span",13),r.Lc(22,"*"),r.Ub(),r.Ub(),r.Qb(23,"ng-select",14),r.Jc(24,O,2,1,"div",15),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(25,"div",6),r.Vb(26,"div",7),r.Qb(27,"i",8),r.Lc(28,"Vehicle Info "),r.Ub(),r.Vb(29,"div",16),r.Vb(30,"div",17),r.Vb(31,"table",18),r.Vb(32,"thead"),r.Vb(33,"tr"),r.Vb(34,"th"),r.Lc(35,"Action"),r.Ub(),r.Vb(36,"th"),r.Lc(37,"Vehicle Code"),r.Vb(38,"span",13),r.Lc(39,"*"),r.Ub(),r.Ub(),r.Vb(40,"th"),r.Lc(41,"Description"),r.Vb(42,"span",13),r.Lc(43,"*"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(44,"tbody",19),r.Jc(45,U,10,3,"tr",20),r.Ub(),r.Vb(46,"tfoot"),r.Vb(47,"tr"),r.Vb(48,"td",21),r.Vb(49,"button",22),r.dc("click",(function(){return e.addVehicleFields()})),r.Qb(50,"i",23),r.Vb(51,"span"),r.Lc(52,"Add Vehicle"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(53,"div",24),r.Jc(54,I,4,0,"button",25),r.Jc(55,A,4,0,"button",26),r.Jc(56,x,4,0,"button",27),r.Jc(57,D,4,0,"button",26),r.Ub(),r.Jc(58,F,7,0,"div",28),r.Jc(59,T,7,0,"div",28),r.Ub()),2&t&&(r.Cb(4),r.oc("ngIf",!e.inputEditId),r.Cb(1),r.oc("ngIf",e.inputEditId),r.Cb(6),r.oc("formGroup",e.myForm),r.Cb(12),r.oc("items",e.vendorBpList)("multiple",!1),r.Cb(1),r.oc("ngIf",e.myFormErrors.vendorBpId),r.Cb(21),r.oc("ngForOf",e.myForm.controls.vehicleListArray.controls),r.Cb(9),r.oc("ngIf",e.screenAcl.add&&!e.inputEditId),r.Cb(1),r.oc("ngIf",!e.inputEditId),r.Cb(1),r.oc("ngIf",e.screenAcl.update&&e.inputEditId),r.Cb(1),r.oc("ngIf",e.inputEditId),r.Cb(1),r.oc("ngIf",e.inputEditId&&!e.screenAcl.update),r.Cb(1),r.oc("ngIf",!e.inputEditId&&!e.screenAcl.add))},directives:[d.m,p.n,p.i,S.a,p.m,p.g,p.d,d.l,p.j,h.a,p.b],styles:[""]}),t})();var N=n("LvDl"),M=n("eO1q");const j=["dataTable"];function k(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",18),r.dc("click",(function(){return r.Dc(t),r.hc(2).downloadAsExcel()})),r.Qb(1,"i",19),r.Vb(2,"span"),r.Lc(3,"Download as Excel"),r.Ub(),r.Ub()}}function R(t,e){if(1&t&&(r.Vb(0,"div",20),r.Vb(1,"div",21),r.Vb(2,"div",22),r.Lc(3),r.Ub(),r.Vb(4,"div",23),r.Lc(5),r.Ub(),r.Ub(),r.Ub()),2&t){const t=e.$implicit,n=r.hc(2);r.Cb(3),r.Nc(" ",t.name," "),r.Cb(1),r.oc("ngClass",n.appConstants.TXN_STATUS_COLOR_CLS[t.id]),r.Cb(1),r.Mc(t.count)}}function B(t,e){1&t&&(r.Vb(0,"colgroup"),r.Qb(1,"col",24),r.Qb(2,"col",25),r.Qb(3,"col",26),r.Qb(4,"col",25),r.Qb(5,"col",25),r.Qb(6,"col",26),r.Ub())}function G(t,e){if(1&t&&(r.Vb(0,"option",37),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.oc("value",t.id),r.Cb(1),r.Mc(t.name)}}function z(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tr"),r.Vb(1,"th"),r.Lc(2,"Actions"),r.Ub(),r.Vb(3,"th",27),r.Lc(4,"Branch Name"),r.Qb(5,"p-sortIcon",28),r.Ub(),r.Vb(6,"th",27),r.Lc(7,"Doc No"),r.Qb(8,"p-sortIcon",28),r.Ub(),r.Vb(9,"th",27),r.Lc(10,"Posting Date"),r.Qb(11,"p-sortIcon",28),r.Ub(),r.Vb(12,"th",27),r.Lc(13,"Delivery Date"),r.Qb(14,"p-sortIcon",28),r.Ub(),r.Vb(15,"th",27),r.Lc(16,"Status"),r.Qb(17,"p-sortIcon",28),r.Ub(),r.Ub(),r.Vb(18,"tr",29),r.Vb(19,"th"),r.Vb(20,"a",30),r.dc("click",(function(){return r.Dc(t),r.hc(2).clearSearchForm()})),r.Qb(21,"i",31),r.Lc(22,"Clear"),r.Ub(),r.Ub(),r.Vb(23,"th"),r.Vb(24,"input",32),r.dc("ngModelChange",(function(e){return r.Dc(t),r.hc(2).searchForm.branchName=e}))("keyup.enter",(function(){return r.Dc(t),r.hc(2).resetListing()})),r.Ub(),r.Ub(),r.Vb(25,"th"),r.Vb(26,"input",32),r.dc("ngModelChange",(function(e){return r.Dc(t),r.hc(2).searchForm.documentNumber=e}))("keyup.enter",(function(){return r.Dc(t),r.hc(2).resetListing()})),r.Ub(),r.Ub(),r.Vb(27,"th"),r.Vb(28,"p-calendar",33),r.dc("ngModelChange",(function(e){return r.Dc(t),r.hc(2).searchForm.postingDate=e}))("onSelect",(function(){return r.Dc(t),r.hc(2).resetListing()})),r.Ub(),r.Ub(),r.Vb(29,"th"),r.Vb(30,"p-calendar",33),r.dc("ngModelChange",(function(e){return r.Dc(t),r.hc(2).searchForm.deliveryDate=e}))("onSelect",(function(){return r.Dc(t),r.hc(2).resetListing()})),r.Ub(),r.Ub(),r.Vb(31,"th"),r.Vb(32,"select",34),r.dc("ngModelChange",(function(e){return r.Dc(t),r.hc(2).searchForm.status=e}))("change",(function(){return r.Dc(t),r.hc(2).resetListing()})),r.Vb(33,"option",35),r.Lc(34,"--SELECT--"),r.Ub(),r.Jc(35,G,2,2,"option",36),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.hc(2);r.Cb(3),r.oc("pSortableColumn","branchName"),r.Cb(2),r.oc("field","branchName"),r.Cb(1),r.oc("pSortableColumn","documentNumber"),r.Cb(2),r.oc("field","documentNumber"),r.Cb(1),r.oc("pSortableColumn","postingDate"),r.Cb(2),r.oc("field","postingDate"),r.Cb(1),r.oc("pSortableColumn","deliveryDate"),r.Cb(2),r.oc("field","deliveryDate"),r.Cb(1),r.oc("pSortableColumn","status"),r.Cb(2),r.oc("field","status"),r.Cb(7),r.oc("ngModel",t.searchForm.branchName),r.Cb(2),r.oc("ngModel",t.searchForm.documentNumber),r.Cb(2),r.oc("ngModel",t.searchForm.postingDate)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.appConstants.PICKER_YEAR_RANGE)("dateFormat",t.appConstants.PICKER_DATE_FORMAT),r.Cb(2),r.oc("ngModel",t.searchForm.deliveryDate)("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.appConstants.PICKER_YEAR_RANGE)("dateFormat",t.appConstants.PICKER_DATE_FORMAT),r.Cb(2),r.oc("ngModel",t.searchForm.status),r.Cb(3),r.oc("ngForOf",t.statusList)}}function J(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tr"),r.Vb(1,"td"),r.Vb(2,"a",38),r.Qb(3,"i",39),r.Ub(),r.Vb(4,"a",40),r.dc("click",(function(){r.Dc(t);const n=e.$implicit;return r.hc(2).downloadGatePass(n.id,n.barcodeNumber)})),r.Qb(5,"i",41),r.Lc(6,"\xa0Gate Pass"),r.Ub(),r.Ub(),r.Vb(7,"td"),r.Lc(8),r.Ub(),r.Vb(9,"td"),r.Lc(10),r.Ub(),r.Vb(11,"td"),r.Lc(12),r.Ub(),r.Vb(13,"td"),r.Lc(14),r.Ub(),r.Vb(15,"td"),r.Vb(16,"span",42),r.Lc(17),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=e.$implicit,n=r.hc(2);r.Cb(2),r.qc("routerLink","/branch/transport/transport-edit/",n.utilsService.encrypt(t.id),""),r.Cb(6),r.Mc(t.branchName),r.Cb(2),r.Mc(t.documentNumber),r.Cb(2),r.Mc(t.postingDate),r.Cb(2),r.Mc(t.deliveryDate),r.Cb(2),r.oc("ngClass",n.appConstants.TXN_STATUS_COLOR_CLS[t.status]),r.Cb(1),r.Mc(t.statusName)}}function Q(t,e){if(1&t&&r.Qb(0,"ngx-barcode",43),2&t){const t=e.$implicit,n=r.hc(2);r.oc("bc-element-type",n.barcodeConfig.elementType)("bc-value",t)("bc-format",n.barcodeConfig.format)("bc-line-color",n.barcodeConfig.lineColor)("bc-width",n.barcodeConfig.width)("bc-height",n.barcodeConfig.height)("bc-display-value",n.barcodeConfig.displayValue)}}function X(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"div",1),r.Vb(2,"span"),r.Lc(3,"T"),r.Ub(),r.Lc(4,"ransport - List "),r.Vb(5,"div",2),r.Jc(6,k,4,0,"button",3),r.Vb(7,"button",4),r.Qb(8,"i",5),r.Vb(9,"span"),r.Lc(10,"Add Transport"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(11,"div",6),r.Vb(12,"div",7),r.Vb(13,"div",8),r.Jc(14,R,6,3,"div",9),r.Ub(),r.Ub(),r.Vb(15,"div",8),r.Vb(16,"div",10),r.Vb(17,"div",11),r.Vb(18,"p-table",12,13),r.dc("onLazyLoad",(function(e){return r.Dc(t),r.hc().getListing(e)})),r.Jc(20,B,7,0,"ng-template",14),r.Jc(21,z,36,24,"ng-template",15),r.Jc(22,J,18,7,"ng-template",16),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Jc(23,Q,1,7,"ngx-barcode",17),r.Sb()}if(2&t){const t=r.hc();r.Cb(6),r.oc("ngIf",t.screenAcl.download),r.Cb(8),r.oc("ngForOf",t.analyticsData),r.Cb(4),r.oc("value",t.listing.data)("lazy",!0)("paginator",!0)("rows",t.appConstants.TABLE_DEFAULT_ROWS)("totalRecords",t.listing.totalRecords),r.Cb(5),r.oc("ngForOf",t.barcodeConfig.value)}}let H=(()=>{class t{constructor(t,e,n,r){this.utilsService=t,this.authGuardService=e,this.commonDataService=n,this.transportDataService=r,this.appConstants=u.h,this.screenAcl={},this.analyticsData=[],this.statusList=[],this.barcodeConfig={elementType:"img",value:"".split("\n"),format:"CODE128",lineColor:"#000000",width:2,height:80,displayValue:!0},this.barCodeBlob="",this.listingProperties={},this.listing={data:[],totalRecords:0},this.searchForm={branchName:"",documentNumber:"",postingDate:"",deliveryDate:"",status:""}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("64"),!this.screenAcl.view)return this.utilsService.showFailureMsg(u.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.getAutoSuggestionList("getTransportStatusList"),this.getAnalyticsData()}getListing(t){const e=Object.assign({},this.searchForm);e.postingDate=this.utilsService.getBackendDateFormat(this.searchForm.postingDate),e.deliveryDate=this.utilsService.getBackendDateFormat(this.searchForm.deliveryDate);const n=this.utilsService.dataTableParameterFormation(t,e);this.listingProperties=n,this.transportDataService.getList(n).subscribe(t=>{"SUCCESS"===t.status?(this.listing.data=t.results.searchResults,this.listing.totalRecords=t.results.totalRecords):this.utilsService.showFailureMsg(t)})}clearSearchForm(){this.searchForm={branchName:"",documentNumber:"",postingDate:"",deliveryDate:"",status:""},this.resetListing()}resetListing(){this.dataTable.reset()}getAutoSuggestionList(t){this.commonDataService.getAutoSuggestionList(t).subscribe(t=>{"SUCCESS"===t.status?this.statusList=t.results:this.utilsService.showFailureMsg(t)})}getAnalyticsData(){this.transportDataService.getAnalyticsData().subscribe(t=>{"SUCCESS"===t.status?(this.analyticsData=t.results,this.analyticsData=N.orderBy(this.analyticsData,["id"],["asc"])):this.utilsService.showFailureMsg(t)})}downloadAsExcel(){this.transportDataService.downloadAsExcel(this.listingProperties).subscribe(t=>{"SUCCESS"===t.status?this.utilsService.externalRedirect(t.fileUrl):this.utilsService.showFailureMsg(t)})}downloadGatePass(t,e){this.barcodeConfig.value=e.split("\n"),setTimeout(()=>{this.barCodeBlob=document.querySelectorAll(".barcode img")[0].getAttribute("src"),this.transportDataService.downloadGatePass({id:t,barCodeBlob:this.barCodeBlob}).subscribe(t=>{"SUCCESS"===t.status?this.utilsService.externalRedirect(t.url,!0):this.utilsService.showFailureMsg(t)})},500)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u.g),r.Pb(u.a),r.Pb(l.l),r.Pb(l.kb))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-transport-list"]],viewQuery:function(t,e){var n;1&t&&r.Pc(j,!0),2&t&&r.zc(n=r.ec())&&(e.dataTable=n.first)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"btn-group"],["class","btn btn-success btn-sm",3,"click",4,"ngIf"],["routerLink","/branch/transport/transport-add",1,"btn","btn-primary","btn-sm"],[1,"fa","fa-plus"],[1,"working-container"],[1,"analytics"],[1,"row"],["class","col-lg-2 col-md-3 col-sm-4 col-xs-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"datatable-responsive"],[3,"value","lazy","paginator","rows","totalRecords","onLazyLoad"],["dataTable",""],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["class","d-none",3,"bc-element-type","bc-value","bc-format","bc-line-color","bc-width","bc-height","bc-display-value",4,"ngFor","ngForOf"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-file-excel"],[1,"col-lg-2","col-md-3","col-sm-4","col-xs-12"],[1,"item"],[1,"name"],[1,"count",3,"ngClass"],[2,"width","100px"],[2,"width","150px"],[2,"width","120px"],[3,"pSortableColumn"],[3,"field"],["placement","top","container","body","tooltip","Press Enter key to search",1,"search"],[1,"clear-search",3,"click"],[1,"fa","fa-times"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup.enter"],["appendTo","body",3,"ngModel","monthNavigator","yearNavigator","yearRange","dateFormat","ngModelChange","onSelect"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placement","top","container","body","tooltip","Edit",1,"action","blue",3,"routerLink"],[1,"fa","fa-edit"],["href","javascript:void(0)",3,"click"],[1,"fa","fa-arrow-down"],[1,"badge",3,"ngClass"],[1,"d-none",3,"bc-element-type","bc-value","bc-format","bc-line-color","bc-width","bc-height","bc-display-value"]],template:function(t,e){1&t&&r.Jc(0,X,24,8,"ng-container",0),2&t&&r.oc("ngIf",e.screenAcl.view)},directives:[d.m,c.e,d.l,b.c,f.b,d.k,b.b,b.a,h.a,p.b,p.m,p.o,M.a,p.t,p.p,p.v,c.g,a],styles:[""]}),t})();var q=n("w9rb"),K=n("TlXv"),$=n("K3ix");function W(t,e){if(1&t&&(r.Vb(0,"tr"),r.Vb(1,"td"),r.Lc(2),r.Ub(),r.Vb(3,"td"),r.Lc(4),r.Ub(),r.Vb(5,"td"),r.Lc(6),r.Vb(7,"span",12),r.Lc(8),r.Ub(),r.Ub(),r.Vb(9,"td"),r.Lc(10),r.Ub(),r.Ub()),2&t){const t=e.$implicit,n=e.index,i=r.hc();r.Cb(2),r.Mc(n+1),r.Cb(2),r.Mc(t.documentNumber),r.Cb(2),r.Nc("",t.transportDocumentNumber," - "),r.Cb(1),r.oc("ngClass",i.appConstants.TXN_STATUS_COLOR_CLS[t.transportDocumentStatus]),r.Cb(1),r.Mc(t.transportDocumentStatusName),r.Cb(2),r.Mc(t.invoiceStatusName)}}function Y(t,e){1&t&&(r.Vb(0,"tr"),r.Vb(1,"td",13),r.Lc(2,"No Records Found"),r.Ub(),r.Ub())}const Z=function(){return{"max-height.px":300}};let tt=(()=>{class t{constructor(t,e,n){this.utilsService=t,this.transportDataService=e,this.activeModal=n,this.appConstants=u.h,this.history=[]}ngOnInit(){this.get()}get(){this.transportDataService.getTransportedHistoryForInvoiceNo(this.salesArInvoiceId).subscribe(t=>{"SUCCESS"===t.status?this.history=t.results:this.utilsService.showFailureMsg(t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u.g),r.Pb(l.kb),r.Pb($.a))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-transported-history-for-invoice-popup"]],inputs:{salesArInvoiceId:"salesArInvoiceId"},decls:22,vars:4,consts:[[1,"modal-header"],[1,"modal-title"],[1,"close",3,"click"],[1,"modal-body"],[1,"table-responsive",3,"ngStyle"],[1,"table","table-striped","table-bordered"],[2,"width","40px"],[2,"width","100px"],[2,"width","150px"],[2,"width","120px"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"badge",3,"ngClass"],["colspan","5"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"h5",1),r.Lc(2,"Transported History"),r.Ub(),r.Vb(3,"button",2),r.dc("click",(function(){return e.activeModal.hide()})),r.Vb(4,"span"),r.Lc(5,"\xd7"),r.Ub(),r.Ub(),r.Ub(),r.Vb(6,"div",3),r.Vb(7,"div",4),r.Vb(8,"table",5),r.Vb(9,"thead"),r.Vb(10,"tr"),r.Vb(11,"th",6),r.Lc(12,"S.No"),r.Ub(),r.Vb(13,"th",7),r.Lc(14,"Invoice Doc.No"),r.Ub(),r.Vb(15,"th",8),r.Lc(16,"Transport Doc.No / Status"),r.Ub(),r.Vb(17,"th",9),r.Lc(18,"Status"),r.Ub(),r.Ub(),r.Ub(),r.Vb(19,"tbody"),r.Jc(20,W,11,6,"tr",10),r.Jc(21,Y,3,0,"tr",11),r.Ub(),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Cb(7),r.oc("ngStyle",r.rc(3,Z)),r.Cb(13),r.oc("ngForOf",e.history),r.Cb(1),r.oc("ngIf",0===e.history.length))},directives:[d.n,d.l,d.m,d.k],styles:[""]}),t})();var et=n("IzNV");function nt(t,e){1&t&&(r.Tb(0),r.Lc(1,"Add"),r.Sb())}function rt(t,e){1&t&&(r.Tb(0),r.Lc(1,"Edit"),r.Sb())}function it(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.documentNumberingId?t.myFormErrors.documentNumberingId:t.myFormErrors.documentNumber," ")}}function ot(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.postingDate," ")}}function at(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.deliveryDate," ")}}function st(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.documentDate," ")}}function ct(t,e){if(1&t&&(r.Vb(0,"option",47),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.oc("value",t.id),r.Cb(1),r.Mc(t.name)}}function ut(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.status," ")}}function lt(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.vehicleId," ")}}function dt(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.price," ")}}function bt(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.totalKms," ")}}function ft(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc();r.Cb(1),r.Nc(" ",t.myFormErrors.taxId," ")}}function ht(t,e){1&t&&(r.Vb(0,"div",11),r.Vb(1,"label",12),r.Lc(2,"Enter Invoice No"),r.Ub(),r.Qb(3,"input",48),r.Ub())}function pt(t,e){if(1&t){const t=r.Wb();r.Vb(0,"span",61),r.dc("click",(function(){r.Dc(t);const e=r.hc().index,n=r.hc(2);return n.showTransportedHistoryPopup(n.myFormData.invoiceListArray[e].salesArInvoiceId)})),r.Qb(1,"i",62),r.Ub()}}function mt(t,e){if(1&t&&(r.Vb(0,"div",46),r.Lc(1),r.Ub()),2&t){const t=r.hc().index,e=r.hc(2);r.Cb(1),r.Nc(" ",e.myFormErrors.invoiceListArray[t].salesArInvoiceId," ")}}function vt(t,e){if(1&t){const t=r.Wb();r.Vb(0,"tr",54),r.Vb(1,"td"),r.Vb(2,"a",55),r.dc("click",(function(){r.Dc(t);const n=e.index;return r.hc(2).removeInvoiceFields(n)})),r.Qb(3,"i",56),r.Ub(),r.Ub(),r.Vb(4,"td"),r.Vb(5,"div",57),r.Qb(6,"ng-select",58),r.Jc(7,pt,2,0,"span",59),r.Ub(),r.Jc(8,mt,2,1,"div",17),r.Ub(),r.Vb(9,"td"),r.Qb(10,"input",60),r.Ub(),r.Ub()}if(2&t){const t=e.index,n=r.hc(2);r.oc("formGroupName",t),r.Cb(6),r.oc("items",n.invoiceList),r.Cb(1),r.oc("ngIf",n.myFormData.invoiceListArray[t].salesArInvoiceId),r.Cb(1),r.oc("ngIf",n.myFormErrors.invoiceListArray[t].salesArInvoiceId)}}function gt(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",28),r.Vb(1,"table",29),r.Vb(2,"thead"),r.Vb(3,"tr"),r.Vb(4,"th"),r.Lc(5,"Action"),r.Ub(),r.Vb(6,"th"),r.Lc(7,"Invoice"),r.Vb(8,"span",13),r.Lc(9,"*"),r.Ub(),r.Ub(),r.Vb(10,"th"),r.Lc(11,"Transporting Partial Items from Invoice?"),r.Vb(12,"span",13),r.Lc(13,"*"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(14,"tbody",49),r.Jc(15,vt,11,4,"tr",50),r.Ub(),r.Vb(16,"tfoot"),r.Vb(17,"tr"),r.Vb(18,"td",51),r.Vb(19,"button",52),r.dc("click",(function(){return r.Dc(t),r.hc().addInvoiceFields()})),r.Qb(20,"i",53),r.Vb(21,"span"),r.Lc(22,"Add Invoice"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&t){const t=r.hc();r.Cb(15),r.oc("ngForOf",t.myForm.controls.invoiceListArray.controls)}}function yt(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",63),r.dc("click",(function(){return r.Dc(t),r.hc().confirmSaveUpdate()})),r.Qb(1,"i",64),r.Vb(2,"span"),r.Lc(3,"Save"),r.Ub(),r.Ub()}}function Ct(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.dc("click",(function(){return r.Dc(t),r.hc().clearForm()})),r.Qb(1,"i",65),r.Vb(2,"span"),r.Lc(3,"Clear"),r.Ub(),r.Ub()}}function _t(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",63),r.dc("click",(function(){return r.Dc(t),r.hc().confirmSaveUpdate()})),r.Qb(1,"i",66),r.Vb(2,"span"),r.Lc(3,"Update"),r.Ub(),r.Ub()}}function St(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",3),r.dc("click",(function(){return r.Dc(t),r.hc().utilsService.goBack()})),r.Qb(1,"i",67),r.Vb(2,"span"),r.Lc(3,"Cancel"),r.Ub(),r.Ub()}}function Et(t,e){1&t&&(r.Vb(0,"div",70),r.Vb(1,"span",71),r.Lc(2,"Note:"),r.Ub(),r.Lc(3," You are unauthorized to "),r.Vb(4,"strong"),r.Lc(5,"update"),r.Ub(),r.Lc(6," this transaction! "),r.Ub())}function Lt(t,e){1&t&&(r.Vb(0,"div",70),r.Vb(1,"span",71),r.Lc(2,"Note:"),r.Ub(),r.Lc(3," Cannot update "),r.Vb(4,"strong"),r.Lc(5,"Cancelled"),r.Ub(),r.Lc(6," / "),r.Vb(7,"strong"),r.Lc(8,"Closed"),r.Ub(),r.Lc(9," transactions! "),r.Ub())}function Ot(t,e){if(1&t&&(r.Vb(0,"div",68),r.Vb(1,"div"),r.Vb(2,"strong"),r.Lc(3,"Created By:"),r.Ub(),r.Lc(4),r.Ub(),r.Jc(5,Et,7,0,"div",69),r.Jc(6,Lt,10,0,"div",69),r.Ub()),2&t){const t=r.hc();r.Cb(4),r.Nc(" ",t.editCreatedName,""),r.Cb(1),r.oc("ngIf",!t.screenAcl.update),r.Cb(1),r.oc("ngIf","1"!==t.editStatusId)}}function Vt(t,e){1&t&&(r.Vb(0,"div",68),r.Vb(1,"span",71),r.Lc(2,"Note:"),r.Ub(),r.Lc(3," You are unauthorized to "),r.Vb(4,"strong"),r.Lc(5,"add"),r.Ub(),r.Lc(6," this transaction!. "),r.Ub())}let wt=(()=>{class t{constructor(t,e,n,r,i,o,a,s){this.utilsService=t,this.authGuardService=e,this.transportDataService=n,this.commonDataService=r,this.branchUtilsService=i,this.formBuilder=o,this.activatedRoute=a,this.modalService=s,this.appConstants=u.h,this.screenAcl={},this.documentNumberingList=[],this.statusList=[],this.taxList=[],this.vehicleList=[],this.invoiceList=[],this.myFormData={},this.myFormErrors={documentNumberingId:"",documentNumber:"",postingDate:"",deliveryDate:"",documentDate:"",status:"",vehicleId:"",price:"",totalKms:"",taxId:"",invoiceListArray:[]},this.myFormValidationMsgs={documentNumberingId:{required:"Document No is required"},documentNumber:{required:"Document No is required"},postingDate:{required:"Posting Date is required"},deliveryDate:{required:"Delivery Date is required"},documentDate:{required:"Document Date is required"},status:{required:"Status is required"},vehicleId:{required:"Vehicle Name is required"},price:{pattern:"Only positive numbers are allowed"},totalKms:{pattern:"Only positive numbers are allowed"},taxId:{required:"Tax Code is required"},invoiceListArray:{salesArInvoiceId:{required:"Invoice is required"}}}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("64"),!this.screenAcl.view)return this.utilsService.showFailureMsg(u.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.initializeForm(),this.initializeSubscriptions()}ngAfterViewInit(){this.attachmentsComponent.loadAttachments(this.inputEditId),this.udfViewerComponent.getFields(this.inputEditId)}initializeSubscriptions(){this.activatedRoute.params.subscribe(t=>{t.id?(this.inputEditId=this.utilsService.decrypt(t.id),this.get()):(this.branchUtilsService.getMasterDocumentNumbering(this.myForm,this.branchUtilsService.screenAttributes.transport.documentTypeId).subscribe(t=>{this.documentNumberingList=t}),this.getAutoSuggestionList("getTransportStatusList"),this.getAutoSuggestionList("getTaxList"),this.getAutoSuggestionList("getVehicleList"),this.getInvoiceList())})}initializeForm(){this.myForm=this.formBuilder.group({documentNumberingId:[null,[p.u.required]],documentNumber:["",[p.u.required]],documentNumberingType:[""],referenceNumber:[""],postingDate:[new Date,[p.u.required]],deliveryDate:[new Date,[p.u.required]],documentDate:[new Date,[p.u.required]],status:["1",[p.u.required]],remarks:[""],vehicleId:[null,[p.u.required]],vendorName:[""],price:["0.00",[p.u.pattern(this.appConstants.VALIDATION_PATTERNS.positiveFloatNumber)]],totalKms:["0",[p.u.pattern(this.appConstants.VALIDATION_PATTERNS.positiveIntNumber)]],taxId:[null,[p.u.required]],taxPercentage:["0.00"],taxValue:["0.00"],totalAmount:["0.00"],invoiceType:["1"],manualInvoiceNumber:[],deletedInvoiceIds:[[]],invoiceListArray:this.formBuilder.array([this.initInvoiceFields()])}),this.myForm.valueChanges.subscribe(t=>{this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs),this.myFormData=this.myForm.getRawValue()}),this.myFormData=this.myForm.getRawValue(),this.removeInvoiceFields(0)}addInvoiceFields(t){this.myForm.controls.invoiceListArray.push(this.initInvoiceFields(t))}initInvoiceFields(t){const e={salesArInvoiceId:null,status:"",id:""};t&&(e.salesArInvoiceId=t.salesArInvoiceId,e.status=t.status,e.id=t.id),this.myFormErrors.invoiceListArray.push({salesArInvoiceId:""});let n=!1;return t&&t.gatepassHistory.length>0&&"2"===t.gatepassHistory[0].status&&(n=!0),this.formBuilder.group({salesArInvoiceId:[{value:e.salesArInvoiceId,disabled:n},[p.u.required]],status:["2"===e.status],id:[e.id]})}removeInvoiceFields(t){const e=this.myFormData.invoiceListArray[t].id;if(e){const t=this.myFormData.deletedInvoiceIds;t.push(e),this.myForm.patchValue({deletedInvoiceIds:t})}this.myForm.controls.invoiceListArray.removeAt(t)}confirmSaveUpdate(){if(!this.myForm.valid||!this.udfViewerComponent.valid())return this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs,!0),this.udfViewerComponent.checkValidations(),!1;if("1"===this.myFormData.invoiceType&&0===this.myFormData.invoiceListArray.length)return this.utilsService.showFailureMsg("Please add atleast one invoice info"),!1;const t=[];if(this.myFormData.invoiceListArray.forEach(e=>{t.push(e.salesArInvoiceId)}),N.uniq(t).length!==this.myFormData.invoiceListArray.length)return this.utilsService.showFailureMsg("Cannot Proceed! - Selected same invoice in multiple rows"),!1;let e=0;this.myFormData.invoiceListArray.forEach(t=>{!t.status&&(e+=1)}),e>0?this.utilsService.confirmDialog("Confirmation","One or more selected invoice transporting fully. Do you wish to proceed?").content.confirmation.subscribe(t=>{t&&this.saveUpdate()}):this.saveUpdate()}saveUpdate(){const t={documentNumberingId:this.myFormData.documentNumberingId,documentNumber:this.myFormData.documentNumber,documentNumberingType:this.myFormData.documentNumberingType,referenceNumber:this.myFormData.referenceNumber,postingDate:this.utilsService.getBackendDateFormat(this.myFormData.postingDate),deliveryDate:this.utilsService.getBackendDateFormat(this.myFormData.deliveryDate),documentDate:this.utilsService.getBackendDateFormat(this.myFormData.documentDate),status:this.myFormData.status,remarks:this.myFormData.remarks,vehicleId:this.myFormData.vehicleId,price:this.myFormData.price,totalKms:this.myFormData.totalKms,taxId:this.myFormData.taxId,taxPercentage:this.myFormData.taxPercentage,taxValue:this.myFormData.taxValue,totalAmount:this.myFormData.totalAmount,invoiceType:this.myFormData.invoiceType,manualInvoiceNumber:this.myFormData.manualInvoiceNumber,invoiceListArray:[],udfFields:JSON.stringify(this.udfViewerComponent.getFormValues())};let e;this.myFormData.invoiceListArray.forEach(e=>{t.invoiceListArray.push({salesArInvoiceId:e.salesArInvoiceId,status:!0===e.status?"2":"1",id:e.id})}),this.inputEditId?(e="update",t.id=this.inputEditId,t.deletedInvoiceIds=this.myFormData.deletedInvoiceIds):e="save",this.transportDataService[e](t).subscribe(t=>{"SUCCESS"===t.status?(this.utilsService.showSuccessMsg(t),this.attachmentsComponent.save("save"===e?t.sId:this.inputEditId)):this.utilsService.showFailureMsg(t)})}get(){this.transportDataService.get(this.inputEditId).subscribe(t=>{if("SUCCESS"===t.status){const e=t.results,n={};this.utilsService.updateObject(n,"documentNumberingId",e.documentNumberingId),this.utilsService.updateObject(n,"documentNumber",e.documentNumber),this.utilsService.updateObject(n,"documentNumberingType",e.documentNumberingInfo.length>0?e.documentNumberingInfo[0].documentNumberingType:""),this.utilsService.updateObject(n,"referenceNumber",e.referenceNumber),this.utilsService.updateObject(n,"postingDate",e.postingDate,"date"),this.utilsService.updateObject(n,"deliveryDate",e.deliveryDate,"date"),this.utilsService.updateObject(n,"documentDate",e.documentDate,"date"),this.utilsService.updateObject(n,"status",e.status),this.utilsService.updateObject(n,"remarks",e.remarks),this.utilsService.updateObject(n,"vehicleId",e.vehicleId),this.utilsService.updateObject(n,"price",e.price),this.utilsService.updateObject(n,"totalKms",e.totalKms),this.utilsService.updateObject(n,"taxId",e.taxId),this.utilsService.updateObject(n,"taxPercentage",e.taxPercentage),this.utilsService.updateObject(n,"taxValue",e.taxValue),this.utilsService.updateObject(n,"totalAmount",e.totalAmount),this.utilsService.updateObject(n,"invoiceType",e.invoiceType),this.utilsService.updateObject(n,"manualInvoiceNumber",e.manualInvoiceNumber),this.myForm.patchValue(n),this.branchUtilsService.getMasterDocumentNumbering(this.myForm,this.branchUtilsService.screenAttributes.transport.documentTypeId,"edit",e.documentNumberingInfo).subscribe(t=>{this.documentNumberingList=t}),this.getAutoSuggestionList("getTransportStatusList"),this.getAutoSuggestionList("getTaxList",e.taxInfo),this.getAutoSuggestionList("getVehicleList",e.vehicleInfo);const r=[];e.invoiceListArray.forEach(t=>{this.addInvoiceFields(Object.assign(Object.assign({},t),{gatepassHistory:e.gatepassHistory})),r.push(t.salesArInvoiceInfo[0])}),this.getInvoiceList(r),"1"===e.status&&(this.myForm.controls.documentNumberingId.disable(),this.myForm.controls.documentNumber.disable(),this.myForm.controls.invoiceType.disable()),this.editStatusId=e.status,this.editCreatedName=e.createdByInfo[0].employeeName,e.gatepassHistory.length>0&&"2"===e.gatepassHistory[0].status&&this.myForm.controls.vehicleId.disable()}else this.utilsService.showFailureMsg(t)})}clearForm(){this.initializeForm()}onVehicleChange(){const t=N.findIndex(this.vehicleList,{id:this.myFormData.vehicleId});let e="";e=t>=0?this.vehicleList[t].vendorBpInfo[0].partnerCode+" - "+this.vehicleList[t].vendorBpInfo[0].partnerName:"",this.myForm.patchValue({vendorName:e})}onTaxChange(){const t=N.findIndex(this.taxList,{id:this.myFormData.taxId});let e=0;e=t>=0?this.taxList[t].attributePercentage:0,this.myForm.patchValue({taxPercentage:e}),this.calculateTotal()}onInvoiceTypeChange(){return"2"===this.myFormData.invoiceType&&this.myFormData.invoiceListArray.length>0?(this.utilsService.confirmDialog("Confirmation","On changing invoice type will clear the list. Do yu wish to continue?").content.confirmation.subscribe(t=>{t?this.myFormData.invoiceListArray.forEach(t=>{this.removeInvoiceFields(0)}):this.myForm.patchValue({invoiceType:"1"})}),!1):"1"===this.myFormData.invoiceType?(this.myForm.patchValue({manualInvoiceNumber:""}),!1):void 0}calculateTotal(){const t=parseFloat(this.myFormData.price||0)*parseFloat(this.myFormData.totalKms||0),e=t/100*parseFloat(this.myFormData.taxPercentage||0);this.myForm.patchValue({taxValue:e,totalAmount:t+e})}showTransportedHistoryPopup(t){const e={backdrop:"static"};e.initialState={salesArInvoiceId:t},this.modalService.show(tt,e)}redirectToList(){this.utilsService.redirect("/branch/transport/transport-list")}getAutoSuggestionList(t,e){this.commonDataService.getAutoSuggestionList(t).subscribe(n=>{"SUCCESS"===n.status?(this.utilsService.ifNotPushToList(n.results,e),"getTransportStatusList"===t?n.results.map(t=>{"2"===t.id?"1"!==this.myFormData.status&&this.statusList.push(t):this.statusList.push(t)}):"getTaxList"===t?this.taxList=n.results:"getVehicleList"===t&&(this.vehicleList=n.results.map(t=>(t.searchText=t.vehicleCode+" - "+t.description,t)),this.onVehicleChange())):this.utilsService.showFailureMsg(n)})}getInvoiceList(t){this.transportDataService.getInvoiceList().subscribe(e=>{"SUCCESS"===e.status?(this.utilsService.ifNotPushToList(e.results,t),this.invoiceList=e.results):this.utilsService.showFailureMsg(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u.g),r.Pb(u.a),r.Pb(l.kb),r.Pb(l.l),r.Pb(et.a),r.Pb(p.e),r.Pb(c.a),r.Pb($.b))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-transport-add"]],viewQuery:function(t,e){var n;1&t&&(r.Pc(q.a,!0),r.Pc(K.a,!0)),2&t&&(r.zc(n=r.ec())&&(e.attachmentsComponent=n.first),r.zc(n=r.ec())&&(e.udfViewerComponent=n.first))},decls:142,vars:44,consts:[[1,"page-title"],[4,"ngIf"],[1,"btn-group"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-arrow-left"],[1,"working-container",3,"formGroup"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-form"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"mandatory"],[1,"col-sm-6"],["formControlName","documentNumberingId","bindLabel","documentNumberingName","bindValue","id","placeholder","--SELECT--",3,"items","change"],["type","text","formControlName","documentNumber",1,"form-control","form-control-sm"],["class","validation-error",4,"ngIf"],["type","text","formControlName","referenceNumber",1,"form-control","form-control-sm"],["formControlName","postingDate",3,"monthNavigator","yearNavigator","yearRange","dateFormat"],["class"," validation-error",4,"ngIf"],["formControlName","deliveryDate",3,"monthNavigator","yearNavigator","yearRange","dateFormat"],["formControlName","documentDate",3,"monthNavigator","yearNavigator","yearRange","dateFormat"],["formControlName","status",1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-sm-6"],["formControlName","remarks","rows","2",1,"form-control","form-control-sm"],[1,"box-body","box-table"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],["formControlName","vehicleId","bindLabel","searchText","bindValue","id","placeholder","--SELECT--","appendTo","body",3,"items","multiple","change"],["type","text","formControlName","price",1,"form-control","form-control-sm",3,"keyup"],["type","text","formControlName","totalKms",1,"form-control","form-control-sm",3,"keyup"],["formControlName","taxId","bindLabel","taxCode","bindValue","id","placeholder","--SELECT--","appendTo","body",3,"items","multiple","change"],["formControlName","invoiceType",1,"form-control","form-control-sm",3,"change"],["value","1"],["value","2"],["class","form-group col-sm-3",4,"ngIf"],["class","table-responsive",4,"ngIf"],[3,"type"],[3,"type","doSuccess"],[1,"btn-group","text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class"," btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[1,"validation-error"],[3,"value"],["type","text","formControlName","manualInvoiceNumber",1,"form-control","form-control-sm"],["formArrayName","invoiceListArray"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","5"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-plus"],[3,"formGroupName"],["placement","bottom","container","body","tooltip","Delete",1,"action","red",3,"click"],[1,"fa","fa-minus-circle"],[1,"position-relative"],["formControlName","salesArInvoiceId","bindLabel","documentNumber","bindValue","id","placeholder","--SELECT--","appendTo","body",3,"items"],["class","info-icon","placement","bottom","container","body","tooltip","Show transported history",3,"click",4,"ngIf"],["type","checkbox","formControlName","status"],["placement","bottom","container","body","tooltip","Show transported history",1,"info-icon",3,"click"],[1,"fa","fa-info-circle"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save"],[1,"fa","fa-broom"],[1,"fa","fa-redo-alt"],[1,"fa","fa-times"],[1,"alert","alert-info","mt-3"],["class","mt-2",4,"ngIf"],[1,"mt-2"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"span"),r.Lc(2,"T"),r.Ub(),r.Lc(3,"ansport - "),r.Jc(4,nt,2,0,"ng-container",1),r.Jc(5,rt,2,0,"ng-container",1),r.Vb(6,"div",2),r.Vb(7,"button",3),r.dc("click",(function(){return e.utilsService.goBack()})),r.Qb(8,"i",4),r.Vb(9,"span"),r.Lc(10,"Back"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(11,"div",5),r.Vb(12,"div",6),r.Vb(13,"div",7),r.Qb(14,"i",8),r.Lc(15,"Basic Info "),r.Ub(),r.Vb(16,"div",9),r.Vb(17,"div",10),r.Vb(18,"div",11),r.Vb(19,"label",12),r.Lc(20,"Doc No"),r.Vb(21,"span",13),r.Lc(22,"*"),r.Ub(),r.Ub(),r.Vb(23,"div",10),r.Vb(24,"div",14),r.Vb(25,"ng-select",15),r.dc("change",(function(){return e.branchUtilsService.onDocumentNumberingChange(e.documentNumberingList,e.myForm)})),r.Ub(),r.Ub(),r.Vb(26,"div",14),r.Qb(27,"input",16),r.Ub(),r.Ub(),r.Jc(28,it,2,1,"div",17),r.Ub(),r.Vb(29,"div",11),r.Vb(30,"label",12),r.Lc(31,"Reference No"),r.Ub(),r.Qb(32,"input",18),r.Ub(),r.Vb(33,"div",11),r.Vb(34,"label",12),r.Lc(35,"Posting Date"),r.Vb(36,"span",13),r.Lc(37,"*"),r.Ub(),r.Ub(),r.Qb(38,"p-calendar",19),r.Jc(39,ot,2,1,"div",20),r.Ub(),r.Vb(40,"div",11),r.Vb(41,"label",12),r.Lc(42,"Delivery Date"),r.Vb(43,"span",13),r.Lc(44,"*"),r.Ub(),r.Ub(),r.Qb(45,"p-calendar",21),r.Jc(46,at,2,1,"div",20),r.Ub(),r.Vb(47,"div",11),r.Vb(48,"label",12),r.Lc(49,"Document Date"),r.Vb(50,"span",13),r.Lc(51,"*"),r.Ub(),r.Ub(),r.Qb(52,"p-calendar",22),r.Jc(53,st,2,1,"div",20),r.Ub(),r.Vb(54,"div",11),r.Vb(55,"label",12),r.Lc(56,"Status"),r.Vb(57,"span",13),r.Lc(58,"*"),r.Ub(),r.Ub(),r.Vb(59,"select",23),r.Jc(60,ct,2,2,"option",24),r.Ub(),r.Jc(61,ut,2,1,"div",17),r.Ub(),r.Vb(62,"div",25),r.Vb(63,"label",12),r.Lc(64,"Remarks"),r.Ub(),r.Qb(65,"textarea",26),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(66,"div",6),r.Vb(67,"div",7),r.Qb(68,"i",8),r.Lc(69,"Vehicle Info "),r.Ub(),r.Vb(70,"div",27),r.Vb(71,"div",28),r.Vb(72,"table",29),r.Vb(73,"thead"),r.Vb(74,"tr"),r.Vb(75,"th"),r.Lc(76,"Vehicle Name"),r.Vb(77,"span",13),r.Lc(78,"*"),r.Ub(),r.Ub(),r.Vb(79,"th"),r.Lc(80,"Vendor Name"),r.Ub(),r.Vb(81,"th"),r.Lc(82,"Price / Km"),r.Ub(),r.Vb(83,"th"),r.Lc(84,"Total Kms"),r.Ub(),r.Vb(85,"th"),r.Lc(86,"Tax Code"),r.Vb(87,"span",13),r.Lc(88,"*"),r.Ub(),r.Ub(),r.Vb(89,"th"),r.Lc(90,"Tax %"),r.Ub(),r.Vb(91,"th"),r.Lc(92,"Tax Value"),r.Ub(),r.Vb(93,"th"),r.Lc(94,"Total"),r.Ub(),r.Ub(),r.Ub(),r.Vb(95,"tbody"),r.Vb(96,"tr"),r.Vb(97,"td"),r.Vb(98,"ng-select",30),r.dc("change",(function(){return e.onVehicleChange()})),r.Ub(),r.Jc(99,lt,2,1,"div",20),r.Ub(),r.Vb(100,"td"),r.Lc(101),r.Ub(),r.Vb(102,"td"),r.Vb(103,"input",31),r.dc("keyup",(function(){return e.calculateTotal()})),r.Ub(),r.Jc(104,dt,2,1,"div",20),r.Ub(),r.Vb(105,"td"),r.Vb(106,"input",32),r.dc("keyup",(function(){return e.calculateTotal()})),r.Ub(),r.Jc(107,bt,2,1,"div",20),r.Ub(),r.Vb(108,"td"),r.Vb(109,"ng-select",33),r.dc("change",(function(){return e.onTaxChange()})),r.Ub(),r.Jc(110,ft,2,1,"div",20),r.Ub(),r.Vb(111,"td"),r.Lc(112),r.Ub(),r.Vb(113,"td"),r.Lc(114),r.Ub(),r.Vb(115,"td"),r.Lc(116),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(117,"div",6),r.Vb(118,"div",7),r.Qb(119,"i",8),r.Lc(120,"Invoice Info "),r.Ub(),r.Vb(121,"div",27),r.Vb(122,"div",10),r.Vb(123,"div",11),r.Vb(124,"label",12),r.Lc(125,"Select Invoice Type"),r.Ub(),r.Vb(126,"select",34),r.dc("change",(function(){return e.onInvoiceTypeChange()})),r.Vb(127,"option",35),r.Lc(128,"SAP Invoice"),r.Ub(),r.Vb(129,"option",36),r.Lc(130,"Manual"),r.Ub(),r.Ub(),r.Ub(),r.Jc(131,ht,4,0,"div",37),r.Ub(),r.Jc(132,gt,23,1,"div",38),r.Ub(),r.Ub(),r.Qb(133,"app-udf-viewer",39),r.Vb(134,"app-attachments",40),r.dc("doSuccess",(function(){return e.redirectToList()})),r.Ub(),r.Vb(135,"div",41),r.Jc(136,yt,4,0,"button",42),r.Jc(137,Ct,4,0,"button",43),r.Jc(138,_t,4,0,"button",44),r.Jc(139,St,4,0,"button",43),r.Ub(),r.Jc(140,Ot,7,3,"div",45),r.Jc(141,Vt,7,0,"div",45),r.Ub()),2&t&&(r.Cb(4),r.oc("ngIf",!e.inputEditId),r.Cb(1),r.oc("ngIf",e.inputEditId),r.Cb(6),r.oc("formGroup",e.myForm),r.Cb(14),r.oc("items",e.documentNumberingList),r.Cb(3),r.oc("ngIf",e.myFormErrors.documentNumberingId||e.myFormErrors.documentNumber),r.Cb(10),r.oc("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.appConstants.PICKER_YEAR_RANGE)("dateFormat",e.appConstants.PICKER_DATE_FORMAT),r.Cb(1),r.oc("ngIf",e.myFormErrors.postingDate),r.Cb(6),r.oc("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.appConstants.PICKER_YEAR_RANGE)("dateFormat",e.appConstants.PICKER_DATE_FORMAT),r.Cb(1),r.oc("ngIf",e.myFormErrors.deliveryDate),r.Cb(6),r.oc("monthNavigator",!0)("yearNavigator",!0)("yearRange",e.appConstants.PICKER_YEAR_RANGE)("dateFormat",e.appConstants.PICKER_DATE_FORMAT),r.Cb(1),r.oc("ngIf",e.myFormErrors.documentDate),r.Cb(7),r.oc("ngForOf",e.statusList),r.Cb(1),r.oc("ngIf",e.myFormErrors.status),r.Cb(37),r.oc("items",e.vehicleList)("multiple",!1),r.Cb(1),r.oc("ngIf",e.myFormErrors.vehicleId),r.Cb(2),r.Nc(" ",e.myFormData.vendorName," "),r.Cb(3),r.oc("ngIf",e.myFormErrors.price),r.Cb(3),r.oc("ngIf",e.myFormErrors.totalKms),r.Cb(2),r.oc("items",e.taxList)("multiple",!1),r.Cb(1),r.oc("ngIf",e.myFormErrors.taxId),r.Cb(2),r.Nc(" ",e.myFormData.taxPercentage," "),r.Cb(2),r.Nc(" ",e.myFormData.taxValue," "),r.Cb(2),r.Nc(" ",e.myFormData.totalAmount," "),r.Cb(15),r.oc("ngIf","2"===e.myFormData.invoiceType),r.Cb(1),r.oc("ngIf","1"===e.myFormData.invoiceType),r.Cb(1),r.oc("type",e.branchUtilsService.screenAttributes.transport.backendKey),r.Cb(1),r.oc("type",e.branchUtilsService.screenAttributes.transport.backendKey),r.Cb(2),r.oc("ngIf",e.screenAcl.add&&!e.inputEditId),r.Cb(1),r.oc("ngIf",!e.inputEditId),r.Cb(1),r.oc("ngIf",e.screenAcl.update&&e.inputEditId&&"1"===e.editStatusId),r.Cb(1),r.oc("ngIf",e.inputEditId),r.Cb(1),r.oc("ngIf",e.inputEditId),r.Cb(1),r.oc("ngIf",!e.inputEditId&&!e.screenAcl.add))},directives:[d.m,p.n,p.i,S.a,p.m,p.g,p.b,M.a,p.t,d.l,p.p,p.v,K.a,q.a,p.d,p.j,h.a,p.a],styles:[""]}),t})();function Ut(t,e){if(1&t&&(r.Vb(0,"div",21),r.Lc(1),r.Ub()),2&t){const t=r.hc(2);r.Cb(1),r.Nc(" ",t.myFormErrors.fromDate," ")}}function It(t,e){if(1&t&&(r.Vb(0,"div",21),r.Lc(1),r.Ub()),2&t){const t=r.hc(2);r.Cb(1),r.Nc(" ",t.myFormErrors.toDate," ")}}function At(t,e){if(1&t&&(r.Vb(0,"div",21),r.Lc(1),r.Ub()),2&t){const t=r.hc(2);r.Cb(1),r.Nc(" ",t.myFormErrors.vendorBpId," ")}}function xt(t,e){if(1&t&&(r.Vb(0,"option",22),r.Lc(1),r.Ub()),2&t){const t=e.$implicit;r.oc("value",t.id),r.Cb(1),r.Mc(t.name)}}function Dt(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"div",1),r.Vb(2,"span"),r.Lc(3,"T"),r.Ub(),r.Lc(4,"ansport Report "),r.Ub(),r.Vb(5,"div",2),r.Vb(6,"div",3),r.Vb(7,"div",4),r.Qb(8,"i",5),r.Lc(9,"Report Search "),r.Ub(),r.Vb(10,"div",6),r.Vb(11,"div",7),r.Vb(12,"div",8),r.Vb(13,"label",9),r.Lc(14,"From Date"),r.Vb(15,"span",10),r.Lc(16,"*"),r.Ub(),r.Ub(),r.Qb(17,"p-calendar",11),r.Jc(18,Ut,2,1,"div",12),r.Ub(),r.Vb(19,"div",8),r.Vb(20,"label",9),r.Lc(21,"To Date"),r.Vb(22,"span",10),r.Lc(23,"*"),r.Ub(),r.Ub(),r.Qb(24,"p-calendar",13),r.Jc(25,It,2,1,"div",12),r.Ub(),r.Vb(26,"div",8),r.Vb(27,"label",9),r.Lc(28,"Vendor Name"),r.Vb(29,"span",10),r.Lc(30,"*"),r.Ub(),r.Ub(),r.Qb(31,"ng-select",14),r.Jc(32,At,2,1,"div",12),r.Ub(),r.Vb(33,"div",8),r.Vb(34,"label",9),r.Lc(35,"Status"),r.Vb(36,"span",10),r.Lc(37,"*"),r.Ub(),r.Ub(),r.Vb(38,"select",15),r.Vb(39,"option",16),r.Lc(40,"--ALL--"),r.Ub(),r.Jc(41,xt,2,2,"option",17),r.Ub(),r.Ub(),r.Vb(42,"div",18),r.Vb(43,"button",19),r.dc("click",(function(){return r.Dc(t),r.hc().downloadReport()})),r.Qb(44,"i",20),r.Vb(45,"span"),r.Lc(46,"Download as Excel"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Sb()}if(2&t){const t=r.hc();r.Cb(5),r.oc("formGroup",t.myForm),r.Cb(12),r.oc("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.appConstants.PICKER_YEAR_RANGE)("dateFormat",t.appConstants.PICKER_DATE_FORMAT),r.Cb(1),r.oc("ngIf",t.myFormErrors.fromDate),r.Cb(6),r.oc("monthNavigator",!0)("yearNavigator",!0)("yearRange",t.appConstants.PICKER_YEAR_RANGE)("dateFormat",t.appConstants.PICKER_DATE_FORMAT),r.Cb(1),r.oc("ngIf",t.myFormErrors.toDate),r.Cb(6),r.oc("items",t.vendorBpList)("multiple",!1),r.Cb(1),r.oc("ngIf",t.myFormErrors.vendorBpId),r.Cb(9),r.oc("ngForOf",t.statusList)}}function Ft(t,e){1&t&&(r.Vb(0,"span"),r.Lc(1,", "),r.Ub())}function Tt(t,e){if(1&t&&(r.Tb(0),r.Lc(1),r.Jc(2,Ft,2,0,"span",0),r.Sb()),2&t){const t=e.$implicit,n=e.last;r.Cb(1),r.Mc(t),r.Cb(1),r.oc("ngIf",!n)}}function Pt(t,e){if(1&t&&(r.Tb(0),r.Lc(1),r.Qb(2,"br"),r.Sb()),2&t){const t=e.$implicit;r.Cb(1),r.Oc(" ",t.statusName," - ",t.dateTime," ")}}function Nt(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",19),r.dc("click",(function(){return r.Dc(t),r.hc(2).gateCheckInOut(2)})),r.Qb(1,"i",20),r.Vb(2,"span"),r.Lc(3,"OUT"),r.Ub(),r.Ub()}}function Mt(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",21),r.dc("click",(function(){return r.Dc(t),r.hc(2).gateCheckInOut(1)})),r.Qb(1,"i",22),r.Vb(2,"span"),r.Lc(3,"IN"),r.Ub(),r.Ub()}}function jt(t,e){if(1&t){const t=r.Wb();r.Tb(0),r.Vb(1,"div",1),r.Vb(2,"span"),r.Lc(3,"G"),r.Ub(),r.Lc(4,"ate Pass "),r.Ub(),r.Vb(5,"div",2),r.Vb(6,"div",3),r.Vb(7,"div",4),r.Vb(8,"label",5),r.Lc(9,"Scan Barcode"),r.Vb(10,"span",6),r.Lc(11,"*"),r.Ub(),r.Ub(),r.Vb(12,"input",7),r.dc("ngModelChange",(function(e){return r.Dc(t),r.hc().barCode=e}))("keyup.enter",(function(){return r.Dc(t),r.hc().getTransportDetails()})),r.Ub(),r.Ub(),r.Ub(),r.Vb(13,"div",8),r.Vb(14,"div",9),r.Qb(15,"i",10),r.Lc(16,"Pass Info "),r.Ub(),r.Vb(17,"div",11),r.Vb(18,"div",3),r.Vb(19,"div",12),r.Vb(20,"div",13),r.Vb(21,"table",14),r.Vb(22,"tbody"),r.Vb(23,"tr"),r.Vb(24,"td"),r.Lc(25,"Vehicle Code / Description"),r.Ub(),r.Vb(26,"td"),r.Lc(27),r.Ub(),r.Ub(),r.Vb(28,"tr"),r.Vb(29,"td"),r.Lc(30,"Vendor Code / Name"),r.Ub(),r.Vb(31,"td"),r.Lc(32),r.Ub(),r.Ub(),r.Vb(33,"tr"),r.Vb(34,"td"),r.Lc(35,"Invoices"),r.Ub(),r.Vb(36,"td"),r.Jc(37,Tt,3,2,"ng-container",15),r.Ub(),r.Ub(),r.Vb(38,"tr"),r.Vb(39,"td"),r.Lc(40,"Gate History"),r.Ub(),r.Vb(41,"td"),r.Jc(42,Pt,3,2,"ng-container",15),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(43,"div",16),r.Jc(44,Nt,4,0,"button",17),r.Jc(45,Mt,4,0,"button",18),r.Ub(),r.Ub(),r.Sb()}if(2&t){const t=r.hc();r.Cb(12),r.oc("ngModel",t.barCode),r.Cb(15),r.Oc("",t.transportDetails.vehicleCode," / ",t.transportDetails.vehicleDescription,""),r.Cb(5),r.Oc("",t.transportDetails.vendorBpCode," / ",t.transportDetails.vendorBpName,""),r.Cb(5),r.oc("ngForOf",t.transportDetails.invoicesList),r.Cb(5),r.oc("ngForOf",t.transportDetails.gatepassHistory),r.Cb(2),r.oc("ngIf",2===t.showButton),r.Cb(1),r.oc("ngIf",1===t.showButton)}}const kt=c.h.forChild([{path:"vehicle-list",component:_},{path:"vehicle-add",component:P},{path:"vehicle-edit/:id",component:P},{path:"transport-list",component:H},{path:"transport-add",component:wt},{path:"transport-edit/:id",component:wt},{path:"report",component:(()=>{class t{constructor(t,e,n,r,i){this.utilsService=t,this.authGuardService=e,this.transportDataService=n,this.commonDataService=r,this.formBuilder=i,this.appConstants=u.h,this.screenAcl={},this.statusList=[],this.vendorBpList=[],this.myFormData={},this.myFormErrors={fromDate:"",toDate:"",vendorBpId:"",status:""},this.myFormValidationMsgs={fromDate:{required:"From Date is required"},toDate:{required:"To Date is required"},vendorBpId:{required:"Vendor Name is required"}}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("65"),!this.screenAcl.view)return this.utilsService.showFailureMsg(u.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.initializeForm(),this.getAutoSuggestionList("getSalesTransStatusList"),this.getVendorBpList()}initializeForm(){this.myForm=this.formBuilder.group({fromDate:["",[p.u.required]],toDate:["",[p.u.required]],vendorBpId:[null,[p.u.required]],status:[""]}),this.myForm.valueChanges.subscribe(t=>{this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs),this.myFormData=this.myForm.getRawValue()}),this.myFormData=this.myForm.getRawValue()}downloadReport(){if(!this.myForm.valid)return this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs,!0),!1;const t={search:{fromDate:this.utilsService.getBackendDateFormat(this.myFormData.fromDate),toDate:this.utilsService.getBackendDateFormat(this.myFormData.toDate),vendorBpId:this.myFormData.vendorBpId,status:this.myFormData.status},tableProperties:{first:0,rows:10,sortOrder:1}};this.transportDataService.downloadTransportReport(t).subscribe(t=>{"SUCCESS"===t.status?this.utilsService.externalRedirect(t.fileUrl):this.utilsService.showFailureMsg(t)})}getAutoSuggestionList(t){this.commonDataService.getAutoSuggestionList(t).subscribe(t=>{"SUCCESS"===t.status?t.results.map(t=>{"3"!==t.id&&this.statusList.push(t)}):this.utilsService.showFailureMsg(t)})}getVendorBpList(t){this.commonDataService.getBusinessPartnerList([2]).subscribe(e=>{"SUCCESS"===e.status?(this.utilsService.ifNotPushToList(e.results,t),this.vendorBpList=e.results.map(t=>(t.searchText=t.partnerName+" - "+t.partnerCode,t))):this.utilsService.showFailureMsg(e)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u.g),r.Pb(u.a),r.Pb(l.kb),r.Pb(l.l),r.Pb(p.e))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-transport-report"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"working-container",3,"formGroup"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-form"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"mandatory"],["formControlName","fromDate","appendTo","body",3,"monthNavigator","yearNavigator","yearRange","dateFormat"],["class","validation-error",4,"ngIf"],["formControlName","toDate","appendTo","body",3,"monthNavigator","yearNavigator","yearRange","dateFormat"],["formControlName","vendorBpId","bindLabel","searchText","bindValue","id","placeholder","--SELECT--","appendTo","body",3,"items","multiple"],["formControlName","status",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-12","text-right"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-file-excel"],[1,"validation-error"],[3,"value"]],template:function(t,e){1&t&&r.Jc(0,Dt,47,15,"ng-container",0),2&t&&r.oc("ngIf",e.screenAcl.view)},directives:[d.m,p.n,p.i,M.a,p.m,p.g,S.a,p.t,p.p,p.v,d.l],styles:[""]}),t})()},{path:"gate-pass",component:(()=>{class t{constructor(t,e,n){this.utilsService=t,this.authGuardService=e,this.transportDataService=n,this.appConstants=u.h,this.screenAcl={},this.barCode="",this.transportDetails={},this.showButton=0}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("65"),!this.screenAcl.view)return this.utilsService.showFailureMsg(u.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1}getTransportDetails(){if(!this.barCode)return this.utilsService.showFailureMsg("Scan barcode to proceed!"),!1;this.transportDataService.getGatePassByBarCode(this.barCode).subscribe(t=>{var e;if("SUCCESS"===t.status){this.transportDetails=t.results;const n=null===(e=t.results.gatepassHistory)||void 0===e?void 0:e.length;this.showButton=0===n?2:1===n?1:0}else this.utilsService.showFailureMsg("Cannot able to retrive data for this barcode. May be it is invalid / cancelled / closed gate pass")})}gateCheckInOut(t){if(!this.barCode)return this.utilsService.showFailureMsg("Scan barcode to proceed!"),!1;this.transportDataService.gatePassCheckInOut({id:this.transportDetails.id,status:t}).subscribe(t=>{"SUCCESS"===t.status?(this.utilsService.showSuccessMsg(t),this.reset()):this.utilsService.showFailureMsg(t)})}reset(){this.barCode="",this.transportDetails={},this.showButton=0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u.g),r.Pb(u.a),r.Pb(l.kb))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-transport-gate-pass"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"working-container"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"mandatory"],["type","text","autofocus","",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-table"],[1,"col-sm-8"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],[4,"ngFor","ngForOf"],[1,"btn-group"],["class","btn btn-danger btn-lg",3,"click",4,"ngIf"],["class","btn btn-success btn-lg",3,"click",4,"ngIf"],[1,"btn","btn-danger","btn-lg",3,"click"],[1,"fa","fa-arrow-circle-up"],[1,"btn","btn-success","btn-lg",3,"click"],[1,"fa","fa-arrow-circle-down"]],template:function(t,e){1&t&&r.Jc(0,jt,46,9,"ng-container",0),2&t&&r.oc("ngIf",e.screenAcl.view)},directives:[d.m,p.b,p.m,p.o,d.l],styles:[".working-container[_ngcontent-%COMP%]{font-size:16px}.form-label[_ngcontent-%COMP%]{font-family:Open-Sans-SemiBold}.form-control[_ngcontent-%COMP%]{border:2px solid #333;padding-top:20px;padding-bottom:20px;background-color:#fad5c4;font-size:16px}.form-control[_ngcontent-%COMP%]:focus{background-color:#93d4ff}.box-header[_ngcontent-%COMP%]{font-size:16px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child{font-family:Open-Sans-SemiBold}.btn-lg[_ngcontent-%COMP%]{width:150px;font-size:28px}"]}),t})()}]);var Rt=n("o+NB"),Bt=n("N5hj"),Gt=n("dJ0z");let zt=(()=>{class t{}return t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({factory:function(e){return new(e||t)},imports:[[s,kt,Rt.BranchModule,Bt.a,Gt.a]]}),t})()},JB6v:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UPCE=e.UPC=e.EAN2=e.EAN5=e.EAN8=e.EAN13=void 0;var r=u(n("iaK4")),i=u(n("G6U+")),o=u(n("WD9T")),a=u(n("pdJe")),s=u(n("6LKm")),c=u(n("vph/"));function u(t){return t&&t.__esModule?t:{default:t}}e.EAN13=r.default,e.EAN8=i.default,e.EAN5=o.default,e.EAN2=a.default,e.UPC=s.default,e.UPCE=c.default},Kkrk:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.START_BIN="1010",e.END_BIN="11101",e.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},N5hj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("o+NB"),i=n("fXoL");let o=(()=>{class t{}return t.\u0275mod=i.Nb({type:t}),t.\u0275inj=i.Mb({factory:function(e){return new(e||t)},imports:[[r.BranchModule]]}),t})()},NJzS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CODE39=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t=t.toUpperCase(),n.mod43&&(t+=function(t){return a[t]}(function(t){for(var e=0,n=0;n<t.length;n++)e+=u(t[n]);return e%43}(t))),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"encode",value:function(){for(var t=c("*"),e=0;e<this.data.length;e++)t+=c(this.data[e])+"0";return{data:t+=c("*"),text:this.text}}},{key:"valid",value:function(){return-1!==this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)}}]),e}(((r=n("52Lf"))&&r.__esModule?r:{default:r}).default),a=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],s=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function c(t){return function(t){return s[t].toString(2)}(u(t))}function u(t){return a.indexOf(t)}e.CODE39=o},PHz1:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=n("Kkrk");function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var c=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return-1!==this.data.search(/^([0-9]{2})+$/)}},{key:"encode",value:function(){var t=this,e=this.data.match(/.{2}/g).map((function(e){return t.encodePair(e)})).join("");return{data:o.START_BIN+e+o.END_BIN,text:this.text}}},{key:"encodePair",value:function(t){var e=o.BINARIES[t[1]];return o.BINARIES[t[0]].split("").map((function(t,n){return("1"===t?"111":"1")+("1"===e[n]?"000":"0")})).join("")}}]),e}(((r=n("52Lf"))&&r.__esModule?r:{default:r}).default);e.default=c},RGHy:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("Ek++"))&&r.__esModule?r:{default:r},o=n("blPF"),a=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,o.mod11)(t),n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default);e.default=a},RyeT:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("Ek++"))&&r.__esModule?r:{default:r},o=n("blPF"),a=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t+(0,o.mod10)(t),n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default);e.default=a},SyMb:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n("52Lf"))&&r.__esModule?r:{default:r},a=n("8I5R"),s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.substring(1),n));return r.bytes=t.split("").map((function(t){return t.charCodeAt(0)})),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var t=this.bytes,n=t.shift()-105,r=a.SET_BY_CODE[n];if(void 0===r)throw new RangeError("The encoding does not start with a start character.");!0===this.shouldEncodeAsEan128()&&t.unshift(a.FNC1);var i=e.next(t,1,r);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(n)+i.result+e.getBar((i.checksum+n)%a.MODULO)+e.getBar(a.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var t=this.options.ean128||!1;return"string"==typeof t&&(t="true"===t.toLowerCase()),t}}],[{key:"getBar",value:function(t){return a.BARS[t]?a.BARS[t].toString():""}},{key:"correctIndex",value:function(t,e){if(e===a.SET_A){var n=t.shift();return n<32?n+64:n-32}return e===a.SET_B?t.shift()-32:10*(t.shift()-48)+t.shift()-48}},{key:"next",value:function(t,n,r){if(!t.length)return{result:"",checksum:0};var i=void 0,o=void 0;if(t[0]>=200){o=t.shift()-105;var s=a.SWAP[o];void 0!==s?i=e.next(t,n+1,s):(r!==a.SET_A&&r!==a.SET_B||o!==a.SHIFT||(t[0]=r===a.SET_A?t[0]>95?t[0]-96:t[0]:t[0]<32?t[0]+96:t[0]),i=e.next(t,n+1,r))}else o=e.correctIndex(t,r),i=e.next(t,n+1,r);return{result:e.getBar(o)+i.result,checksum:o*n+i.checksum}}}]),e}(o.default);e.default=s},TO02:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.object=e,this.encodings=n,this.options=r}return r(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();e.default=i},UmEg:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var n in e)e.hasOwnProperty(n)&&"string"==typeof t[n=e[n]]&&(t[n]=parseInt(t[n],10));return"string"==typeof t.displayValue&&(t.displayValue="false"!=t.displayValue),t}},VyaE:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("wkMt");e.default=function(t,e,n){var i=t.split("").map((function(t,n){return r.BINARIES[e[n]]})).map((function(e,n){return e?e[t[n]]:""}));if(n){var o=t.length-1;i=i.map((function(t,e){return e<o?t+n:t}))}return i.join("")}},WD9T:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n("wkMt"),o=a(n("VyaE"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{5}$/)}},{key:"encode",value:function(){var t,e=i.EAN5_STRUCTURE[(t=this.data,t.split("").map((function(t){return+t})).reduce((function(t,e,n){return n%2?t+9*e:t+3*e}),0)%10)];return{data:"1011"+(0,o.default)(this.data,e,"01"),text:this.text}}}]),e}(a(n("52Lf")).default);e.default=s},YsXA:function(t,e,n){"use strict";var r=b(n("/4Rl")),i=b(n("/XyT")),o=b(n("orCN")),a=b(n("efHi")),s=b(n("sdgK")),c=b(n("UmEg")),u=b(n("vYpS")),l=n("3KJX"),d=b(n("yjKC"));function b(t){return t&&t.__esModule?t:{default:t}}var f=function(){},h=function(t,e,n){var r=new f;if(void 0===t)throw Error("No element to render on was provided.");return r._renderProperties=(0,s.default)(t),r._encodings=[],r._options=d.default,r._errorHandler=new u.default(r),void 0!==e&&((n=n||{}).format||(n.format=g()),r.options(n)[n.format](e,n).render()),r};for(var p in h.getModule=function(t){return r.default[t]},r.default)r.default.hasOwnProperty(p)&&m(r.default,p);function m(t,e){f.prototype[e]=f.prototype[e.toUpperCase()]=f.prototype[e.toLowerCase()]=function(n,r){var o=this;return o._errorHandler.wrapBarcodeCall((function(){r.text=void 0===r.text?void 0:""+r.text;var a=(0,i.default)(o._options,r);a=(0,c.default)(a);var s=v(n,t[e],a);return o._encodings.push(s),o}))}}function v(t,e,n){var r=new e(t=""+t,n);if(!r.valid())throw new l.InvalidInputException(r.constructor.name,t);var a=r.encode();a=(0,o.default)(a);for(var s=0;s<a.length;s++)a[s].options=(0,i.default)(n,a[s].options);return a}function g(){return r.default.CODE128?"CODE128":Object.keys(r.default)[0]}function y(t,e,n){e=(0,o.default)(e);for(var r=0;r<e.length;r++)e[r].options=(0,i.default)(n,e[r].options),(0,a.default)(e[r].options);(0,a.default)(n),new(0,t.renderer)(t.element,e,n).render(),t.afterRender&&t.afterRender()}f.prototype.options=function(t){return this._options=(0,i.default)(this._options,t),this},f.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this},f.prototype.init=function(){var t;if(this._renderProperties)for(var e in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){var n=(0,i.default)(this._options,(t=this._renderProperties[e]).options);"auto"==n.format&&(n.format=g()),this._errorHandler.wrapBarcodeCall((function(){var e=v(n.value,r.default[n.format.toUpperCase()],n);y(t,e,n)}))}},f.prototype.render=function(){if(!this._renderProperties)throw new l.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)y(this._renderProperties[t],this._encodings,this._options);else y(this._renderProperties,this._encodings,this._options);return this},f.prototype._defaults=d.default,"undefined"!=typeof window&&(window.JsBarcode=h),"undefined"!=typeof jQuery&&(jQuery.fn.JsBarcode=function(t,e){var n=[];return jQuery(this).each((function(){n.push(this)})),h(n,t,e)}),t.exports=h},blPF:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mod10=function(t){for(var e=0,n=0;n<t.length;n++){var r=parseInt(t[n]);e+=(n+t.length)%2==0?r:2*r%10+Math.floor(2*r/10)}return(10-e%10)%10},e.mod11=function(t){for(var e=0,n=[2,3,4,5,6,7],r=0;r<t.length;r++){var i=parseInt(t[t.length-1-r]);e+=n[r%n.length]*i}return(11-e%11)%11}},byS7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n("SyMb")),i=o(n("u12M"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var s=function(t){function e(t,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(t))var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,i.default)(t),n));else r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return a(r)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(r.default);e.default=s},cLAh:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n("SyMb"))&&r.__esModule?r:{default:r},a=n("8I5R"),s=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,a.B_START_CHAR+t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return new RegExp("^"+a.B_CHARS+"+$").test(this.data)}}]),e}(o.default);e.default=s},cho7:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n("/XyT"))&&r.__esModule?r:{default:r},a=n("q1t9"),s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=e,this.encodings=n,this.options=r}return i(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var t=0;t<this.encodings.length;t++){var e=(0,o.default)(this.options,this.encodings[t].options);this.drawCanvasBarcode(e,this.encodings[t]),this.drawCanvasText(e,this.encodings[t]),this.moveCanvasDrawing(this.encodings[t])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var t=this.canvas.getContext("2d");t.save(),(0,a.calculateEncodingAttributes)(this.encodings,this.options,t);var e=(0,a.getTotalWidthOfEncodings)(this.encodings),n=(0,a.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=n,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(t.fillStyle=this.options.background,t.fillRect(0,0,this.canvas.width,this.canvas.height)),t.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(t,e){var n,r=this.canvas.getContext("2d"),i=e.data;n="top"==t.textPosition?t.marginTop+t.fontSize+t.textMargin:t.marginTop,r.fillStyle=t.lineColor;for(var o=0;o<i.length;o++){var a=o*t.width+e.barcodePadding;"1"===i[o]?r.fillRect(a,n,t.width,t.height):i[o]&&r.fillRect(a,n,t.width,t.height*i[o])}}},{key:"drawCanvasText",value:function(t,e){var n,r,i=this.canvas.getContext("2d");t.displayValue&&(r="top"==t.textPosition?t.marginTop+t.fontSize-t.textMargin:t.height+t.textMargin+t.marginTop+t.fontSize,i.font=t.fontOptions+" "+t.fontSize+"px "+t.font,"left"==t.textAlign||e.barcodePadding>0?(n=0,i.textAlign="left"):"right"==t.textAlign?(n=e.width-1,i.textAlign="right"):(n=e.width/2,i.textAlign="center"),i.fillText(e.text,n,r))}},{key:"moveCanvasDrawing",value:function(t){this.canvas.getContext("2d").translate(t.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),t}();e.default=s},dSvQ:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(n("cho7")),i=a(n("vl4V")),o=a(n("TO02"));function a(t){return t&&t.__esModule?t:{default:t}}e.default={CanvasRenderer:r.default,SVGRenderer:i.default,ObjectRenderer:o.default}},efHi:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}},fLmL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pharmacode=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.number=parseInt(t,10),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"encode",value:function(){for(var t=this.number,e="";!isNaN(t)&&0!=t;)t%2==0?(e="11100"+e,t=(t-2)/2):(e="100"+e,t=(t-1)/2);return{data:e=e.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(((r=n("52Lf"))&&r.__esModule?r:{default:r}).default);e.pharmacode=o},"gF+w":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("Ek++"))&&r.__esModule?r:{default:r},o=n("blPF"),a=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t+=(0,o.mod11)(t),t+=(0,o.mod10)(t),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default);e.default=a},iGFM:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("Ek++"))&&r.__esModule?r:{default:r},o=n("blPF"),a=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t+=(0,o.mod10)(t),t+=(0,o.mod10)(t),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e}(i.default);e.default=a},iaK4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n("wkMt"),s=(r=n("vf6K"))&&r.__esModule?r:{default:r},c=function(t){return(10-t.substr(0,12).split("").map((function(t){return+t})).reduce((function(t,e,n){return n%2?t+3*e:t+e}),0)%10)%10},u=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),-1!==t.search(/^[0-9]{12}$/)&&(t+=c(t));var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.lastChar=n.lastChar,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{13}$/)&&+this.data[12]===c(this.data)}},{key:"leftText",value:function(){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var t=this.data.substr(1,6),n=a.EAN13_STRUCTURE[this.data[0]];return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,t,n)}},{key:"rightText",value:function(){return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var t=this.data.substr(7,6);return o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,t,"RRRRRR")}},{key:"encodeGuarded",value:function(){var t=o(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(t.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(t.push({data:"00"}),t.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),t}}]),e}(s.default);e.default=u},jlE0:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MSI1110=e.MSI1010=e.MSI11=e.MSI10=e.MSI=void 0;var r=c(n("Ek++")),i=c(n("RyeT")),o=c(n("RGHy")),a=c(n("iGFM")),s=c(n("gF+w"));function c(t){return t&&t.__esModule?t:{default:t}}e.MSI=r.default,e.MSI10=i.default,e.MSI11=o.default,e.MSI1010=a.default,e.MSI1110=s.default},"n/pZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITF14=e.ITF=void 0;var r=o(n("PHz1")),i=o(n("B9+t"));function o(t){return t&&t.__esModule?t:{default:t}}e.ITF=r.default,e.ITF14=i.default},orCN:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=[];return function t(n){if(Array.isArray(n))for(var r=0;r<n.length;r++)t(n[r]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}(t),e}},pdJe:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n("wkMt"),o=a(n("VyaE"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[0-9]{2}$/)}},{key:"encode",value:function(){var t=i.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,o.default)(this.data,t,"01"),text:this.text}}}]),e}(a(n("52Lf")).default);e.default=s},q1t9:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getTotalWidthOfEncodings=e.calculateEncodingAttributes=e.getBarcodePadding=e.getEncodingHeight=e.getMaximumHeightOfEncodings=void 0;var r,i=(r=n("/XyT"))&&r.__esModule?r:{default:r};function o(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function a(t,e,n){if(n.displayValue&&e<t){if("center"==n.textAlign)return Math.floor((t-e)/2);if("left"==n.textAlign)return 0;if("right"==n.textAlign)return Math.floor(t-e)}return 0}function s(t,e,n){var r;if(n)r=n;else{if("undefined"==typeof document)return 0;r=document.createElement("canvas").getContext("2d")}r.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var i=r.measureText(t);return i?i.width:0}e.getMaximumHeightOfEncodings=function(t){for(var e=0,n=0;n<t.length;n++)t[n].height>e&&(e=t[n].height);return e},e.getEncodingHeight=o,e.getBarcodePadding=a,e.calculateEncodingAttributes=function(t,e,n){for(var r=0;r<t.length;r++){var c,u=t[r],l=(0,i.default)(e,u.options);c=l.displayValue?s(u.text,l,n):0;var d=u.data.length*l.width;u.width=Math.ceil(Math.max(c,d)),u.height=o(u,l),u.barcodePadding=a(c,d,l)}},e.getTotalWidthOfEncodings=function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n].width;return e}},qrNs:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(n("UmEg")),i=o(n("yjKC"));function o(t){return t&&t.__esModule?t:{default:t}}e.default=function(t){var e={};for(var n in i.default)i.default.hasOwnProperty(n)&&(t.hasAttribute("jsbarcode-"+n.toLowerCase())&&(e[n]=t.getAttribute("jsbarcode-"+n.toLowerCase())),t.hasAttribute("data-"+n.toLowerCase())&&(e[n]=t.getAttribute("data-"+n.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),(0,r.default)(e)}},sdgK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=s(n("qrNs")),o=s(n("dSvQ")),a=n("3KJX");function s(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e){if("string"==typeof e)return function(e){var n=document.querySelectorAll(e);if(0!==n.length){for(var r=[],i=0;i<n.length;i++)r.push(t(n[i]));return r}}(e);if(Array.isArray(e)){for(var n=[],s=0;s<e.length;s++)n.push(t(e[s]));return n}if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLImageElement)return c=e,{element:u=document.createElement("canvas"),options:(0,i.default)(c),renderer:o.default.CanvasRenderer,afterRender:function(){c.setAttribute("src",u.toDataURL())}};if(e&&e.nodeName&&"svg"===e.nodeName.toLowerCase()||"undefined"!=typeof SVGElement&&e instanceof SVGElement)return{element:e,options:(0,i.default)(e),renderer:o.default.SVGRenderer};if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement)return{element:e,options:(0,i.default)(e),renderer:o.default.CanvasRenderer};if(e&&e.getContext)return{element:e,renderer:o.default.CanvasRenderer};if(e&&"object"===(void 0===e?"undefined":r(e))&&!e.nodeName)return{element:e,renderer:o.default.ObjectRenderer};throw new a.InvalidElementException;var c,u}},u12M:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("8I5R"),i=function(t){return t.match(new RegExp("^"+r.A_CHARS+"*"))[0].length},o=function(t){return t.match(new RegExp("^"+r.B_CHARS+"*"))[0].length},a=function(t){return t.match(new RegExp("^"+r.C_CHARS+"*"))[0]};function s(t,e){var n=e?r.A_CHARS:r.B_CHARS,i=t.match(new RegExp("^("+n+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(i)return i[1]+String.fromCharCode(204)+c(t.substring(i[1].length));var o=t.match(new RegExp("^"+n+"+"))[0];return o.length===t.length?t:o+String.fromCharCode(e?205:206)+s(t.substring(o.length),!e)}function c(t){var e=a(t),n=e.length;if(n===t.length)return t;t=t.substring(n);var r=i(t)>=o(t);return e+String.fromCharCode(r?206:205)+s(t,r)}e.default=function(t){var e=void 0;if(a(t).length>=2)e=r.C_START_CHAR+c(t);else{var n=i(t)>o(t);e=(n?r.A_START_CHAR:r.B_START_CHAR)+s(t,n)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,(function(t,e){return String.fromCharCode(203)+e}))}},vYpS:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=e}return r(t,[{key:"handleCatch",value:function(t){if("InvalidInputException"!==t.name)throw t;if(this.api._options.valid===this.api._defaults.valid)throw t.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(t){try{var e=t.apply(void 0,arguments);return this.api._options.valid(!0),e}catch(n){return this.handleCatch(n),this.api}}}]),t}();e.default=i},vf6K:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=n("wkMt"),o=a(n("VyaE"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return r.fontSize=!n.flat&&n.fontSize>10*n.width?10*n.width:n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(t,e){return this.text.substr(t,e)}},{key:"leftEncode",value:function(t,e){return(0,o.default)(t,e)}},{key:"rightText",value:function(t,e){return this.text.substr(t,e)}},{key:"rightEncode",value:function(t,e){return(0,o.default)(t,e)}},{key:"encodeGuarded",value:function(){var t={fontSize:this.fontSize},e={height:this.guardHeight};return[{data:i.SIDE_BIN,options:e},{data:this.leftEncode(),text:this.leftText(),options:t},{data:i.MIDDLE_BIN,options:e},{data:this.rightEncode(),text:this.rightText(),options:t},{data:i.SIDE_BIN,options:e}]}},{key:"encodeFlat",value:function(){return{data:[i.SIDE_BIN,this.leftEncode(),i.MIDDLE_BIN,this.rightEncode(),i.SIDE_BIN].join(""),text:this.text}}}]),e}(a(n("52Lf")).default);e.default=s},vl4V:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=(r=n("/XyT"))&&r.__esModule?r:{default:r},a=n("q1t9"),s="http://www.w3.org/2000/svg",c=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.svg=e,this.encodings=n,this.options=r,this.document=r.xmlDocument||document}return i(t,[{key:"render",value:function(){var t=this.options.marginLeft;this.prepareSVG();for(var e=0;e<this.encodings.length;e++){var n=this.encodings[e],r=(0,o.default)(this.options,n.options),i=this.createGroup(t,r.marginTop,this.svg);this.setGroupOptions(i,r),this.drawSvgBarcode(i,r,n),this.drawSVGText(i,r,n),t+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,a.calculateEncodingAttributes)(this.encodings,this.options);var t=(0,a.getTotalWidthOfEncodings)(this.encodings),e=(0,a.getMaximumHeightOfEncodings)(this.encodings),n=t+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,e),this.options.background&&this.drawRect(0,0,n,e,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(t,e,n){var r,i=n.data;r="top"==e.textPosition?e.fontSize+e.textMargin:0;for(var o=0,a=0,s=0;s<i.length;s++)a=s*e.width+n.barcodePadding,"1"===i[s]?o++:o>0&&(this.drawRect(a-e.width*o,r,e.width*o,e.height,t),o=0);o>0&&this.drawRect(a-e.width*(o-1),r,e.width*o,e.height,t)}},{key:"drawSVGText",value:function(t,e,n){var r,i,o=this.document.createElementNS(s,"text");e.displayValue&&(o.setAttribute("style","font:"+e.fontOptions+" "+e.fontSize+"px "+e.font),i="top"==e.textPosition?e.fontSize-e.textMargin:e.height+e.textMargin+e.fontSize,"left"==e.textAlign||n.barcodePadding>0?(r=0,o.setAttribute("text-anchor","start")):"right"==e.textAlign?(r=n.width-1,o.setAttribute("text-anchor","end")):(r=n.width/2,o.setAttribute("text-anchor","middle")),o.setAttribute("x",r),o.setAttribute("y",i),o.appendChild(this.document.createTextNode(n.text)),t.appendChild(o))}},{key:"setSvgAttributes",value:function(t,e){var n=this.svg;n.setAttribute("width",t+"px"),n.setAttribute("height",e+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+t+" "+e),n.setAttribute("xmlns",s),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(t,e,n){var r=this.document.createElementNS(s,"g");return r.setAttribute("transform","translate("+t+", "+e+")"),n.appendChild(r),r}},{key:"setGroupOptions",value:function(t,e){t.setAttribute("style","fill:"+e.lineColor+";")}},{key:"drawRect",value:function(t,e,n,r,i){var o=this.document.createElementNS(s,"rect");return o.setAttribute("x",t),o.setAttribute("y",e),o.setAttribute("width",n),o.setAttribute("height",r),i.appendChild(o),o}}]),t}();e.default=c},"vph/":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=s(n("VyaE")),o=s(n("52Lf")),a=n("6LKm");function s(t){return t&&t.__esModule?t:{default:t}}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var u=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],l=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],d=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));if(r.isValid=!1,-1!==t.search(/^[0-9]{6}$/))r.middleDigits=t,r.upcA=b(t,"0"),r.text=n.text||""+r.upcA[0]+t+r.upcA[r.upcA.length-1],r.isValid=!0;else{if(-1===t.search(/^[01][0-9]{7}$/))return c(r);if(r.middleDigits=t.substring(1,t.length-1),r.upcA=b(r.middleDigits,t[0]),r.upcA[r.upcA.length-1]!==t[t.length-1])return c(r);r.isValid=!0}return r.displayValue=n.displayValue,r.fontSize=n.fontSize>10*n.width?10*n.width:n.fontSize,r.guardHeight=n.height+r.fontSize/2+n.textMargin,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),r(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var t="";return t+="101",t+=this.encodeMiddleDigits(),{data:t+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var t=[];return this.displayValue&&t.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),t.push({data:"101",options:{height:this.guardHeight}}),t.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),t.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&t.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),t}},{key:"encodeMiddleDigits",value:function(){var t=this.upcA[0],e=l[parseInt(this.upcA[this.upcA.length-1])][parseInt(t)];return(0,i.default)(this.middleDigits,e)}}]),e}(o.default);function b(t,e){for(var n=parseInt(t[t.length-1]),r=u[n],i="",o=0,s=0;s<r.length;s++){var c=r[s];i+="X"===c?t[o++]:c}return(i=""+e+i)+(0,a.checksum)(i)}e.default=d},wXsw:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.codabar=void 0;var r,i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),0===t.search(/^[0-9\-\$\:\.\+\/]+$/)&&(t="A"+t+"A");var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t.toUpperCase(),n));return r.text=r.options.text||r.text.replace(/[A-D]/g,""),r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"valid",value:function(){return-1!==this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)}},{key:"encode",value:function(){for(var t=[],e=this.getEncodings(),n=0;n<this.data.length;n++)t.push(e[this.data.charAt(n)]),n!==this.data.length-1&&t.push("0");return{text:this.text,data:t.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(((r=n("52Lf"))&&r.__esModule?r:{default:r}).default);e.codabar=o},wkMt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SIDE_BIN="101",e.MIDDLE_BIN="01010",e.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},e.EAN2_STRUCTURE=["LL","LG","GL","GG"],e.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],e.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},yjKC:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}}}]);