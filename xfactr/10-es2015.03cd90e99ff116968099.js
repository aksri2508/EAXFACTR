(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{BhuL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));const a=[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"3",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hAvailable",bodyRef:"bAvailable",backendKey:"10",name:"Available",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hCommitted",bodyRef:"bCommitted",backendKey:"11",name:"Committed",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hOrdered",bodyRef:"bOrdered",backendKey:"12",name:"Ordered",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"13",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"14",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"15",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"16",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"17",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"18",name:"Dist.Rules",hideForCustomer:!0,hideForDealer:!0}],i=[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"3",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"4",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"5",name:"UOM"},{headerRef:"hFromWarehouse",bodyRef:"bFromWarehouse",backendKey:"6",name:"From Warehouse"},{headerRef:"hFromBin",bodyRef:"bFromBin",backendKey:"7",name:"From Bin"},{headerRef:"hToWarehouse",bodyRef:"bToWarehouse",backendKey:"8",name:"To Warehouse"},{headerRef:"hToBin",bodyRef:"bToBin",backendKey:"9",name:"To Bin"}],o=[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hGeneralDetails",bodyRef:"bGeneralDetails",backendKey:"3",name:"General Details"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hDuration",bodyRef:"bDuration",backendKey:"5",name:"Duration"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hStartDate",bodyRef:"bStartDate",backendKey:"7",name:"Start Date"},{headerRef:"hEndDate",bodyRef:"bEndDate",backendKey:"8",name:"End Date"},{headerRef:"hShipDate",bodyRef:"bShipDate",backendKey:"9",name:"Ship Date"},{headerRef:"hReturnDate",bodyRef:"bReturnDate",backendKey:"10",name:"Return Date"},{headerRef:"hPoExpiryDate",bodyRef:"bPoExpiryDate",backendKey:"11",name:"PO Expiry Date"},{headerRef:"hEquipmentName",bodyRef:"bEquipmentName",backendKey:"12",name:"Assign Equipment Card"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"13",name:"Unit Price"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"14",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"15",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"16",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"17",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"18",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"19",name:"Dist.Rules"}],r={salesQuote:a,salesOrder:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"3",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hAvailable",bodyRef:"bAvailable",backendKey:"10",name:"Available",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hCommitted",bodyRef:"bCommitted",backendKey:"11",name:"Committed",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hOrdered",bodyRef:"bOrdered",backendKey:"12",name:"Ordered",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"13",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"14",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"15",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"16",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"17",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"18",name:"Dist.Rules",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hSerialNumber",bodyRef:"bSerialNumber",backendKey:"19",name:"Batch / Serial No"},{headerRef:"hExpiryDate",bodyRef:"bExpiryDate",backendKey:"20",name:"Expiry Date"},{headerRef:"hBpApproval",bodyRef:"bBpApproval",backendKey:"21",name:"BP Approval"},{headerRef:"hRemarks",bodyRef:"bRemarks",backendKey:"22",name:"Remarks"},{headerRef:"hDealerDiscountPercentage",bodyRef:"bDealerDiscountPercentage",backendKey:"23",name:"Dealer Discount %",hideForCustomer:!0}],salesDelivery:a,salesArInvoice:a,salesArDpInvoice:a,salesArCreditMemo:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hWithoutQtyPosting",bodyRef:"bWithoutQtyPosting",backendKey:"2",name:"Without Qty Posting"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"3",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hAvailable",bodyRef:"bAvailable",backendKey:"10",name:"Available",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hCommitted",bodyRef:"bCommitted",backendKey:"11",name:"Committed",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hOrdered",bodyRef:"bOrdered",backendKey:"12",name:"Ordered",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"13",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"14",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"15",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"16",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"17",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"18",name:"Dist.Rules",hideForCustomer:!0,hideForDealer:!0}],salesReturn:a,purchaseRequest:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hRequiredDate",bodyRef:"bRequiredDate",backendKey:"3",name:"Required Date"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse"},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"10",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"11",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"12",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"13",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"14",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"15",name:"Dist.Rules"},{headerRef:"hWeight",bodyRef:"bWeight",backendKey:"16",name:"Weight(kg)"}],purchaseOrder:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse"},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"10",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"11",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"12",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"13",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"14",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"15",name:"Dist.Rules"},{headerRef:"hWeight",bodyRef:"bWeight",backendKey:"16",name:"Weight(kg)"}],purchaseGrpo:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse"},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"10",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"11",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"12",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"13",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"14",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"15",name:"Dist.Rules"}],inventoryRequest:i,inventoryTransfer:i,rentalQuote:o,rentalOrder:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hGeneralDetails",bodyRef:"bGeneralDetails",backendKey:"3",name:"General Details"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQuantity",bodyRef:"bOpenQuantity",backendKey:"5",name:"Open Quantity"},{headerRef:"hDuration",bodyRef:"bDuration",backendKey:"6",name:"Duration"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"7",name:"UOM"},{headerRef:"hStartDate",bodyRef:"bStartDate",backendKey:"8",name:"Start Date"},{headerRef:"hEndDate",bodyRef:"bEndDate",backendKey:"9",name:"End Date"},{headerRef:"hShipDate",bodyRef:"bShipDate",backendKey:"10",name:"Ship Date"},{headerRef:"hReturnDate",bodyRef:"bReturnDate",backendKey:"11",name:"Return Date"},{headerRef:"hPoExpiryDate",bodyRef:"bPoExpiryDate",backendKey:"12",name:"PO Expiry Date"},{headerRef:"hEquipmentName",bodyRef:"bEquipmentName",backendKey:"13",name:"Assign Equipment Card"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"14",name:"Unit Price"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"15",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"16",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"17",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"18",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"19",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"20",name:"Dist.Rules"}],rentalDelivery:o,rentalInvoice:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hGeneralDetails",bodyRef:"bGeneralDetails",backendKey:"3",name:"General Details"},{headerRef:"hWorkLogRef",bodyRef:"bWorkLogRef",backendKey:"4",name:"Work Log Ref."},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"5",name:"Quantity"},{headerRef:"hDuration",bodyRef:"bDuration",backendKey:"6",name:"Duration"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"7",name:"UOM"},{headerRef:"hStartDate",bodyRef:"bStartDate",backendKey:"8",name:"Start Date"},{headerRef:"hEndDate",bodyRef:"bEndDate",backendKey:"9",name:"End Date"},{headerRef:"hShipDate",bodyRef:"bShipDate",backendKey:"10",name:"Ship Date"},{headerRef:"hReturnDate",bodyRef:"bReturnDate",backendKey:"11",name:"Return Date"},{headerRef:"hPoExpiryDate",bodyRef:"bPoExpiryDate",backendKey:"12",name:"PO Expiry Date"},{headerRef:"hEquipmentName",bodyRef:"bEquipmentName",backendKey:"13",name:"Assign Equipment Card"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"14",name:"Unit Price"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"15",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"16",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"17",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"18",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"19",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"20",name:"Dist.Rules"}],rentalReturn:o}},IzNV:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("XNiG"),i=n("2Vo4"),o=n("HDdC"),r=n("LvDl"),s=n("BhuL"),c=n("fXoL"),d=n("ey9i"),l=n("oARB"),b=n("K3ix");let u=(()=>{class e{constructor(e,t,n,o,r){this.utilsService=e,this.storageService=t,this.authGuardService=n,this.commonDataService=o,this.modalService=r,this.actionSaveUpdate=new a.a,this.itemListColumnOrderChanges=new a.a,this.visitHistoryBar=new a.a,this.mapViewInputs=new i.a({}),this.spiTxnOptions=new a.a,this.spiTxnOptionsDownloadPdf=new a.a,this.spiTxnOptionsDownloadPickListPdf=new a.a,this.itemSearch=new a.a,this.inspectionItemData=new a.a,this.inspectionListArray=[],this.notificationTotalUnreadCount=0,this.spiTxnId={sales:"sales",purchase:"purchase",inventory:"inventory",rental:"rental",inspection:"inspection",worklog:"worklog"},this.screenAttributes={masterBp:{title:"",backendKey:"BUSINESS_PARTNER",documentTypeId:"16"},masterItem:{title:"",backendKey:"MASTER_ITEM",documentTypeId:"15"},activity:{title:"",backendKey:"ACTIVITY",documentTypeId:"4"},opportunity:{title:"",backendKey:"OPPORTUNITY",allowedDocType:["2","3"],documentTypeId:"1"},purchaseRequest:{module:"purchase",documentTypeId:"5",title:"Purchase Request",uiKey:"purchaseRequest",backendKey:"PURCHASE_REQUEST",copyFrom:{show:!1},copyTo:{show:!0,allowedDocType:["6"]},addItem:[!0,!0],editRouteKey:"purchase-txn-edit",draftRouteKey:"purchase-txn-edit-draft"},purchaseOrder:{module:"purchase",documentTypeId:"6",title:"Purchase Order",uiKey:"purchaseOrder",backendKey:"PURCHASE_ORDER",copyFrom:{show:!0,allowedDocType:["5"]},copyTo:{show:!0,allowedDocType:["7"]},addItem:[!0,!0],editRouteKey:"purchase-txn-edit",draftRouteKey:"purchase-txn-edit-draft"},purchaseGrpo:{module:"purchase",documentTypeId:"7",title:"Goods Receipt PO",uiKey:"purchaseGrpo",backendKey:"GRPO",copyFrom:{show:!0,allowedDocType:["6"]},copyTo:{show:!1},addItem:[!0,!1],editRouteKey:"purchase-txn-edit",draftRouteKey:"purchase-txn-edit-draft"},inventoryRequest:{module:"inventory",documentTypeId:"8",title:"Inventory Transfer Request",uiKey:"inventoryRequest",backendKey:"INVENTORY_TRANSFER_REQUEST",copyFrom:{show:!1},copyTo:{show:!0,allowedDocType:["9"]},addItem:[!0,!0],editRouteKey:"inventory-txn-edit",draftRouteKey:"inventory-txn-edit-draft"},inventoryTransfer:{module:"inventory",documentTypeId:"9",title:"Inventory Transfer",uiKey:"inventoryTransfer",backendKey:"INVENTORY_TRANSFER",copyFrom:{show:!0,allowedDocType:["8"]},copyTo:{show:!1},addItem:[!0,!1],editRouteKey:"inventory-txn-edit",draftRouteKey:"inventory-txn-edit-draft"},salesQuote:{module:"sales",documentTypeId:"2",title:"Sales Quote",uiKey:"salesQuote",backendKey:"SALES_QUOTE",copyFrom:{show:!1},copyTo:{show:!0,allowedDocType:["3","10","11"]},addItem:[!0,!0],isAfterDelivery:!1,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesOrder:{module:"sales",documentTypeId:"3",title:"Sales Order",uiKey:"salesOrder",backendKey:"SALES_ORDER",copyFrom:{show:!0,allowedDocType:["2"]},copyTo:{show:!0,allowedDocType:["10","11","6"]},addItem:[!0,!0],isAfterDelivery:!1,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesDelivery:{module:"sales",documentTypeId:"10",title:"Delivery",uiKey:"salesDelivery",backendKey:"SALES_DELIVERY",copyFrom:{show:!0,allowedDocType:["2","3"]},copyTo:{show:!0,allowedDocType:["11","14"]},addItem:[!0,!1],isAfterDelivery:!1,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesArInvoice:{module:"sales",documentTypeId:"11",title:"A/R Invoice",uiKey:"salesArInvoice",backendKey:"SALES_AR_INVOICE",copyFrom:{show:!0,allowedDocType:["2","3","10"]},copyTo:{show:!0,allowedDocType:["13"]},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesArDpInvoice:{module:"sales",documentTypeId:"12",title:"A/R Down Payment Invoice",uiKey:"salesArDpInvoice",backendKey:"SALES_AR_DP_INVOICE",copyFrom:{show:!0,allowedDocType:["2","3","10"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesArCreditMemo:{module:"sales",documentTypeId:"13",title:"A/R Credit Memo",uiKey:"salesArCreditMemo",backendKey:"SALES_AR_CREDIT_MEMO",copyFrom:{show:!0,allowedDocType:["11","12"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesReturn:{module:"sales",documentTypeId:"14",title:"Return",uiKey:"salesReturn",backendKey:"SALES_RETURN",copyFrom:{show:!0,allowedDocType:["10"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},rentalQuote:{module:"rental",documentTypeId:"18",title:"Rental Quote",uiKey:"rentalQuote",backendKey:"RENTAL_QUOTE",copyFrom:{show:!1},copyTo:{show:!0,allowedDocType:["19","20","21"]},addItem:[!0,!0],isAfterDelivery:!1,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},rentalOrder:{module:"rental",documentTypeId:"19",title:"Rental Order",uiKey:"rentalOrder",backendKey:"RENTAL_ORDER",copyFrom:{show:!0,allowedDocType:["18"]},copyTo:{show:!0,allowedDocType:["20","21","24","25"]},addItem:[!0,!0],isAfterDelivery:!1,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},rentalDelivery:{module:"rental",documentTypeId:"21",title:"Rental Delivery",uiKey:"rentalDelivery",backendKey:"RENTAL_DELIVERY",copyFrom:{show:!0,allowedDocType:["18","19","20"]},copyTo:{show:!0,allowedDocType:["22"]},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},rentalReturn:{module:"rental",documentTypeId:"22",title:"Rental Return",uiKey:"rentalReturn",backendKey:"RENTAL_RETURN",copyFrom:{show:!0,allowedDocType:["21"]},copyTo:{show:!0,allowedDocType:["23"]},addItem:[!1,!1],isAfterDelivery:!0,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},rentalInvoice:{module:"rental",documentTypeId:"24",title:"Rental Invoice",uiKey:"rentalInvoice",backendKey:"RENTAL_INVOICE",copyFrom:{show:!0,allowedDocType:["19"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},inspectionIn:{module:"rental",documentTypeId:"23",title:"Inspection In",uiKey:"inspectionIn",backendKey:"RENTAL_INSPECTION_IN",copyFrom:{show:!0,allowedDocType:["22"]},copyTo:{show:!1},addItem:[!1,!1],isAfterDelivery:!0,editRouteKey:"inspection-txn-edit",draftRouteKey:"inspection-txn-edit-draft"},inspectionOut:{module:"rental",documentTypeId:"20",title:"Inspection Out",uiKey:"inspectionOut",backendKey:"RENTAL_INSPECTION_OUT",copyFrom:{show:!0,allowedDocType:["18","19"]},copyTo:{show:!0,allowedDocType:["21"]},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"inspection-txn-edit",draftRouteKey:"inspection-txn-edit-draft"},worklog:{module:"rental",documentTypeId:"25",title:"Worklog",uiKey:"worklog",backendKey:"RENTAL_WORKLOG",copyFrom:{show:!0,allowedDocType:["19"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"worklog-edit",draftRouteKey:"worklog-edit-draft"},transport:{title:"",backendKey:"TRANSPORT",documentTypeId:"27"}}}distRulesRemoveZeroPatternOnEdit(e){return this.utilsService.isEmpty(e)?null:e.split(",").filter(e=>"0"!==e)}distRulesCheckUnique(e,t,n){const a=t.getRawValue(),i=[];a[n].forEach(t=>{const n=r.findIndex(e,{id:t});n>=0&&i.push(e[n].dimensionId)});const o=r.uniq(i);if(i.length!==o.length){this.utilsService.showFailureMsg("Cannot select multiple items in same group!");const e=a[n];e.pop(),t.patchValue({[n]:e})}}getBpContactListAndSet(e,t,n,a,i){const s=e.getRawValue();return new o.a(o=>{a||e.patchValue({[t]:null}),this.utilsService.isEmpty(s[n])?(o.next([]),o.complete()):this.commonDataService.getBpContactList(s[n]).subscribe(n=>{if("SUCCESS"===n.status){const s=n.results;if(a)this.utilsService.ifNotPushToList(s,i);else{const n=r.findIndex(s,{contactTypeId:"1"});n>=0&&e.patchValue({[t]:s[n].id})}o.next(s),o.complete()}else this.utilsService.showFailureMsg(n),o.error(),o.complete()})})}getDocumentTypeListBasedOnScreen(e,t){return new o.a(n=>{this.screenAttributes.hasOwnProperty(e)?this.commonDataService.getAutoSuggestionList("getDocumentTypeList").subscribe(a=>{if("SUCCESS"===a.status){let i=[];i=t?this.screenAttributes[e][t].allowedDocType:this.screenAttributes[e].allowedDocType;const o=a.results.filter(e=>i.indexOf(e.documentTypeId)>=0);n.next(o),n.complete()}else this.utilsService.showFailureMsg(a),n.error(),n.complete()}):(this.utilsService.showFailureMsg("Screen name not in list"),n.error(),n.complete())})}txnGetTitle(e,t=!1){return e?t?e.substr(0,1):e.substr(1,e.length):""}txnRoundingOffChange(e){e.getRawValue().roundingOffCheckbox?e.controls.rounding.enable():e.controls.rounding.disable(),this.txnCalcTotal(e)}txnCalcItemsTotal(e){e.patchValue({itemsTotalAmount:0}),e.controls.itemListArray.controls.forEach(t=>{const n=t.getRawValue(),a=parseFloat(n.quantity?n.quantity:0)*parseFloat(n.unitPrice?n.unitPrice:0),i=a-a*(parseFloat(n.discountPercentage?n.discountPercentage:0)/100);parseFloat(n.itemTaxPercentage?n.itemTaxPercentage:0),t.patchValue({totalItemAmount:i.toFixed(2)}),e.patchValue({itemsTotalAmount:e.controls.itemsTotalAmount.value+i}),e.patchValue({totalBeforeDiscount:e.controls.itemsTotalAmount.value.toFixed(2)})}),this.txnCalcTotal(e)}txnCalcTotal(e,t=!1){const n=parseFloat(e.controls.discountPercentage.value?e.controls.discountPercentage.value:0);let a=parseFloat(e.controls.itemsTotalAmount.value?e.controls.itemsTotalAmount.value:0);if(e.value.hasOwnProperty("dpmPercentage")){const t=parseFloat(e.controls.dpmPercentage.value?e.controls.dpmPercentage.value:0),n=parseFloat(e.controls.totalBeforeDiscount.value)/100*t;e.patchValue({dpmValue:n.toFixed(2)}),a=n}let i=0;n?(i=a-a*(n/100),e.patchValue({discountValue:(a-i).toFixed(2)})):e.patchValue({discountValue:0});let o=0;e.controls.itemListArray.controls.forEach(t=>{const a=t.getRawValue(),i=parseFloat(a.totalItemAmount?a.totalItemAmount:0),r=parseFloat(a.itemTaxPercentage?a.itemTaxPercentage:0);let s=100;e.value.hasOwnProperty("dpmPercentage")&&(s=parseFloat(e.controls.dpmPercentage.value));const c=r/100*s/100;let d=0;d=e.value.hasOwnProperty("dpmPercentage")?i*c:(i-i*(n/100))*c,o+=d,t.patchValue({itemTaxValue:d.toFixed(2)})}),e.patchValue({taxPercentage:o.toFixed(2)});let r=0;r=e.getRawValue().hasOwnProperty("dpmPercentage")?a+o:a-parseFloat(e.controls.discountValue.value)+o,!1===t&&!1===e.controls.editFlag.value&&e.patchValue({rounding:(Math.round(r)-r).toFixed(2)}),!0===e.controls.editFlag.value&&e.patchValue({editFlag:!1});let s=0,c=0;e.getRawValue().hasOwnProperty("salesArDpInvoiceUsedAmount")&&(s=e.controls.salesArDpInvoiceUsedAmount.value?e.controls.salesArDpInvoiceUsedAmount.value:0,c=e.controls.salesArDpInvoiceUsedTaxAmount.value?e.controls.salesArDpInvoiceUsedTaxAmount.value:0);const d=r+parseFloat(e.controls.rounding.value?e.controls.rounding.value:0);e.patchValue({totalAmount:(d-(s+c)).toFixed(2)})}txnSetCurrency(e,t,n,a){const i=t.getRawValue();if(t.patchValue({[a]:""}),i[n]){const o=r.findIndex(e,{id:i[n]});o>=0&&t.patchValue({[a]:e[o].currencyId})}}txnSetTaxCode(e,t,n){const a=t.getRawValue();let i="";if(a[n]){const t=r.findIndex(e,{id:a[n]});t>=0&&(i=e[t].taxCode)}t.patchValue({taxCode:i})}txnSetTermsAndMethods(e,t,n){const a=t.getRawValue();let i="",o="";if(a[n]){const t=r.findIndex(e,{id:a[n]});t>=0&&(this.utilsService.isEmpty(e[t].paymentTermsId)||(i=e[t].paymentTermsId),this.utilsService.isEmpty(e[t].paymentMethodId)||(o=e[t].paymentMethodId))}t.patchValue({paymentTermsId:i,paymentMethodId:o})}txnGetActiveCurrency(e,t,n){const a=t.getRawValue(),i=r.findIndex(e,{id:a[n]});return i>=0?e[i].code:""}txnSetUom(e,t,n,a){const i=t.getRawValue(),o=t.controls.itemListArray.at(n),s=r.findIndex(e,{id:i.itemListArray[n][a]});let c=null;s>=0&&(this.utilsService.isEmpty(e[s].uomId)||(c=e[s].uomId)),o.patchValue({uomId:c})}txnSetHsn(e,t,n,a){const i=t.getRawValue(),o=t.controls.itemListArray.at(n),s=r.findIndex(e,{id:i.itemListArray[n][a]});let c=null;s>=0&&(this.utilsService.isEmpty(e[s].hsnId)||(c=e[s].hsnId)),o.patchValue({hsnId:c})}txnSetUnitPrice(e,t,n){const a=e.getRawValue(),i=e.controls.itemListArray.at(t),o=a.itemListArray[t].itemId;i.patchValue({unitPrice:"0.00",discountPercentage:"0.00"}),o&&this.commonDataService.getItemPriceValue({itemId:o,businessPartnerId:n,type:"TXN"}).subscribe(t=>{"SUCCESS"===t.status?(i.patchValue({unitPrice:t.results.unitPrice,discountPercentage:t.results.discountPercentage}),this.txnCalcItemsTotal(e)):this.utilsService.showFailureMsg(t)})}txnCheckItemDuplicate(e,t,n,a){const i=e.getRawValue();let o;if(o=i.itemListArray[t][n],o){let e;if(e=r.filter(i.itemListArray,{[n]:o}),e.length>1){let e=r.filter(a,{id:o});this.utilsService.showInfoMsg(`Selected item (${e[0].itemName+" - "+e[0].itemCode}) already available in the list!`)}}}setLastPriceAndAvailableStock(e,t,n,a){const i=t.getRawValue(),o=t.controls.itemListArray.at(n),s=r.findIndex(e,{id:i.itemListArray[n].itemId});let c="-",d=0,l=0,b=0;if(o.patchValue({lastPrice:c,availableStock:d,committedStock:l,orderedStock:b}),s>=0){let t;if(a===this.spiTxnId.sales?t=e[s].lastSalesPrice:a===this.spiTxnId.purchase&&(t=e[s].lastPurchasePrice),this.utilsService.isEmpty(t)||(c=t),o.patchValue({lastPrice:c}),a===this.spiTxnId.sales){const t=parseFloat(e[s].stock),n=parseFloat(e[s].salesOpenCount),a=parseFloat(e[s].purchaseOpenCount);d=t-n+a,l=n,b=a,o.patchValue({availableStock:d,committedStock:l,orderedStock:b})}}}txnSetBinListAndPreselect(e,t,n,a,i,o,s,c,d){const l=n.getRawValue(),b=n.controls.itemListArray.at(a),u=l.itemListArray[a][i];if(b.patchValue({[s]:[]}),c||b.patchValue({[o]:null}),!this.utilsService.isEmpty(u)){const l=e[r.findIndex(e,{id:u})].binList;c&&this.utilsService.ifNotPushToList(l,d),b.patchValue({[s]:l}),c||this.txnSetDefaultItemBin(t,n,a,i,o,s)}}txnSetDefaultItemBin(e,t,n,a,i,o){const s=t.controls.itemListArray.at(n),c=s.getRawValue(),d=c.itemId,l=c[a],b=c[o];if(s.patchValue({[i]:null}),d&&l){const t=e[r.findIndex(e,{id:d})].itemWarehouseList,n=r.findIndex(t,{warehouseId:l});n>=0&&t[n].binId&&r.findIndex(b,{id:t[n].binId})>=0&&s.patchValue({[i]:t[n].binId})}}txnTaxChange(e,t,n){const a=t.controls.itemListArray.at(n),i=r.findIndex(e,{id:a.value.taxId});let o=0;o=i>=0?e[i].attributePercentage:0,a.patchValue({itemTaxPercentage:o}),this.txnCalcItemsTotal(t)}txnGetBpAddressListAndSet(e,t,n,a,i,s,c){const d=t.getRawValue();return new o.a(o=>{s||t.patchValue({[n]:""}),this.utilsService.isEmpty(d[i])?(o.next([]),o.complete()):this.commonDataService.getBpAddressList(d[i]).subscribe(i=>{if("SUCCESS"===i.status){const d=i.results.filter(t=>t.addressTypeId===e);if(s)this.utilsService.ifNotPushToList(d,c);else{const e=r.findIndex(d,{defaultAddress:"1"});e>=0&&(t.patchValue({[n]:d[e].id,[a]:this.txnFrameAddress(d[e])}),"customerShipToBpAddressId"!==n&&"vendorPayToBpAddressId"!==n||this.txnSetTaxCode(d,t,n))}o.next(d),o.complete()}else this.utilsService.showFailureMsg(i),o.error(),o.complete()})})}txnBpAddressChange(e,t,n,a){const i=t.getRawValue(),o=r.findIndex(e,{id:i[n]});let s="";o>=0&&(s=this.txnFrameAddress(e[o])),t.patchValue({[a]:s})}txnFrameAddress(e){const t=[];return e.address&&t.push(e.address),e.city&&t.push(e.city),e.stateName&&t.push(e.stateName),e.countryName&&t.push(e.countryName),e.zipcode&&t.push(e.zipcode),t.join(", ")}txnAddItemAccess(e,t,n){const a=this.screenAttributes[e];if("1"===t.getRawValue().status)if(n){if(a.addItem[1])return!0}else if(a.addItem[0])return!0;return!1}txnPaymentTermsChange(e,t,n,a){const i=n.getRawValue(),o=r.findIndex(t,{id:i[a]});if("salesOrder"!==e&&"salesDelivery"!==e&&"purchaseOrder"!==e||n.patchValue({deliveryDate:""}),"salesArInvoice"!==e&&"salesReturn"!==e&&"salesArDpInvoice"!==e&&"salesArCreditMemo"!==e&&"purchaseGrpo"!==e||n.patchValue({dueDate:""}),o>=0){const a=new Date,i=parseInt(t[o].paymentDuration,0);a.setDate(a.getDate()+i),"salesOrder"!==e&&"salesDelivery"!==e&&"purchaseOrder"!==e||n.patchValue({deliveryDate:a}),"salesArInvoice"!==e&&"salesReturn"!==e&&"salesArDpInvoice"!==e&&"salesArCreditMemo"!==e&&"purchaseGrpo"!==e||n.patchValue({dueDate:a})}}txnSetItemStockToBinTooltip(e,t,n,a){const i=e.getRawValue(),o=i.itemListArray[t].itemId,r=i.itemListArray[t][n],s=e.controls.itemListArray.at(t);o&&r&&""===i.itemListArray[t][a]?this.commonDataService.getStockByItemId(o).subscribe(e=>{if("SUCCESS"===e.status){const t=[];e.results.forEach(e=>{r===e.warehouseId&&t.push(e.binInfo[0].binName+" ("+e.availability+")")}),s.patchValue(t.length>0?{[a]:t.join(", ")}:{[a]:"Stock not available"})}else this.utilsService.showFailureMsg(e)}):""===i.itemListArray[t][a]&&this.utilsService.showFailureMsg("Select Item and Warehouse to show stock!")}txnValidateBtn(e,t,n){const a=this.authGuardService.getScreenAcl(this.screenAttributes[t.inputScreenName].documentTypeId),i=e.getRawValue();return"save"===n||"saveDraft"===n?a.add&&!t.inputEditId:"clear"===n?!t.inputEditId&&!t.inputDraftId:"update"===n?a.update&&t.inputEditId&&"1"===t.editStatusId&&"2"!==i.approvalStatus:"cancel"===n||"editMsgContainer"===n?t.inputEditId||t.inputDraftId:"updateNote"===n?"1"!==t.editStatusId||"2"===i.approvalStatus:"updateAclNote"===n?!a.update&&!t.inputDraftId:"addAclNote"===n?(!t.inputEditId||t.inputDraftId)&&!a.add:"add"===n?a.add&&t.inputDraftId&&"1"===t.editStatusId&&"1"===i.showAddButton:void 0}getSelectedItemColumnDataByTxn(e,t){const n=this.storageService.get("lineItemConfig"),a=r.find(n,t=>t.module===this.screenAttributes[e].backendKey);if(a){const n=a.fieldsSelected?a.fieldsSelected:a.defaultFields;let i=s.a[e];if("3"===this.storageService.get("employeeTypeId")){const e=i.filter(e=>!e.hideForCustomer);i=e}if("5"===this.storageService.get("employeeTypeId")){const e=i.filter(e=>!e.hideForDealer);i=e}if(t)return{selectedIds:n.split(","),disabledIds:a.disabledFields.split(",")};{const e=[];return n.split(",").forEach(t=>{const n=r.findIndex(i,e=>t===e.backendKey);n>=0&&e.push(i[n])}),e}}return[]}getMasterDocumentNumbering(e,t,n,a){let i=[];return new o.a(o=>{"edit"===n?(i=a,o.next(i),o.complete()):this.commonDataService.getMasterDocumentNumbering(t).subscribe(t=>{"SUCCESS"===t.status?(i.push(...t.results),"draft"!==n&&i.forEach(t=>{"PRIMARY"===t.documentNumberingType&&(e.patchValue({documentNumberingId:t.id,documentNumber:t.nextNumber,documentNumberingType:t.documentNumberingType}),"MANUAL"===t.documentNumberingType?e.controls.documentNumber.enable():e.controls.documentNumber.disable())}),o.next(i),o.complete()):(this.utilsService.showFailureMsg(t),o.error(),o.complete())})})}onDocumentNumberingChange(e,t){t.patchValue({documentNumber:"",documentNumberingType:""});const n=t.getRawValue(),a=r.find(e,e=>e.id===n.documentNumberingId);a&&a.id&&(t.patchValue({documentNumber:a.nextNumber,documentNumberingType:a.documentNumberingType}),"MANUAL"===a.documentNumberingType?t.controls.documentNumber.enable():t.controls.documentNumber.disable())}setItemWeight(e,t,n,a){const i=t.getRawValue(),o=t.controls.itemListArray.at(n),s=r.findIndex(e,{id:i.itemListArray[n][a]});let c=null;s>=0&&(this.utilsService.isEmpty(e[s].itemWeight)||(c=i.itemListArray[n].quantity*e[s].itemWeight)),o.patchValue({itemWeight:c})}txnGetTotalWeight(e){let t=0;e.controls.itemListArray.controls.forEach(e=>{const n=e.getRawValue(),a=parseFloat(n.itemWeight);t+=a}),e.patchValue({totalWeight:parseFloat(t.toFixed(2))})}}return e.\u0275fac=function(t){return new(t||e)(c.Zb(d.g),c.Zb(d.f),c.Zb(d.a),c.Zb(l.l),c.Zb(b.b))},e.\u0275prov=c.Lb({token:e,factory:e.\u0275fac}),e})()},"o+NB":function(e,t,n){"use strict";n.r(t),n.d(t,"BranchModule",(function(){return Z}));var a=n("tyNb"),i=n("ey9i"),o=n("fXoL"),r=n("wd/R"),s=n("oARB"),c=n("IzNV"),d=n("ofXK"),l=n("dZIy"),b=n("3Pt+"),u=n("Mfq2");function h(e,t){if(1&e&&(o.Vb(0,"option",24),o.Lc(1),o.Ub()),2&e){const e=t.$implicit;o.oc("value",e.id),o.Cb(1),o.Oc("",e.branchCode," - ",e.branchName," ")}}function m(e,t){if(1&e){const e=o.Wb();o.Vb(0,"li",20),o.Vb(1,"a",21),o.Vb(2,"select",22),o.dc("change",(function(t){return o.Dc(e),o.hc().branchChange(t.target.value)})),o.Jc(3,h,2,3,"option",23),o.Ub(),o.Ub(),o.Ub()}if(2&e){const e=o.hc();o.Cb(2),o.oc("ngModel",e.storageService.get("branchId")),o.Cb(1),o.oc("ngForOf",e.branchList)}}function f(e,t){if(1&e){const e=o.Wb();o.Vb(0,"div",38),o.dc("click",(function(){o.Dc(e);const t=o.hc(),n=t.$implicit,a=t.index;return o.hc(2).markAsReadOnChange(n.id,a)})),o.Qb(1,"i",39),o.Ub()}}function y(e,t){if(1&e&&(o.Vb(0,"div",40),o.Lc(1),o.Ub()),2&e){const e=o.hc().$implicit;o.Cb(1),o.Nc("",e.timeHourCalc," hours ago")}}function p(e,t){if(1&e&&(o.Vb(0,"div",40),o.Lc(1),o.Ub()),2&e){const e=o.hc().$implicit;o.Cb(1),o.Nc("",e.timeDayCalc," days ago")}}function R(e,t){if(1&e&&(o.Vb(0,"li",31),o.Vb(1,"div",32),o.Vb(2,"div"),o.Vb(3,"span",33),o.Lc(4),o.Ub(),o.Ub(),o.Vb(5,"div",34),o.Lc(6),o.Ub(),o.Ub(),o.Vb(7,"div",35),o.Jc(8,f,2,0,"div",36),o.Jc(9,y,2,1,"div",37),o.Jc(10,p,2,1,"div",37),o.Ub(),o.Ub()),2&e){const e=t.$implicit;o.Cb(4),o.Mc(e.documentTypeName[0]),o.Cb(2),o.Oc("",e.documentTypeName," -- ",e.content,""),o.Cb(2),o.oc("ngIf","1"===e.status),o.Cb(1),o.oc("ngIf",e.timeHourCalc),o.Cb(1),o.oc("ngIf",e.timeDayCalc)}}function g(e,t){if(1&e){const e=o.Wb();o.Vb(0,"div",25),o.Vb(1,"ul",26),o.Vb(2,"li",27),o.Vb(3,"strong"),o.Lc(4,"Notifications"),o.Ub(),o.Ub(),o.Jc(5,R,11,6,"li",28),o.Vb(6,"button",29),o.dc("click",(function(){return o.Dc(e),o.hc(),o.Ac(11).hide()})),o.Qb(7,"i",30),o.Lc(8,"\xa0\xa0Show all notifications"),o.Ub(),o.Ub(),o.Ub()}if(2&e){const e=o.hc();o.Cb(5),o.oc("ngForOf",e.notificationList)}}function v(e,t){if(1&e){const e=o.Wb();o.Vb(0,"ul",41),o.Vb(1,"li"),o.Vb(2,"a",42),o.Lc(3,"My Profile"),o.Ub(),o.Ub(),o.Vb(4,"li"),o.Vb(5,"a",43),o.Lc(6,"Change Password"),o.Ub(),o.Ub(),o.Vb(7,"li"),o.Vb(8,"a",44),o.dc("click",(function(){return o.Dc(e),o.hc().utilsService.logout()})),o.Lc(9,"Logout"),o.Ub(),o.Ub(),o.Ub()}}const C=function(e){return{show:e}};let k=(()=>{class e{constructor(e,t,n,a){this.utilsService=e,this.commonDataService=t,this.storageService=n,this.branchUtilsService=a,this.collapseNavbar=!1,this.notificationList=[]}ngOnInit(){this.branchList=this.storageService.get("branchList"),this.getNotificationList()}ngAfterViewInit(){document.getElementById("close-sidebar").addEventListener("click",()=>{document.getElementsByClassName("page-wrapper")[0].classList.toggle("toggled")})}branchChange(e){this.storageService.append("branchId",e),window.location.reload()}markAsReadOnChange(e,t){this.commonDataService.getNotificationMarkAsRead({id:[e]}).subscribe(e=>{"SUCCESS"===e.status?(this.branchUtilsService.notificationTotalUnreadCount=this.branchUtilsService.notificationTotalUnreadCount-1,this.notificationList[t].status="2"):this.utilsService.showFailureMsg(e)})}getNotificationList(){this.commonDataService.getNotificationList({search:{documentTypeId:"",status:"1"},tableProperties:{first:0,rows:5,sortOrder:0}}).subscribe(e=>{"SUCCESS"===e.status?(e.results.searchResults.forEach(e=>{const t=r(),n=r.duration(t.diff(e.createdOn)),a=n.asHours();if(a<24)e.timeHourCalc=a.toFixed(0);else{const t=n.asDays();e.timeDayCalc=t.toFixed(0)}}),this.notificationList=e.results.searchResults,this.branchUtilsService.notificationTotalUnreadCount=e.results.totalUnreadCount):this.utilsService.showFailureMsg(e)})}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(i.g),o.Pb(s.l),o.Pb(i.f),o.Pb(c.a))},e.\u0275cmp=o.Jb({type:e,selectors:[["app-header"]],decls:23,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","fixed-top"],[1,"menu-icon"],["id","close-sidebar",1,"fa","fa-bars","fa-lg"],["href","javascript:void(0)",1,"navbar-brand"],["src","/assets/images/logo.png","height","40px"],[1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf"],["dropdown","",1,"nav-item",3,"autoClose"],["dropdown","bs-dropdown"],["href","javascript:void(0)","dropdownToggle","",1,"nav-link"],[1,"fa","fa-bell","fa-lg"],[1,"badge","badge-pill","badge-danger"],["class","dropdown-menu header-notifications",4,"dropdownMenu"],["dropdown","",1,"nav-item"],[1,"fa","fa-user-tie","fa-lg"],[1,"fa","fa-caret-down"],["class","dropdown-menu",4,"dropdownMenu"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"branch-control",3,"ngModel","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"dropdown-menu","header-notifications"],[1,"list-group"],[1,"list-group-item","header"],["class","list-group-item",4,"ngFor","ngForOf"],["routerLink","/branch/notifications",1,"list-group-item","footer",3,"click"],[1,"fa","fa-arrow-right"],[1,"list-group-item"],[1,"first-row"],[1,"user","ntn-bg-2"],[1,"content"],[1,"second-row"],["class","mark-read","tooltip","Mak as Read",3,"click",4,"ngIf"],["class","time",4,"ngIf"],["tooltip","Mak as Read",1,"mark-read",3,"click"],[1,"fa","fa-envelope","fa-lg"],[1,"time"],[1,"dropdown-menu"],["routerLink","/branch/settings/my-profile",1,"dropdown-item"],["routerLink","/branch/settings/change-password",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(o.Vb(0,"nav",0),o.Vb(1,"div",1),o.Qb(2,"i",2),o.Ub(),o.Vb(3,"a",3),o.Qb(4,"img",4),o.Ub(),o.Vb(5,"button",5),o.dc("click",(function(){return t.collapseNavbar=!t.collapseNavbar})),o.Qb(6,"span",6),o.Ub(),o.Vb(7,"div",7),o.Vb(8,"ul",8),o.Jc(9,m,4,2,"li",9),o.Vb(10,"li",10,11),o.Vb(12,"a",12),o.Qb(13,"i",13),o.Vb(14,"span",14),o.Lc(15),o.Ub(),o.Ub(),o.Jc(16,g,9,1,"div",15),o.Ub(),o.Vb(17,"li",16),o.Vb(18,"a",12),o.Qb(19,"i",17),o.Lc(20,"\xa0"),o.Qb(21,"i",18),o.Ub(),o.Jc(22,v,10,0,"ul",19),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Cb(7),o.oc("ngClass",o.sc(4,C,t.collapseNavbar)),o.Cb(2),o.oc("ngIf","BRANCH"===t.storageService.get("loggedInModule")),o.Cb(1),o.oc("autoClose",!1),o.Cb(5),o.Mc(t.branchUtilsService.notificationTotalUnreadCount))},directives:[d.k,d.m,l.a,l.d,l.b,b.t,b.m,b.o,d.l,b.p,b.v,a.e,u.a,a.g],styles:[""]}),e})();var D=n("LvDl");function I(e,t){if(1&e&&(o.Vb(0,"li",14),o.Vb(1,"span"),o.Lc(2),o.Ub(),o.Ub()),2&e){const e=o.hc().$implicit;o.Cb(2),o.Mc(e.key)}}function S(e,t){if(1&e&&(o.Vb(0,"li"),o.Vb(1,"a",18),o.Lc(2),o.Ub(),o.Ub()),2&e){const e=t.$implicit;o.Cb(1),o.oc("routerLink",e.menuUrl),o.Cb(1),o.Mc(e.screenName)}}function T(e,t){if(1&e&&(o.Vb(0,"li",15),o.Vb(1,"a",16),o.Qb(2,"i"),o.Vb(3,"span"),o.Lc(4),o.Ub(),o.Ub(),o.Vb(5,"div",17),o.Vb(6,"ul"),o.Jc(7,S,3,2,"li",11),o.Ub(),o.Ub(),o.Ub()),2&e){const e=t.$implicit;o.Cb(2),o.Eb(e.menuIconName),o.Cb(2),o.Mc(e.moduleName),o.Cb(3),o.oc("ngForOf",e.screenList)}}function K(e,t){if(1&e&&(o.Tb(0),o.Jc(1,I,3,1,"li",12),o.Jc(2,T,8,5,"li",13),o.Sb()),2&e){const e=t.$implicit;o.Cb(1),o.oc("ngIf",e.key),o.Cb(1),o.oc("ngForOf",e.value)}}let U=(()=>{class e{constructor(e,t){this.utilsService=e,this.storageService=t,this.appConstants=i.h,this.aclData={}}ngOnInit(){const e=this.storageService.get("branchAccessControlList");e.forEach(e=>{e.screenList=D.orderBy(e.screenList,[e=>parseInt(e.screenOrder)],["screenOrder"],["asc"])}),this.aclData=D.groupBy(this.addUrlAndIconInAcl(e),"group")}ngAfterViewInit(){$(".sidebar-dropdown > a").click((function(){$(".sidebar-submenu").slideUp(200),$(this).parent().hasClass("active")?($(".sidebar-dropdown").removeClass("active"),$(this).parent().removeClass("active")):($(".sidebar-dropdown").removeClass("active"),$(this).next(".sidebar-submenu").slideDown(200),$(this).parent().addClass("active"))}))}addUrlAndIconInAcl(e){return e.forEach(e=>{const t=D.find(i.b,{moduleId:e.moduleId});t&&(e.menuIconName=t.menuIconName,e.group=t.group),e.screenList.forEach(e=>{const t=D.find(i.c,{screenId:e.screenId});t&&(e.menuUrl=t.menuUrl)})}),e}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(i.g),o.Pb(i.f))},e.\u0275cmp=o.Jb({type:e,selectors:[["app-sidebar"]],decls:19,vars:7,consts:[[1,"sidebar-wrapper"],[1,"sidebar-content"],[1,"sidebar-header"],[1,"user-pic"],["alt","User picture",1,"img-responsive","img-rounded",3,"src"],[1,"user-info"],[1,"user-name"],[1,"user-code"],[1,"sidebar-menu"],["routerLink","/branch/dashboard","routerLinkActive","active"],[1,"fa","fa-tachometer-alt"],[4,"ngFor","ngForOf"],["class","header-menu",4,"ngIf"],["class","sidebar-dropdown",4,"ngFor","ngForOf"],[1,"header-menu"],[1,"sidebar-dropdown"],["href","javascript:void(0)"],[1,"sidebar-submenu"],["routerLinkActive","active",3,"routerLink"]],template:function(e,t){1&e&&(o.Vb(0,"nav",0),o.Vb(1,"div",1),o.Vb(2,"div",2),o.Vb(3,"div",3),o.Qb(4,"img",4),o.Ub(),o.Vb(5,"div",5),o.Vb(6,"span",6),o.Lc(7),o.Ub(),o.Vb(8,"span",7),o.Lc(9),o.Ub(),o.Ub(),o.Ub(),o.Vb(10,"div",8),o.Vb(11,"ul"),o.Vb(12,"li"),o.Vb(13,"a",9),o.Qb(14,"i",10),o.Vb(15,"span"),o.Lc(16,"Dashboard"),o.Ub(),o.Ub(),o.Ub(),o.Jc(17,K,3,2,"ng-container",11),o.ic(18,"keyvalue"),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Cb(4),o.oc("src",t.storageService.get("userImageUrl")?t.storageService.get("userImageUrl"):t.appConstants.DEFAULT_USER_ICON,o.Fc),o.Cb(3),o.Mc(t.storageService.get("name")),o.Cb(2),o.Oc("",t.storageService.get("empCode")," | ",t.storageService.get("designationName"),""),o.Cb(8),o.oc("ngForOf",o.jc(18,5,t.aclData)))},directives:[a.g,a.f,d.l,d.m],pipes:[d.g],styles:[""]}),e})(),x=(()=>{class e{constructor(){this.appConstants=i.h,this.todayDate=new Date}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Jb({type:e,selectors:[["app-branch-container"]],decls:9,vars:5,consts:[[1,"page-wrapper","toggled"],[1,"page-content"],[1,"container-fluid"],[1,"footer"]],template:function(e,t){1&e&&(o.Qb(0,"app-header"),o.Vb(1,"div",0),o.Qb(2,"app-sidebar"),o.Vb(3,"div",1),o.Vb(4,"div",2),o.Qb(5,"router-outlet"),o.Ub(),o.Vb(6,"div",3),o.Lc(7),o.ic(8,"date"),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Cb(7),o.Oc(" Copyright \xa9 ",o.kc(8,2,t.todayDate,"yyyy")," ",t.appConstants.COMPANY_NAME,". All rights reserved. v7.3 "))},directives:[k,U,a.i],pipes:[d.d],styles:[""]}),e})(),A=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Jb({type:e,selectors:[["app-dashboard"]],decls:8,vars:0,consts:[[1,"page-title"],[1,"working-container"],[2,"text-align","center","margin-top","150px"],["src","/assets/images/no-images/no-dashboard.png","height","150"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Lc(1," Dashboard\n"),o.Ub(),o.Vb(2,"div",1),o.Vb(3,"div",2),o.Qb(4,"img",3),o.Qb(5,"br"),o.Qb(6,"br"),o.Lc(7," There is no dashboard items available! "),o.Ub(),o.Ub())},styles:[""]}),e})();var w=n("ZOsW");function O(e,t){if(1&e){const e=o.Wb();o.Vb(0,"span",22),o.dc("click",(function(){return o.Dc(e),o.hc().$implicit.show=!1})),o.Qb(1,"i",23),o.Ub()}}function V(e,t){if(1&e){const e=o.Wb();o.Vb(0,"span",24),o.dc("click",(function(){return o.Dc(e),o.hc().$implicit.show=!0})),o.Qb(1,"i",25),o.Ub()}}function N(e,t){if(1&e&&(o.Vb(0,"div",27),o.Vb(1,"strong"),o.Lc(2,"Request:"),o.Ub(),o.Vb(3,"pre"),o.Lc(4),o.ic(5,"json"),o.Ub(),o.Ub()),2&e){const e=o.hc(2).$implicit;o.Cb(4),o.Mc(o.jc(5,1,e.requestParameter))}}function P(e,t){if(1&e&&(o.Vb(0,"div",27),o.Vb(1,"strong"),o.Lc(2,"Response:"),o.Ub(),o.Vb(3,"pre"),o.Lc(4),o.ic(5,"json"),o.Ub(),o.Ub()),2&e){const e=o.hc(2).$implicit;o.Cb(4),o.Mc(o.jc(5,1,e.responseParameter))}}function L(e,t){if(1&e&&(o.Tb(0),o.Jc(1,N,6,3,"div",26),o.Jc(2,P,6,3,"div",26),o.Sb()),2&e){const e=o.hc().$implicit;o.Cb(1),o.oc("ngIf",e.requestParameter),o.Cb(1),o.oc("ngIf",e.responseParameter)}}function M(e,t){if(1&e&&(o.Vb(0,"div",13),o.Vb(1,"div",14),o.Vb(2,"div",15),o.Vb(3,"div",16),o.Vb(4,"strong"),o.Lc(5,"URL:"),o.Ub(),o.Qb(6,"br"),o.Lc(7),o.Ub(),o.Vb(8,"div",17),o.Vb(9,"strong"),o.Lc(10,"Method:"),o.Ub(),o.Qb(11,"br"),o.Lc(12),o.ic(13,"uppercase"),o.Ub(),o.Vb(14,"div",17),o.Vb(15,"strong"),o.Lc(16,"Screen:"),o.Ub(),o.Qb(17,"br"),o.Lc(18),o.Ub(),o.Vb(19,"div",18),o.Vb(20,"strong"),o.Jc(21,O,2,0,"span",19),o.Jc(22,V,2,0,"span",20),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Jc(23,L,3,2,"ng-container",21),o.Ub()),2&e){const e=t.$implicit;o.Cb(7),o.Nc("",e.apiUrl," "),o.Cb(5),o.Nc("",o.jc(13,6,e.methodType)," "),o.Cb(6),o.Nc("",e.screenName," "),o.Cb(3),o.oc("ngIf",e.show),o.Cb(1),o.oc("ngIf",!e.show),o.Cb(1),o.oc("ngIf",e.show)}}function F(e,t){if(1&e&&(o.Vb(0,"option",11),o.Lc(1),o.Ub()),2&e){const e=t.$implicit;o.oc("value",e.id),o.Cb(1),o.Mc(e.screenName)}}function E(e,t){if(1&e){const e=o.Wb();o.Vb(0,"a",22),o.dc("click",(function(){o.Dc(e);const t=o.hc(),n=t.$implicit,a=t.index;return o.hc(2).markAsReadOnChange(n.id,a)})),o.Lc(1,"Mark as read"),o.Ub()}}function Q(e,t){if(1&e&&(o.Vb(0,"span"),o.Lc(1),o.Ub()),2&e){const e=o.hc().$implicit;o.Cb(1),o.Nc("",e.timeHourCalc," hours ago")}}function _(e,t){if(1&e&&(o.Vb(0,"span"),o.Lc(1),o.Ub()),2&e){const e=o.hc().$implicit;o.Cb(1),o.Nc("",e.timeDayCalc," days ago")}}function B(e,t){if(1&e){const e=o.Wb();o.Vb(0,"div",16),o.Vb(1,"div"),o.Lc(2),o.Ub(),o.Vb(3,"div",17),o.Vb(4,"h4",18),o.Lc(5),o.Ub(),o.Vb(6,"p"),o.Lc(7),o.Ub(),o.Vb(8,"span"),o.Vb(9,"a",19),o.dc("click",(function(){o.Dc(e);const n=t.$implicit;return o.hc(2).documentNavigation(n)})),o.Lc(10,"Click to view more"),o.Ub(),o.Jc(11,E,2,0,"a",20),o.Ub(),o.Vb(12,"div",21),o.Jc(13,Q,2,1,"span",10),o.Jc(14,_,2,1,"span",10),o.Vb(15,"span"),o.Lc(16),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&e){const e=t.$implicit,n=t.index;o.Cb(1),o.Fb("timeline-icon ntn-bg-",n+1,""),o.Cb(1),o.Nc(" ",e.documentTypeName[0]," "),o.Cb(3),o.Mc(e.documentTypeName),o.Cb(2),o.Mc(e.content),o.Cb(4),o.oc("ngIf","1"===e.status),o.Cb(2),o.oc("ngIf",e.timeHourCalc),o.Cb(1),o.oc("ngIf",e.timeDayCalc),o.Cb(2),o.Oc("Posted by: ",e.firstName," ",e.lastName,"")}}function W(e,t){if(1&e){const e=o.Wb();o.Vb(0,"button",23),o.dc("click",(function(){return o.Dc(e),o.hc(2).getNotificationList()})),o.Lc(1,"Read more..."),o.Ub()}}function H(e,t){if(1&e){const e=o.Wb();o.Vb(0,"button",23),o.dc("click",(function(){return o.Dc(e),o.hc(2).markAllAsRead()})),o.Lc(1,"Mark All as Read"),o.Ub()}}function J(e,t){1&e&&(o.Vb(0,"div"),o.Lc(1," No more notifications to show! "),o.Ub())}function q(e,t){if(1&e&&(o.Vb(0,"div",12),o.Jc(1,B,17,11,"div",13),o.Vb(2,"div",14),o.Jc(3,W,2,0,"button",15),o.Jc(4,H,2,0,"button",15),o.Ub(),o.Jc(5,J,2,0,"div",10),o.Ub()),2&e){const e=o.hc();o.Cb(1),o.oc("ngForOf",e.notificationList),o.Cb(2),o.oc("ngIf",e.totalRecords!==e.notificationList.length),o.Cb(1),o.oc("ngIf",e.branchUtilsService.notificationTotalUnreadCount>0),o.Cb(1),o.oc("ngIf",e.totalRecords===e.notificationList.length)}}function G(e,t){1&e&&(o.Vb(0,"div"),o.Lc(1," No notifications to show "),o.Ub())}const j=a.h.forChild([{path:"",component:x,children:[{path:"dashboard",component:A},{path:"api-documentation",component:(()=>{class e{constructor(e,t){this.utilsService=e,this.commonDataService=t,this.appConstants=i.h,this.screenList=[],this.listing=[],this.filteredListing=[]}ngOnInit(){this.getApiDocument()}getApiDocument(){this.commonDataService.getApiDocument().subscribe(e=>{if("SUCCESS"===e.status){e.results.searchResults=D.orderBy(e.results.searchResults,["screenName"],["asc"]);const t=D.uniqBy(e.results.searchResults,"screenName");this.screenList=t.map(e=>e.screenName),this.listing=e.results.searchResults.map(e=>(e.show=!0,e)),this.screenName=this.screenList[0],this.getScreenBasedApis()}else this.utilsService.showFailureMsg(e)})}getScreenBasedApis(){this.filteredListing=this.screenName?D.filter(this.listing,{screenName:this.screenName}):this.listing}collapseAll(e){this.listing=this.listing.map(t=>(t.show=e,t))}printDiv(e){const t=document.getElementById(e).innerHTML;document.body.innerHTML=t,window.print(),window.location.reload()}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(i.g),o.Pb(s.l))},e.\u0275cmp=o.Jb({type:e,selectors:[["app-api-document-container"]],decls:26,vars:4,consts:[[1,"page-title"],[1,"btn-group"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-compress"],[1,"fa","fa-expand"],[1,"fa","fa-print"],[1,"working-container","api-documentation"],[1,"row","mb-3"],[1,"col-sm-3"],[1,"form-label"],["placeholder","--SELECT--","appendTo","body",3,"items","ngModel","multiple","ngModelChange","change"],["id","print"],["class","list",4,"ngFor","ngForOf"],[1,"list"],[1,"alert","alert-warning"],[1,"row"],[1,"col-sm-7"],[1,"col-sm-2"],[1,"col-sm-1"],["tooltip","Hide",3,"click",4,"ngIf"],["tooltip","Expand",3,"click",4,"ngIf"],[4,"ngIf"],["tooltip","Hide",3,"click"],[1,"fa","fa-eye-slash"],["tooltip","Expand",3,"click"],[1,"fa","fa-eye"],["class","req-res",4,"ngIf"],[1,"req-res"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Vb(1,"span"),o.Lc(2,"API"),o.Ub(),o.Lc(3," Documentation "),o.Vb(4,"div",1),o.Vb(5,"button",2),o.dc("click",(function(){return t.collapseAll(!1)})),o.Qb(6,"i",3),o.Vb(7,"span"),o.Lc(8,"Collapse All"),o.Ub(),o.Ub(),o.Vb(9,"button",2),o.dc("click",(function(){return t.collapseAll(!0)})),o.Qb(10,"i",4),o.Vb(11,"span"),o.Lc(12,"Expand All"),o.Ub(),o.Ub(),o.Vb(13,"button",2),o.dc("click",(function(){return t.printDiv("print")})),o.Qb(14,"i",5),o.Vb(15,"span"),o.Lc(16,"Print"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(17,"div",6),o.Vb(18,"div",7),o.Vb(19,"div",8),o.Vb(20,"label",9),o.Vb(21,"strong"),o.Lc(22,"Select Screen"),o.Ub(),o.Ub(),o.Vb(23,"ng-select",10),o.dc("ngModelChange",(function(e){return t.screenName=e}))("change",(function(){return t.getScreenBasedApis()})),o.Ub(),o.Ub(),o.Ub(),o.Vb(24,"div",11),o.Jc(25,M,24,8,"div",12),o.Ub(),o.Ub()),2&e&&(o.Cb(23),o.oc("items",t.screenList)("ngModel",t.screenName)("multiple",!1),o.Cb(2),o.oc("ngForOf",t.filteredListing))},directives:[w.a,b.m,b.o,d.l,d.m,u.a],pipes:[d.u,d.f],styles:[".api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-bottom:20px}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;font-family:Open-Sans-Bold}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{cursor:pointer}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .req-res[_ngcontent-%COMP%]{font-size:14px}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .req-res[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:red}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .req-res[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{padding:10px;font-size:12px;background:#ecfaff;margin-bottom:10px}"]}),e})()},{path:"notifications",component:(()=>{class e{constructor(e,t,n){this.utilsService=e,this.commonDataService=t,this.branchUtilsService=n,this.appConstants=i.h,this.notificationList=[],this.notificationScreenList=[],this.totalRecords=0,this.screenId=""}ngOnInit(){this.getNotificationList(),this.getNotificationScreenList()}documentNavigation(e){Object.entries(this.branchUtilsService.screenAttributes).forEach(([t,n])=>{const a=JSON.parse(JSON.stringify(n));a.documentTypeId===e.documentTypeId&&this.utilsService.redirect(`/branch/${a.module}/${a.editRouteKey}/${a.uiKey}/${e.documentId}`)})}getNotificationScreenList(){this.commonDataService.getNotificationScreens().subscribe(e=>{"SUCCESS"===e.status?this.notificationScreenList=e.results:this.utilsService.showFailureMsg(e)})}markAsReadOnChange(e,t){this.commonDataService.getNotificationMarkAsRead({id:[e]}).subscribe(e=>{"SUCCESS"===e.status?(this.branchUtilsService.notificationTotalUnreadCount=this.branchUtilsService.notificationTotalUnreadCount-1,this.notificationList[t].status="2"):this.utilsService.showFailureMsg(e)})}markAllAsRead(){this.commonDataService.getMarkAllAsRead().subscribe(e=>{"SUCCESS"===e.status?this.notificationList.forEach(e=>{e.status="2"}):this.utilsService.showFailureMsg(e)})}getNotificationList(e){this.commonDataService.getNotificationList({search:{documentTypeId:e?this.screenId:"",status:""},tableProperties:{first:"search"===e?0:this.notificationList.length,rows:10,sortOrder:0}}).subscribe(t=>{"SUCCESS"===t.status?(t.results.searchResults.forEach(e=>{const t=r(),n=r.duration(t.diff(e.createdOn)),a=n.asHours();if(a<24)e.timeHourCalc=a.toFixed(0);else{const t=n.asDays();e.timeDayCalc=t.toFixed(0)}}),"search"===e?(this.notificationList=[],this.notificationList=t.results.searchResults):this.notificationList.push(...t.results.searchResults),this.branchUtilsService.notificationTotalUnreadCount=t.results.totalUnreadCount,this.totalRecords=t.results.totalRecords):this.utilsService.showFailureMsg(t)})}}return e.\u0275fac=function(t){return new(t||e)(o.Pb(i.g),o.Pb(s.l),o.Pb(c.a))},e.\u0275cmp=o.Jb({type:e,selectors:[["app-notifications-container"]],decls:19,vars:4,consts:[[1,"page-title"],[1,"working-container"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm","mt-3",3,"click"],["class","timeline",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"timeline"],["class","timeline-container primary",4,"ngFor","ngForOf"],[1,"btn-group","text-right"],["class","btn btn-dark btn-sm",3,"click",4,"ngIf"],[1,"timeline-container","primary"],[1,"timeline-body"],[1,"timeline-title"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)","style","margin-left: 10px;",3,"click",4,"ngIf"],[1,"timeline-subtitle"],["href","javascript:void(0)",2,"margin-left","10px",3,"click"],[1,"btn","btn-dark","btn-sm",3,"click"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Vb(1,"span"),o.Lc(2,"N"),o.Ub(),o.Lc(3,"otifications\n"),o.Ub(),o.Vb(4,"div",1),o.Vb(5,"div",2),o.Vb(6,"div",3),o.Vb(7,"label",4),o.Vb(8,"strong"),o.Lc(9,"Filter by Document Type"),o.Ub(),o.Ub(),o.Vb(10,"select",5),o.dc("ngModelChange",(function(e){return t.screenId=e})),o.Vb(11,"option",6),o.Lc(12,"--ALL--"),o.Ub(),o.Jc(13,F,2,2,"option",7),o.Ub(),o.Ub(),o.Vb(14,"div",3),o.Vb(15,"button",8),o.dc("click",(function(){return t.getNotificationList("search")})),o.Lc(16,"Search"),o.Ub(),o.Ub(),o.Ub(),o.Jc(17,q,6,4,"div",9),o.Jc(18,G,2,0,"div",10),o.Ub()),2&e&&(o.Cb(10),o.oc("ngModel",t.screenId),o.Cb(3),o.oc("ngForOf",t.notificationScreenList),o.Cb(4),o.oc("ngIf",t.notificationList.length>0),o.Cb(1),o.oc("ngIf",0===t.notificationList.length))},directives:[b.t,b.m,b.o,b.p,b.v,d.l,d.m],styles:['.timeline[_ngcontent-%COMP%]{position:relative;padding-left:4rem;margin:0 0 0 30px;font-size:13px}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:4px;height:100%;background:#8d99a2}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]{position:relative;margin-bottom:2.5rem}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{position:absolute;left:-88px;top:4px;width:50px;height:50px;border-radius:50%;text-align:center;font-size:2rem}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]{background:#d2ebff;border-radius:3px;padding:10px 20px;box-shadow:1px 3px 9px rgba(0,0,0,.1)}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]:before{content:"";background:inherit;width:20px;height:20px;display:block;position:absolute;left:-10px;transform:rotate(45deg);border-radius:0 0 0 2px}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]{margin-bottom:10px;font-size:14px;font-family:Open-Sans-Bold}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-action[_ngcontent-%COMP%]{margin-bottom:10px}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-subtitle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:300;font-style:italic;margin-top:16px;font-size:11px}']}),e})()},{path:"settings",loadChildren:()=>n.e(24).then(n.bind(null,"ef8g")).then(e=>e.SettingsModule)},{path:"crm",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,"J6bJ")).then(e=>e.CrmModule)},{path:"sales",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(23)]).then(n.bind(null,"XLNE")).then(e=>e.SalesModule)},{path:"smt",loadChildren:()=>n.e(25).then(n.bind(null,"RCZk")).then(e=>e.SmtModule)},{path:"bp",loadChildren:()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"Fg2s")).then(e=>e.BusinessPartnerModule)},{path:"inventory",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(19)]).then(n.bind(null,"FP8e")).then(e=>e.InventoryModule)},{path:"purchase",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(20)]).then(n.bind(null,"dJxe")).then(e=>e.PurchaseModule)},{path:"hr",loadChildren:()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"UmRt")).then(e=>e.HrModule)},{path:"admin-general",loadChildren:()=>Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"cuSC")).then(e=>e.AdminGeneralModule)},{path:"sales-opportunities",loadChildren:()=>Promise.all([n.e(0),n.e(22)]).then(n.bind(null,"gEGQ")).then(e=>e.SalesOpportunitiesModule)},{path:"financials",loadChildren:()=>Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"oDoc")).then(e=>e.FinancialsModule)},{path:"admin-inventory",loadChildren:()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"i2d0")).then(e=>e.AdminInventoryModule)},{path:"customization",loadChildren:()=>Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"AXVv")).then(e=>e.CustomizationModule)},{path:"rental",loadChildren:()=>Promise.all([n.e(0),n.e(1),n.e(3),n.e(21)]).then(n.bind(null,"WfjI")).then(e=>e.RentalModule)},{path:"system-initialization",loadChildren:()=>n.e(26).then(n.bind(null,"CiB8")).then(e=>e.SystemInitializationModule)},{path:"approval-process",loadChildren:()=>n.e(14).then(n.bind(null,"FinS")).then(e=>e.ApprovalModule)},{path:"transport",loadChildren:()=>Promise.all([n.e(1),n.e(9)]).then(n.bind(null,"Ir9b")).then(e=>e.TransportModule)}]}]);var z=n("PCNd");let Z=(()=>{class e{}return e.\u0275mod=o.Nb({type:e}),e.\u0275inj=o.Mb({factory:function(t){return new(t||e)},providers:[c.a],imports:[[j,z.a],z.a]}),e})()}}]);