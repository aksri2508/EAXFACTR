(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{CiB8:function(t,e,r){"use strict";r.r(e),r.d(e,"SystemInitializationModule",(function(){return R}));var i=r("o+NB"),n=r("tyNb"),c=r("LvDl"),o=r("ey9i"),s=r("3Pt+"),b=r("fXoL"),a=r("oARB"),m=r("IzNV"),u=r("K3ix"),d=r("ofXK"),l=r("ZOsW");function h(t,e){1&t&&(b.Tb(0),b.Lc(1,"Add"),b.Sb())}function f(t,e){1&t&&(b.Tb(0),b.Lc(1,"Edit"),b.Sb())}function p(t,e){if(1&t&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&t){const t=b.hc();b.Cb(1),b.Nc(" ",t.myFormErrors.documentTypeId," ")}}function g(t,e){if(1&t&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&t){const t=b.hc();b.Cb(1),b.Nc(" ",t.myFormErrors.documentNumberingName," ")}}function N(t,e){if(1&t&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&t){const t=b.hc();b.Cb(1),b.Nc(" ",t.myFormErrors.firstNumber," ")}}function U(t,e){if(1&t&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&t){const t=b.hc();b.Cb(1),b.Nc(" ",t.myFormErrors.lastNumber," ")}}function C(t,e){if(1&t&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&t){const t=b.hc();b.Cb(1),b.Nc(" ",t.myFormErrors.digits," ")}}function V(t,e){if(1&t&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&t){const t=b.hc();b.Cb(1),b.Nc(" ",t.myFormErrors.branchId," ")}}function L(t,e){if(1&t){const t=b.Wb();b.Vb(0,"button",29),b.dc("click",(function(){return b.Dc(t),b.hc().saveUpdate()})),b.Qb(1,"i",30),b.Vb(2,"span"),b.Lc(3,"Save"),b.Ub(),b.Ub()}}function y(t,e){if(1&t){const t=b.Wb();b.Vb(0,"button",31),b.dc("click",(function(){return b.Dc(t),b.hc().clearForm()})),b.Qb(1,"i",32),b.Vb(2,"span"),b.Lc(3,"Clear"),b.Ub(),b.Ub()}}function v(t,e){if(1&t){const t=b.Wb();b.Vb(0,"button",29),b.dc("click",(function(){return b.Dc(t),b.hc().saveUpdate()})),b.Qb(1,"i",33),b.Vb(2,"span"),b.Lc(3,"Update"),b.Ub(),b.Ub()}}function F(t,e){if(1&t){const t=b.Wb();b.Vb(0,"button",31),b.dc("click",(function(){return b.Dc(t),b.hc().activeModal.hide()})),b.Qb(1,"i",34),b.Vb(2,"span"),b.Lc(3,"Cancel"),b.Ub(),b.Ub()}}function S(t,e){1&t&&(b.Vb(0,"div",35),b.Vb(1,"span",36),b.Lc(2,"Note:"),b.Ub(),b.Lc(3," You are unauthorized to "),b.Vb(4,"strong"),b.Lc(5,"update"),b.Ub(),b.Lc(6," this transaction! "),b.Ub())}function I(t,e){1&t&&(b.Vb(0,"div",35),b.Vb(1,"span",36),b.Lc(2,"Note:"),b.Ub(),b.Lc(3," You are unauthorized to "),b.Vb(4,"strong"),b.Lc(5,"add"),b.Ub(),b.Lc(6," this transaction!. "),b.Ub())}let D=(()=>{class t{constructor(t,e,r,i,n,c,s,b){this.utilsService=t,this.authGuardService=e,this.commonDataService=r,this.documentNumberingDataService=i,this.branchUtilsService=n,this.activeModal=c,this.formBuilder=s,this.storageService=b,this.screenAcl={},this.branchList=[],this.screenList=[],this.appConstants=o.h,this.myFormData={},this.myFormErrors={documentTypeId:"",documentNumberingName:"",firstNumber:"",lastNumber:"",digits:"",branchId:""},this.myFormValidationMsgs={documentTypeId:{required:"Document Type is required"},documentNumberingName:{required:"Name is required"},firstNumber:{required:"First No is required",pattern:"Only positive numbers are allowed"},lastNumber:{required:"Last No is required",pattern:"Only positive numbers are allowed",min:"Last number should be greater than first number"},digits:{required:"Digits is required",maxlength:"One character is allowed",pattern:"Only positive numbers are allowed"},branchId:{required:"Branch is required"}}}ngOnInit(){this.screenAcl=this.authGuardService.getScreenAcl("55"),this.initializeForm(),this.branchList=this.storageService.get("branchList"),this.inputEditId?this.get():this.getDocTypeList()}initializeForm(){this.myForm=this.formBuilder.group({documentTypeId:[null,[s.u.required]],documentNumberingName:["",[s.u.required]],firstNumber:[{value:"",disabled:!1},[s.u.required,s.u.pattern(o.h.VALIDATION_PATTERNS.positiveFloatNumber)]],lastNumber:["",[s.u.required,s.u.pattern(o.h.VALIDATION_PATTERNS.positiveFloatNumber)]],nextNumber:[{value:"",disabled:!0}],prefix:[{value:"",disabled:!1}],suffix:[{value:"",disabled:!1}],digits:[{value:0,disabled:!1},[s.u.required,s.u.maxLength(1),s.u.pattern(o.h.VALIDATION_PATTERNS.positiveFloatNumber)]],remarks:[""],isLock:[!1],branchId:[{value:null,disabled:!1},[s.u.required]]}),this.myForm.valueChanges.subscribe(t=>{this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs),this.myFormData=this.myForm.getRawValue()}),this.myFormData=this.myForm.getRawValue()}saveUpdate(){if(!this.myForm.valid)return this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs,!0),!1;const t={documentTypeId:this.myFormData.documentTypeId,documentNumberingName:this.myFormData.documentNumberingName,firstNumber:this.myFormData.firstNumber,lastNumber:this.myFormData.lastNumber,nextNumber:this.myFormData.nextNumber,prefix:this.myFormData.prefix,suffix:this.myFormData.suffix,digits:this.myFormData.digits,remarks:this.myFormData.remarks,isLock:this.myFormData.isLock?1:0,branchId:this.myFormData.branchId};let e;this.inputEditId?(e="update",t.id=this.inputEditId):e="save",this.documentNumberingDataService[e](t).subscribe(t=>{"SUCCESS"===t.status?(this.utilsService.showSuccessMsg(t),this.branchUtilsService.actionSaveUpdate.next({triggerType:"document-numbering"}),this.activeModal.hide()):this.utilsService.showFailureMsg(t)})}get(){this.documentNumberingDataService.get(this.inputEditId).subscribe(t=>{if("SUCCESS"===t.status){const e=t.results[0];this.myForm.patchValue({documentTypeId:e.documentTypeId,documentNumberingName:e.documentNumberingName,firstNumber:e.firstNumber,lastNumber:e.lastNumber,nextNumber:e.nextNumber,prefix:e.prefix,suffix:e.suffix,digits:e.digits,remarks:e.remarks,isLock:"1"===e.isLock,branchId:e.branchId}),e.firstNumber===e.nextNumber?this.myForm.enable():(this.myForm.controls.documentTypeId.disable(),this.myForm.controls.firstNumber.disable(),this.myForm.controls.prefix.disable(),this.myForm.controls.suffix.disable(),this.myForm.controls.digits.disable(),this.myForm.controls.branchId.disable()),this.getDocTypeList(e.documentTypeId)}else this.utilsService.showFailureMsg(t)})}clearForm(){this.initializeForm()}onFirstnumberChange(){this.myForm.patchValue({nextNumber:this.myFormData.firstNumber}),this.onLastNumberChange()}onLastNumberChange(){this.myForm.controls.lastNumber.setValidators([s.u.required,s.u.min(parseInt(this.myFormData.firstNumber,10)),s.u.pattern(o.h.VALIDATION_PATTERNS.positiveFloatNumber)]),this.myForm.controls.lastNumber.updateValueAndValidity()}getDocTypeList(t){this.documentNumberingDataService.getAllowedDocTypesForDocNumbering().subscribe(e=>{"SUCCESS"===e.status?(this.screenList=e.results,this.utilsService.ifNotPushToList(e.results,t)):this.utilsService.showFailureMsg(e)})}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(o.g),b.Pb(o.a),b.Pb(a.l),b.Pb(a.q),b.Pb(m.a),b.Pb(u.a),b.Pb(s.e),b.Pb(o.f))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-document-numbering-add-popup"]],decls:82,vars:17,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"close",3,"click"],[1,"modal-body"],[1,"row",3,"formGroup"],[1,"form-group","col-sm-4"],[1,"form-label"],[1,"mandatory"],["formControlName","documentTypeId","bindLabel","screenName","bindValue","documentTypeId","placeholder","--SELECT--",3,"items"],["class","validation-error",4,"ngIf"],["type","text","formControlName","documentNumberingName",1,"form-control","form-control-sm"],["type","text","formControlName","firstNumber",1,"form-control","form-control-sm",3,"change"],["type","text","formControlName","nextNumber",1,"form-control","form-control-sm"],["type","text","formControlName","lastNumber",1,"form-control","form-control-sm",3,"change"],["type","text","formControlName","prefix",1,"form-control","form-control-sm"],["type","text","formControlName","suffix",1,"form-control","form-control-sm"],["type","text","formControlName","digits",1,"form-control","form-control-sm"],["type","text","formControlName","remarks",1,"form-control","form-control-sm"],["formControlName","branchId","bindLabel","branchName","bindValue","id","placeholder","--SELECT--",3,"items"],[1,"checkbox"],["type","checkbox","formControlName","isLock"],[1,"checkmark"],[1,"modal-footer"],[1,"btn-group","text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[1,"validation-error"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-broom"],[1,"fa","fa-sync"],[1,"fa","fa-times"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(b.Vb(0,"div",0),b.Vb(1,"h5",1),b.Jc(2,h,2,0,"ng-container",2),b.Jc(3,f,2,0,"ng-container",2),b.Lc(4," Document Numbering "),b.Ub(),b.Vb(5,"button",3),b.dc("click",(function(){return e.activeModal.hide()})),b.Vb(6,"span"),b.Lc(7,"\xd7"),b.Ub(),b.Ub(),b.Ub(),b.Vb(8,"div",4),b.Vb(9,"div",5),b.Vb(10,"div",6),b.Vb(11,"label",7),b.Lc(12,"Document Name"),b.Vb(13,"span",8),b.Lc(14,"*"),b.Ub(),b.Ub(),b.Qb(15,"ng-select",9),b.Jc(16,p,2,1,"div",10),b.Ub(),b.Vb(17,"div",6),b.Vb(18,"label",7),b.Lc(19,"Name"),b.Vb(20,"span",8),b.Lc(21,"*"),b.Ub(),b.Ub(),b.Qb(22,"input",11),b.Jc(23,g,2,1,"div",10),b.Ub(),b.Vb(24,"div",6),b.Vb(25,"label",7),b.Lc(26,"First No"),b.Vb(27,"span",8),b.Lc(28,"*"),b.Ub(),b.Ub(),b.Vb(29,"input",12),b.dc("change",(function(){return e.onFirstnumberChange()})),b.Ub(),b.Jc(30,N,2,1,"div",10),b.Ub(),b.Vb(31,"div",6),b.Vb(32,"label",7),b.Lc(33,"Next No"),b.Ub(),b.Qb(34,"input",13),b.Ub(),b.Vb(35,"div",6),b.Vb(36,"label",7),b.Lc(37,"Last No"),b.Vb(38,"span",8),b.Lc(39,"*"),b.Ub(),b.Ub(),b.Vb(40,"input",14),b.dc("change",(function(){return e.onLastNumberChange()})),b.Ub(),b.Jc(41,U,2,1,"div",10),b.Ub(),b.Vb(42,"div",6),b.Vb(43,"label",7),b.Lc(44,"Prefix"),b.Ub(),b.Qb(45,"input",15),b.Ub(),b.Vb(46,"div",6),b.Vb(47,"label",7),b.Lc(48,"Suffix"),b.Ub(),b.Qb(49,"input",16),b.Ub(),b.Vb(50,"div",6),b.Vb(51,"label",7),b.Lc(52,"Digits"),b.Vb(53,"span",8),b.Lc(54,"*"),b.Ub(),b.Ub(),b.Qb(55,"input",17),b.Jc(56,C,2,1,"div",10),b.Ub(),b.Vb(57,"div",6),b.Vb(58,"label",7),b.Lc(59,"Remarks"),b.Ub(),b.Qb(60,"input",18),b.Ub(),b.Vb(61,"div",6),b.Vb(62,"label",7),b.Lc(63,"Branch"),b.Vb(64,"span",8),b.Lc(65,"*"),b.Ub(),b.Ub(),b.Qb(66,"ng-select",19),b.Jc(67,V,2,1,"div",10),b.Ub(),b.Vb(68,"div",6),b.Vb(69,"label",7),b.Lc(70,"Lock"),b.Ub(),b.Vb(71,"label",20),b.Qb(72,"input",21),b.Qb(73,"span",22),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(74,"div",23),b.Vb(75,"div",24),b.Jc(76,L,4,0,"button",25),b.Jc(77,y,4,0,"button",26),b.Jc(78,v,4,0,"button",25),b.Jc(79,F,4,0,"button",26),b.Ub(),b.Jc(80,S,7,0,"div",27),b.Jc(81,I,7,0,"div",27),b.Ub()),2&t&&(b.Cb(2),b.oc("ngIf",!e.inputEditId),b.Cb(1),b.oc("ngIf",e.inputEditId),b.Cb(6),b.oc("formGroup",e.myForm),b.Cb(6),b.oc("items",e.screenList),b.Cb(1),b.oc("ngIf",e.myFormErrors.documentTypeId),b.Cb(7),b.oc("ngIf",e.myFormErrors.documentNumberingName),b.Cb(7),b.oc("ngIf",e.myFormErrors.firstNumber),b.Cb(11),b.oc("ngIf",e.myFormErrors.lastNumber),b.Cb(15),b.oc("ngIf",e.myFormErrors.digits),b.Cb(10),b.oc("items",e.branchList),b.Cb(1),b.oc("ngIf",e.myFormErrors.branchId),b.Cb(9),b.oc("ngIf",e.screenAcl.add&&!e.inputEditId),b.Cb(1),b.oc("ngIf",!e.inputEditId),b.Cb(1),b.oc("ngIf",e.screenAcl.update&&e.inputEditId),b.Cb(1),b.oc("ngIf",e.inputEditId),b.Cb(1),b.oc("ngIf",e.inputEditId&&!e.screenAcl.update),b.Cb(1),b.oc("ngIf",!e.inputEditId&&!e.screenAcl.add))},directives:[d.m,s.n,s.i,l.a,s.m,s.g,s.b,s.a],styles:[""]}),t})();var x=r("rEr+"),k=r("7zfz"),M=r("Mfq2");const T=["dataTable"];function E(t,e){if(1&t&&(b.Vb(0,"div",15),b.Vb(1,"div",16),b.Vb(2,"div",17),b.Lc(3),b.Ub(),b.Vb(4,"div",18),b.Lc(5),b.Ub(),b.Ub(),b.Ub()),2&t){const t=e.$implicit,r=e.index,i=b.hc(2);b.Cb(3),b.Nc(" ",t.name," "),b.Cb(1),b.oc("ngClass",i.appConstants.DOC_NUMBERING_STATUS_COLOR_CLS[r]),b.Cb(1),b.Nc("",t.count," ")}}function A(t,e){if(1&t){const t=b.Wb();b.Vb(0,"tr"),b.Vb(1,"th",19),b.Lc(2,"Actions"),b.Ub(),b.Vb(3,"th",20),b.Lc(4,"Document Name"),b.Qb(5,"p-sortIcon",21),b.Ub(),b.Vb(6,"th",22),b.Lc(7,"Name"),b.Qb(8,"p-sortIcon",21),b.Ub(),b.Vb(9,"th",22),b.Lc(10,"First No"),b.Qb(11,"p-sortIcon",21),b.Ub(),b.Vb(12,"th",22),b.Lc(13,"Next No"),b.Qb(14,"p-sortIcon",21),b.Ub(),b.Vb(15,"th",22),b.Lc(16,"Last No"),b.Qb(17,"p-sortIcon",21),b.Ub(),b.Vb(18,"th",23),b.Lc(19,"Prefix"),b.Qb(20,"p-sortIcon",21),b.Ub(),b.Vb(21,"th",23),b.Lc(22,"Suffix"),b.Qb(23,"p-sortIcon",21),b.Ub(),b.Vb(24,"th",24),b.Lc(25,"Digits"),b.Qb(26,"p-sortIcon",21),b.Ub(),b.Vb(27,"th",25),b.Lc(28,"Remarks"),b.Qb(29,"p-sortIcon",21),b.Ub(),b.Vb(30,"th",24),b.Lc(31,"Lock"),b.Qb(32,"p-sortIcon",21),b.Ub(),b.Vb(33,"th",22),b.Lc(34,"Branch"),b.Qb(35,"p-sortIcon",21),b.Ub(),b.Ub(),b.Vb(36,"tr",26),b.Vb(37,"th"),b.Vb(38,"a",27),b.dc("click",(function(){return b.Dc(t),b.hc(2).clearSearchForm()})),b.Qb(39,"i",28),b.Lc(40,"Clear"),b.Ub(),b.Ub(),b.Vb(41,"th"),b.Vb(42,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.screenName=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(43,"th"),b.Vb(44,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.documentNumberingName=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(45,"th"),b.Vb(46,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.firstNumber=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(47,"th"),b.Vb(48,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.nextNumber=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(49,"th"),b.Vb(50,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.lastNumber=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(51,"th"),b.Vb(52,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.prefix=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(53,"th"),b.Vb(54,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.suffix=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(55,"th"),b.Vb(56,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.digits=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(57,"th"),b.Vb(58,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.remarks=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(59,"th"),b.Vb(60,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.isLock=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(61,"th"),b.Vb(62,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(t),b.hc(2).searchForm.branchName=e}))("keyup.enter",(function(){return b.Dc(t),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Ub()}if(2&t){const t=b.hc(2);b.Cb(3),b.oc("pSortableColumn","screenName"),b.Cb(2),b.oc("field","screenName"),b.Cb(1),b.oc("pSortableColumn","documentNumberingName"),b.Cb(2),b.oc("field","name"),b.Cb(1),b.oc("pSortableColumn","firstNumber"),b.Cb(2),b.oc("field","firstNo"),b.Cb(1),b.oc("pSortableColumn","nextNumber"),b.Cb(2),b.oc("field","nextNo"),b.Cb(1),b.oc("pSortableColumn","lastNumber"),b.Cb(2),b.oc("field","lastNo"),b.Cb(1),b.oc("pSortableColumn","prefix"),b.Cb(2),b.oc("field","prefix"),b.Cb(1),b.oc("pSortableColumn","suffix"),b.Cb(2),b.oc("field","suffix"),b.Cb(1),b.oc("pSortableColumn","digits"),b.Cb(2),b.oc("field","digits"),b.Cb(1),b.oc("pSortableColumn","remarks"),b.Cb(2),b.oc("field","remarks"),b.Cb(1),b.oc("pSortableColumn","isLock"),b.Cb(2),b.oc("field","isLock"),b.Cb(1),b.oc("pSortableColumn","branchName"),b.Cb(2),b.oc("field","branchName"),b.Cb(7),b.oc("ngModel",t.searchForm.screenName),b.Cb(2),b.oc("ngModel",t.searchForm.documentNumberingName),b.Cb(2),b.oc("ngModel",t.searchForm.firstNumber),b.Cb(2),b.oc("ngModel",t.searchForm.nextNumber),b.Cb(2),b.oc("ngModel",t.searchForm.lastNumber),b.Cb(2),b.oc("ngModel",t.searchForm.prefix),b.Cb(2),b.oc("ngModel",t.searchForm.suffix),b.Cb(2),b.oc("ngModel",t.searchForm.digits),b.Cb(2),b.oc("ngModel",t.searchForm.remarks),b.Cb(2),b.oc("ngModel",t.searchForm.isLock),b.Cb(2),b.oc("ngModel",t.searchForm.branchName)}}function w(t,e){if(1&t){const t=b.Wb();b.Vb(0,"a",32),b.dc("click",(function(){b.Dc(t);const e=b.hc().$implicit;return b.hc(2).showAddPopup(e.id)})),b.Qb(1,"i",33),b.Ub()}}function Q(t,e){1&t&&(b.Vb(0,"span",34),b.Lc(1,"System"),b.Ub())}function P(t,e){if(1&t&&(b.Vb(0,"tr"),b.Vb(1,"td"),b.Jc(2,w,2,0,"a",30),b.Jc(3,Q,2,0,"span",31),b.Ub(),b.Vb(4,"td"),b.Lc(5),b.Ub(),b.Vb(6,"td"),b.Lc(7),b.Ub(),b.Vb(8,"td"),b.Lc(9),b.Ub(),b.Vb(10,"td"),b.Lc(11),b.Ub(),b.Vb(12,"td"),b.Lc(13),b.Ub(),b.Vb(14,"td"),b.Lc(15),b.Ub(),b.Vb(16,"td"),b.Lc(17),b.Ub(),b.Vb(18,"td"),b.Lc(19),b.Ub(),b.Vb(20,"td"),b.Lc(21),b.Ub(),b.Vb(22,"td"),b.Lc(23),b.Ub(),b.Vb(24,"td"),b.Lc(25),b.Ub(),b.Ub()),2&t){const t=e.$implicit;b.Cb(2),b.oc("ngIf","0"===t.isSystemConfig),b.Cb(1),b.oc("ngIf","1"===t.isSystemConfig),b.Cb(2),b.Mc(t.screenName),b.Cb(2),b.Mc(t.documentNumberingName),b.Cb(2),b.Mc(t.firstNumber),b.Cb(2),b.Mc(t.nextNumber),b.Cb(2),b.Mc(t.lastNumber),b.Cb(2),b.Mc(t.prefix),b.Cb(2),b.Mc(t.suffix),b.Cb(2),b.Mc(t.digits),b.Cb(2),b.Mc(t.remarks),b.Cb(2),b.Mc(t.isLock),b.Cb(2),b.Mc(t.branchName)}}function J(t,e){if(1&t){const t=b.Wb();b.Tb(0),b.Vb(1,"div",1),b.Vb(2,"span"),b.Lc(3,"D"),b.Ub(),b.Lc(4,"ocument Numbering - List "),b.Vb(5,"div",2),b.Vb(6,"button",3),b.dc("click",(function(){return b.Dc(t),b.hc().showAddPopup()})),b.Qb(7,"i",4),b.Vb(8,"span"),b.Lc(9,"Add Document Number"),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(10,"div",5),b.Vb(11,"div",6),b.Vb(12,"div",7),b.Jc(13,E,6,3,"div",8),b.Ub(),b.Ub(),b.Vb(14,"div",7),b.Vb(15,"div",9),b.Vb(16,"div",10),b.Vb(17,"p-table",11,12),b.dc("onLazyLoad",(function(e){return b.Dc(t),b.hc().getListing(e)})),b.Jc(19,A,63,33,"ng-template",13),b.Jc(20,P,26,13,"ng-template",14),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Sb()}if(2&t){const t=b.hc();b.Cb(13),b.oc("ngForOf",t.analyticsData),b.Cb(4),b.oc("value",t.listing.data)("lazy",!0)("paginator",!0)("rows",t.appConstants.TABLE_DEFAULT_ROWS)("totalRecords",t.listing.totalRecords)}}const q=n.h.forChild([{path:"document-numbering",component:(()=>{class t{constructor(t,e,r,i,n){this.utilsService=t,this.authGuardService=e,this.branchUtilsService=r,this.modalService=i,this.documentNumberingDataService=n,this.appConstants=o.h,this.screenAcl={},this.analyticsData=[],this.listing={data:[],totalRecords:0},this.searchForm={screenName:"",documentNumberingName:"",firstNumber:"",nextNumber:"",lastNumber:"",prefix:"",suffix:"",digits:"",remarks:"",isLock:"",branchName:""}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("55"),!this.screenAcl.view)return this.utilsService.showFailureMsg(o.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.branchUtilsService.actionSaveUpdate.subscribe(t=>{"document-numbering"===t.triggerType&&this.resetListing()}),this.getAnalyticsData()}getListing(t){const e=this.utilsService.dataTableParameterFormation(t,this.searchForm);this.documentNumberingDataService.getList(e).subscribe(t=>{"SUCCESS"===t.status?(this.listing.data=t.results.searchResults,this.listing.totalRecords=t.results.totalRecords):this.utilsService.showFailureMsg(t)})}clearSearchForm(){this.searchForm={screenName:"",documentNumberingName:"",firstNumber:"",nextNumber:"",lastNumber:"",prefix:"",suffix:"",digits:"",remarks:"",isLock:"",branchName:""},this.resetListing()}resetListing(){this.dataTable.reset()}getAnalyticsData(){this.documentNumberingDataService.getAnalyticsData().subscribe(t=>{const e=c.orderBy(t.results,["name"],["asc"]);this.analyticsData=e})}showAddPopup(t){const e={backdrop:"static",class:"modal-lg"};t&&(e.initialState={inputEditId:t}),this.modalService.show(D,e)}}return t.\u0275fac=function(e){return new(e||t)(b.Pb(o.g),b.Pb(o.a),b.Pb(m.a),b.Pb(u.b),b.Pb(a.q))},t.\u0275cmp=b.Jb({type:t,selectors:[["app-document-numbering-list"]],viewQuery:function(t,e){var r;1&t&&b.Pc(T,!0),2&t&&b.zc(r=b.ec())&&(e.dataTable=r.first)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"btn-group"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-plus"],[1,"working-container"],[1,"analytics"],[1,"row"],["class","col-lg-2 col-md-3 col-sm-4 col-xs-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"datatable-responsive"],[3,"value","lazy","paginator","rows","totalRecords","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-lg-2","col-md-3","col-sm-4","col-xs-12"],[1,"item"],[1,"name"],[1,"count",3,"ngClass"],[2,"width","100px"],[2,"width","130px",3,"pSortableColumn"],[3,"field"],[2,"width","100px",3,"pSortableColumn"],[2,"width","75px",3,"pSortableColumn"],[2,"width","70px",3,"pSortableColumn"],[2,"width","150px",3,"pSortableColumn"],["placement","top","container","body","tooltip","Press Enter key to search",1,"search"],[1,"clear-search",3,"click"],[1,"fa","fa-times"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup.enter"],["class","action blue","placement","top","container","body","tooltip","Edit",3,"click",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["placement","top","container","body","tooltip","Edit",1,"action","blue",3,"click"],[1,"fa","fa-edit"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&b.Jc(0,J,21,6,"ng-container",0),2&t&&b.oc("ngIf",e.screenAcl.view)},directives:[d.m,d.l,x.c,k.b,d.k,x.b,x.a,M.a,s.b,s.m,s.o],styles:[""]}),t})()}]);let R=(()=>{class t{}return t.\u0275mod=b.Nb({type:t}),t.\u0275inj=b.Mb({factory:function(e){return new(e||t)},imports:[[q,i.BranchModule]]}),t})()}}]);