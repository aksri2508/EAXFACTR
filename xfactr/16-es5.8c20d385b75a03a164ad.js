function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{AXVv:function(e,t,i){"use strict";i.r(t),i.d(t,"CustomizationModule",(function(){return ee}));var n=i("tyNb"),o=i("ey9i"),r=i("fXoL"),c=i("oARB"),s=i("IzNV"),a=i("ofXK"),l=i("rEr+"),d=i("7zfz"),b=i("Mfq2"),u=i("3Pt+"),f=["dataTable"];function p(e,t){1&e&&(r.Vb(0,"colgroup"),r.Qb(1,"col",14),r.Qb(2,"col",15),r.Qb(3,"col",16),r.Qb(4,"col",16),r.Qb(5,"col",17),r.Ub())}function m(e,t){if(1&e&&(r.Vb(0,"option",27),r.Lc(1),r.Ub()),2&e){var i=t.$implicit;r.oc("value",i.id),r.Cb(1),r.Mc(i.fieldTypeName)}}function h(e,t){if(1&e&&(r.Vb(0,"option",27),r.Lc(1),r.Ub()),2&e){var i=t.$implicit;r.oc("value",i.id),r.Cb(1),r.Mc(i.name)}}function g(e,t){if(1&e){var i=r.Wb();r.Vb(0,"tr"),r.Vb(1,"th"),r.Lc(2,"Actions"),r.Ub(),r.Vb(3,"th",18),r.Lc(4,"Field Type"),r.Qb(5,"p-sortIcon",19),r.Ub(),r.Vb(6,"th",18),r.Lc(7,"Field Name"),r.Qb(8,"p-sortIcon",19),r.Ub(),r.Vb(9,"th",18),r.Lc(10,"Field Description"),r.Qb(11,"p-sortIcon",19),r.Ub(),r.Vb(12,"th",18),r.Lc(13,"Status"),r.Qb(14,"p-sortIcon",19),r.Ub(),r.Ub(),r.Vb(15,"tr",20),r.Vb(16,"th"),r.Vb(17,"a",21),r.dc("click",(function(){return r.Dc(i),r.hc(2).clearSearchForm()})),r.Qb(18,"i",22),r.Lc(19,"Clear"),r.Ub(),r.Ub(),r.Vb(20,"th"),r.Vb(21,"select",23),r.dc("ngModelChange",(function(e){return r.Dc(i),r.hc(2).searchForm.fieldTypeId=e}))("change",(function(){return r.Dc(i),r.hc(2).resetListing()})),r.Vb(22,"option",24),r.Lc(23,"--SELECT--"),r.Ub(),r.Jc(24,m,2,2,"option",25),r.Ub(),r.Ub(),r.Vb(25,"th"),r.Vb(26,"input",26),r.dc("ngModelChange",(function(e){return r.Dc(i),r.hc(2).searchForm.fieldName=e}))("keyup.enter",(function(){return r.Dc(i),r.hc(2).resetListing()})),r.Ub(),r.Ub(),r.Vb(27,"th"),r.Vb(28,"input",26),r.dc("ngModelChange",(function(e){return r.Dc(i),r.hc(2).searchForm.fieldLabel=e}))("keyup.enter",(function(){return r.Dc(i),r.hc(2).resetListing()})),r.Ub(),r.Ub(),r.Vb(29,"th"),r.Vb(30,"select",23),r.dc("ngModelChange",(function(e){return r.Dc(i),r.hc(2).searchForm.status=e}))("change",(function(){return r.Dc(i),r.hc(2).resetListing()})),r.Lc(31,"> "),r.Vb(32,"option",24),r.Lc(33,"--SELECT--"),r.Ub(),r.Jc(34,h,2,2,"option",25),r.Ub(),r.Ub(),r.Ub()}if(2&e){var n=r.hc(2);r.Cb(3),r.oc("pSortableColumn","fieldTypeId"),r.Cb(2),r.oc("field","fieldTypeId"),r.Cb(1),r.oc("pSortableColumn","fieldName"),r.Cb(2),r.oc("field","fieldName"),r.Cb(1),r.oc("pSortableColumn","fieldLabel"),r.Cb(2),r.oc("field","fieldLabel"),r.Cb(1),r.oc("pSortableColumn","status"),r.Cb(2),r.oc("field","status"),r.Cb(7),r.oc("ngModel",n.searchForm.fieldTypeId),r.Cb(3),r.oc("ngForOf",n.fieldTypesList),r.Cb(2),r.oc("ngModel",n.searchForm.fieldName),r.Cb(2),r.oc("ngModel",n.searchForm.fieldLabel),r.Cb(2),r.oc("ngModel",n.searchForm.status),r.Cb(4),r.oc("ngForOf",n.statusList)}}function v(e,t){if(1&e&&(r.Vb(0,"tr"),r.Vb(1,"td"),r.Vb(2,"a",28),r.Qb(3,"i",29),r.Ub(),r.Ub(),r.Vb(4,"td"),r.Lc(5),r.Ub(),r.Vb(6,"td"),r.Lc(7),r.Ub(),r.Vb(8,"td"),r.Lc(9),r.Ub(),r.Vb(10,"td"),r.Vb(11,"span",30),r.Lc(12),r.Ub(),r.Ub(),r.Ub()),2&e){var i=t.$implicit,n=r.hc(2);r.Cb(2),r.qc("routerLink","/branch/customization/udf-mgmt-edit/",n.utilsService.encrypt(i.id),""),r.Cb(3),r.Mc(i.fieldTypeName),r.Cb(2),r.Mc(i.fieldName),r.Cb(2),r.Mc(i.fieldLabel),r.Cb(2),r.oc("ngClass",n.appConstants.STATUS_COLOR_CLS[i.status]),r.Cb(1),r.Mc(i.statusName)}}function L(e,t){if(1&e){var i=r.Wb();r.Tb(0),r.Vb(1,"div",1),r.Vb(2,"span"),r.Lc(3,"UDF"),r.Ub(),r.Lc(4,"Management - List "),r.Vb(5,"div",2),r.Vb(6,"button",3),r.Qb(7,"i",4),r.Vb(8,"span"),r.Lc(9,"Add Field"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(10,"div",5),r.Vb(11,"div",6),r.Vb(12,"div",7),r.Vb(13,"div",8),r.Vb(14,"p-table",9,10),r.dc("onLazyLoad",(function(e){return r.Dc(i),r.hc().getListing(e)})),r.Jc(16,p,6,0,"ng-template",11),r.Jc(17,g,35,14,"ng-template",12),r.Jc(18,v,13,6,"ng-template",13),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Sb()}if(2&e){var n=r.hc();r.Cb(14),r.oc("value",n.listing.data)("lazy",!0)("paginator",!0)("rows",n.appConstants.TABLE_DEFAULT_ROWS)("totalRecords",n.listing.totalRecords)}}var y,U=((y=function(){function e(t,i,n,r,c){_classCallCheck(this,e),this.utilsService=t,this.authGuardService=i,this.commonDataService=n,this.branchUtilsService=r,this.udfDataService=c,this.appConstants=o.h,this.screenAcl={},this.statusList=[],this.fieldTypesList=[],this.listing={data:[],totalRecords:0},this.searchForm={fieldTypeId:"",fieldName:"",fieldLabel:"",status:"1"}}return _createClass(e,[{key:"ngOnInit",value:function(){if(this.screenAcl=this.authGuardService.getScreenAcl("53"),!this.screenAcl.view)return this.utilsService.showFailureMsg(o.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.getAutoSuggestionList("getCommonStatusList"),this.getFieldTypes()}},{key:"getAutoSuggestionList",value:function(e){var t=this;this.commonDataService.getAutoSuggestionList(e).subscribe((function(i){"SUCCESS"===i.status?"getCommonStatusList"===e&&(t.statusList=i.results):t.utilsService.showFailureMsg(i)}))}},{key:"getFieldTypes",value:function(){var e=this;this.udfDataService.getFieldTypes().subscribe((function(t){"SUCCESS"===t.status?e.fieldTypesList=t.results:e.utilsService.showFailureMsg(t)}))}},{key:"getListing",value:function(e){var t=this,i=this.utilsService.dataTableParameterFormation(e,this.searchForm);this.udfDataService.getFieldList(i).subscribe((function(e){"SUCCESS"===e.status?(t.listing.data=e.results.searchResults,t.listing.totalRecords=e.results.totalRecords):t.utilsService.showFailureMsg(e)}))}},{key:"clearSearchForm",value:function(){this.searchForm={fieldTypeId:"",fieldName:"",fieldLabel:"",status:"1"},this.resetListing()}},{key:"resetListing",value:function(){this.dataTable.reset()}}]),e}()).\u0275fac=function(e){return new(e||y)(r.Pb(o.g),r.Pb(o.a),r.Pb(c.l),r.Pb(s.a),r.Pb(c.lb))},y.\u0275cmp=r.Jb({type:y,selectors:[["app-udf-mgmt-list"]],viewQuery:function(e,t){var i;1&e&&r.Pc(f,!0),2&e&&r.zc(i=r.ec())&&(t.dataTable=i.first)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"btn-group"],["routerLink","/branch/customization/udf-mgmt-add",1,"btn","btn-primary","btn-sm"],[1,"fa","fa-plus"],[1,"working-container"],[1,"row"],[1,"col-12"],[1,"datatable-responsive"],[3,"value","lazy","paginator","rows","totalRecords","onLazyLoad"],["dataTable",""],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[2,"width","80px"],[2,"width","200px"],[2,"width","150px"],[2,"width","120px"],[3,"pSortableColumn"],[3,"field"],["placement","top","container","body","tooltip","Press Enter key to search",1,"search"],[1,"clear-search",3,"click"],[1,"fa","fa-times"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup.enter"],[3,"value"],["placement","top","container","body","tooltip","Edit",1,"action","blue",3,"routerLink"],[1,"fa","fa-edit"],[1,"badge",3,"ngClass"]],template:function(e,t){1&e&&r.Jc(0,L,19,5,"ng-container",0),2&e&&r.oc("ngIf",t.screenAcl.view)},directives:[a.m,n.e,l.c,d.b,l.b,l.a,b.a,u.t,u.m,u.o,u.p,u.v,a.l,u.b,n.g,a.k],styles:[""]}),y);function C(e,t){1&e&&(r.Tb(0),r.Lc(1,"Add"),r.Sb())}function F(e,t){1&e&&(r.Tb(0),r.Lc(1,"Edit"),r.Sb())}function V(e,t){if(1&e&&(r.Vb(0,"option",30),r.Lc(1),r.Ub()),2&e){var i=t.$implicit;r.oc("value",i.id),r.Cb(1),r.Mc(i.fieldTypeName)}}function S(e,t){if(1&e&&(r.Vb(0,"div",31),r.Lc(1),r.Ub()),2&e){var i=r.hc();r.Cb(1),r.Nc(" ",i.myFormErrors1.fieldTypeId," ")}}function I(e,t){if(1&e&&(r.Vb(0,"div",31),r.Lc(1),r.Ub()),2&e){var i=r.hc();r.Cb(1),r.Nc(" ",i.myFormErrors1.fieldLabel," ")}}function D(e,t){if(1&e&&(r.Vb(0,"div",31),r.Lc(1),r.Ub()),2&e){var i=r.hc();r.Cb(1),r.Nc(" ",i.myFormErrors1.fieldName," ")}}function k(e,t){if(1&e&&(r.Vb(0,"option",30),r.Lc(1),r.Ub()),2&e){var i=t.$implicit;r.oc("value",i.id),r.Cb(1),r.Mc(i.name)}}function M(e,t){if(1&e&&(r.Vb(0,"div",31),r.Lc(1),r.Ub()),2&e){var i=r.hc();r.Cb(1),r.Nc(" ",i.myFormErrors1.status," ")}}function O(e,t){if(1&e&&(r.Vb(0,"div",31),r.Lc(1),r.Ub()),2&e){var i=r.hc().index,n=r.hc(2);r.Cb(1),r.Nc(" ",n.myFormErrors1.selectOptionListArray[i].optionsFieldLabel," ")}}function T(e,t){if(1&e&&(r.Vb(0,"div",31),r.Lc(1),r.Ub()),2&e){var i=r.hc().index,n=r.hc(2);r.Cb(1),r.Nc(" ",n.myFormErrors1.selectOptionListArray[i].defaultSelected," ")}}function A(e,t){if(1&e){var i=r.Wb();r.Vb(0,"tr",40),r.Vb(1,"td"),r.Vb(2,"a",41),r.dc("click",(function(){r.Dc(i);var e=t.index;return r.hc(2).removeOptionFields(e)})),r.Qb(3,"i",42),r.Ub(),r.Ub(),r.Vb(4,"td"),r.Qb(5,"input",43),r.Jc(6,O,2,1,"div",17),r.Ub(),r.Vb(7,"td"),r.Vb(8,"select",44),r.Vb(9,"option",21),r.Lc(10,"No"),r.Ub(),r.Vb(11,"option",22),r.Lc(12,"Yes"),r.Ub(),r.Ub(),r.Jc(13,T,2,1,"div",17),r.Ub(),r.Ub()}if(2&e){var n=t.index,o=r.hc(2);r.oc("formGroupName",n),r.Cb(6),r.oc("ngIf",o.myFormErrors1.selectOptionListArray[n].optionsFieldLabel),r.Cb(7),r.oc("ngIf",o.myFormErrors1.selectOptionListArray[n].defaultSelected)}}function w(e,t){if(1&e){var i=r.Wb();r.Vb(0,"div",6),r.Vb(1,"div",7),r.Qb(2,"i",8),r.Lc(3,"Select Options "),r.Ub(),r.Vb(4,"div",32),r.Vb(5,"div",33),r.Vb(6,"table",34),r.Vb(7,"thead"),r.Vb(8,"tr"),r.Vb(9,"th"),r.Lc(10,"Action"),r.Ub(),r.Vb(11,"th"),r.Lc(12,"Option Description"),r.Vb(13,"span",13),r.Lc(14,"*"),r.Ub(),r.Ub(),r.Vb(15,"th"),r.Lc(16,"Pre Select"),r.Ub(),r.Ub(),r.Ub(),r.Vb(17,"tbody",35),r.Jc(18,A,14,3,"tr",36),r.Ub(),r.Vb(19,"tfoot"),r.Vb(20,"tr"),r.Vb(21,"td",37),r.Vb(22,"button",38),r.dc("click",(function(){return r.Dc(i),r.hc().addOptionFields()})),r.Qb(23,"i",39),r.Vb(24,"span"),r.Lc(25,"Add Options"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub()}if(2&e){var n=r.hc();r.Cb(18),r.oc("ngForOf",n.myForm1.controls.selectOptionListArray.controls)}}function N(e,t){if(1&e){var i=r.Wb();r.Vb(0,"button",45),r.dc("click",(function(){return r.Dc(i),r.hc().saveUpdate()})),r.Qb(1,"i",46),r.Vb(2,"span"),r.Lc(3,"Save"),r.Ub(),r.Ub()}}function E(e,t){if(1&e){var i=r.Wb();r.Vb(0,"button",3),r.dc("click",(function(){return r.Dc(i),r.hc().clearForm()})),r.Qb(1,"i",47),r.Vb(2,"span"),r.Lc(3,"Clear"),r.Ub(),r.Ub()}}function x(e,t){if(1&e){var i=r.Wb();r.Vb(0,"button",45),r.dc("click",(function(){return r.Dc(i),r.hc().saveUpdate()})),r.Qb(1,"i",48),r.Vb(2,"span"),r.Lc(3,"Update"),r.Ub(),r.Ub()}}function P(e,t){1&e&&(r.Vb(0,"button",49),r.Qb(1,"i",50),r.Vb(2,"span"),r.Lc(3,"Cancel"),r.Ub(),r.Ub())}function _(e,t){1&e&&(r.Vb(0,"div",51),r.Vb(1,"span",52),r.Lc(2,"Note:"),r.Ub(),r.Lc(3," You are unauthorized to "),r.Vb(4,"strong"),r.Lc(5,"update"),r.Ub(),r.Lc(6," this transaction! "),r.Ub())}function J(e,t){1&e&&(r.Vb(0,"div",51),r.Vb(1,"span",52),r.Lc(2,"Note:"),r.Ub(),r.Lc(3," You are unauthorized to "),r.Vb(4,"strong"),r.Lc(5,"add"),r.Ub(),r.Lc(6," this transaction!. "),r.Ub())}var z,Q=((z=function(){function e(t,i,n,o,r,c){_classCallCheck(this,e),this.utilsService=t,this.authGuardService=i,this.formBuilder=n,this.commonDataService=o,this.udfDataService=r,this.activatedRoute=c,this.screenAcl={},this.fieldTypesList=[],this.statusList=[],this.myForm1Data={},this.myFormErrors1={fieldTypeId:"",fieldLabel:"",fieldName:"",requiredField:"",status:"",selectOptionListArray:[]},this.myFormValidationMsgs1={fieldTypeId:{required:"Field Type is required"},fieldLabel:{required:"Field Description is required"},fieldName:{required:"Field Name is required"},status:{required:"Status is required"},selectOptionListArray:{optionsFieldLabel:{required:"Option Description is required"}}}}return _createClass(e,[{key:"ngOnInit",value:function(){if(this.screenAcl=this.authGuardService.getScreenAcl("53"),!this.screenAcl.view)return this.utilsService.showFailureMsg(o.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.initializeForm1(),this.initializeSubscriptions(),this.getAutoSuggestionList("getCommonStatusList"),this.getFieldTypes()}},{key:"initializeSubscriptions",value:function(){var e=this;this.activatedRoute.params.subscribe((function(t){t.id&&(e.inputEditId=e.utilsService.decrypt(t.id),e.get())}))}},{key:"initializeForm1",value:function(){var e=this;this.myForm1=this.formBuilder.group({fieldTypeId:["",[u.u.required]],fieldLabel:["",[u.u.required]],fieldName:["",[u.u.required]],requiredField:[0],status:["1",[u.u.required]],deletedOptionChildIds:[[]],selectOptionListArray:this.formBuilder.array([this.initOptionFields()])}),this.myForm1.valueChanges.subscribe((function(t){e.utilsService.validation(e.myForm1,e.myFormErrors1,e.myFormValidationMsgs1),e.myForm1Data=e.myForm1.getRawValue()})),this.myForm1Data=this.myForm1.getRawValue(),this.removeOptionFields(0)}},{key:"addOptionFields",value:function(e){this.myForm1.controls.selectOptionListArray.push(this.initOptionFields(e))}},{key:"initOptionFields",value:function(e){var t={optionsFieldLabel:"",defaultSelected:0,id:""};return e&&(t.optionsFieldLabel=e.optionsFieldLabel,t.defaultSelected=e.defaultSelected,t.id=e.id),this.myFormErrors1.selectOptionListArray.push({optionsFieldLabel:""}),this.formBuilder.group({optionsFieldLabel:[t.optionsFieldLabel,[u.u.required]],defaultSelected:[t.defaultSelected],id:[t.id]})}},{key:"removeOptionFields",value:function(e){var t=this.myForm1Data.selectOptionListArray[e].id;if(t){var i=this.myForm1Data.deletedOptionChildIds;i.push(t),this.myForm1.patchValue({deletedOptionChildIds:i})}this.myForm1.controls.selectOptionListArray.removeAt(e)}},{key:"saveUpdate",value:function(){var e=this;if("2"===this.myForm1Data.fieldTypeId){var t=0;if(this.myForm1Data.selectOptionListArray.forEach((function(e){"1"===e.defaultSelected&&(t+=1)})),t>1)return this.utilsService.showFailureMsg("Only one option pre select is allowed"),!1}if(!this.myForm1.valid)return this.utilsService.validation(this.myForm1,this.myFormErrors1,this.myFormValidationMsgs1,!0),!1;var i,n={fieldTypeId:this.myForm1Data.fieldTypeId,fieldLabel:this.myForm1Data.fieldLabel,fieldName:this.myForm1Data.fieldName,requiredField:this.myForm1Data.requiredField,status:this.myForm1Data.status,selectOptionListArray:[]};this.myForm1Data.selectOptionListArray.forEach((function(e){n.selectOptionListArray.push({optionsFieldLabel:e.optionsFieldLabel,defaultSelected:e.defaultSelected,id:e.id})})),this.inputEditId?(i="update",n.id=this.inputEditId,n.deletedOptionChildIds=this.myForm1Data.deletedOptionChildIds):i="save",this.udfDataService[i](n).subscribe((function(t){"SUCCESS"===t.status?(e.utilsService.showSuccessMsg(t),e.utilsService.redirect("/branch/customization/udf-mgmt-list")):e.utilsService.showFailureMsg(t)}))}},{key:"get",value:function(){var e=this;this.udfDataService.get(this.inputEditId).subscribe((function(t){if("SUCCESS"===t.status){var i=t.results;e.myForm1.patchValue({fieldTypeId:i.fieldTypeId,fieldLabel:i.fieldLabel,fieldName:i.fieldName,requiredField:i.requiredField,status:i.status}),i.selectOptionListArray.forEach((function(t){e.addOptionFields(t)})),e.myForm1.controls.fieldTypeId.disable()}else e.utilsService.showFailureMsg(t)}))}},{key:"clearForm",value:function(){this.initializeForm1()}},{key:"fieldTypeChange",value:function(){if("2"!==this.myForm1Data.fieldTypeId)for(var e=this.myForm1.controls.selectOptionListArray,t=e.length,i=0;i<t;i++)e.removeAt(0)}},{key:"getAutoSuggestionList",value:function(e){var t=this;this.commonDataService.getAutoSuggestionList(e).subscribe((function(i){"SUCCESS"===i.status?"getCommonStatusList"===e&&(t.statusList=i.results):t.utilsService.showFailureMsg(i)}))}},{key:"getFieldTypes",value:function(){var e=this;this.udfDataService.getFieldTypes().subscribe((function(t){"SUCCESS"===t.status?e.fieldTypesList=t.results:e.utilsService.showFailureMsg(t)}))}}]),e}()).\u0275fac=function(e){return new(e||z)(r.Pb(o.g),r.Pb(o.a),r.Pb(u.e),r.Pb(c.l),r.Pb(c.lb),r.Pb(n.a))},z.\u0275cmp=r.Jb({type:z,selectors:[["app-udf-mgmt-add"]],decls:68,vars:16,consts:[[1,"page-title"],[4,"ngIf"],[1,"btn-group"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-arrow-left"],[1,"working-container",3,"formGroup"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-form"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"mandatory"],["formControlName","fieldTypeId",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","validation-error",4,"ngIf"],["type","text","formControlName","fieldLabel",1,"form-control","form-control-sm"],["type","text","formControlName","fieldName",1,"form-control","form-control-sm"],["formControlName","requiredField",1,"form-control","form-control-sm"],["value","0"],["value","1"],["formControlName","status",1,"form-control","form-control-sm"],["class","box",4,"ngIf"],[1,"btn-group","text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm","routerLink","/branch/customization/udf-mgmt-list",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[3,"value"],[1,"validation-error"],[1,"box-body","box-table"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],["formArrayName","selectOptionListArray"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","5"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-plus"],[3,"formGroupName"],["placement","top","container","body","tooltip","Delete",1,"action","red",3,"click"],[1,"fa","fa-minus-circle"],["type","text","formControlName","optionsFieldLabel",1,"form-control","form-control-sm"],["formControlName","defaultSelected",1,"form-control","form-control-sm"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save"],[1,"fa","fa-broom"],[1,"fa","fa-redo-alt"],["routerLink","/branch/customization/udf-mgmt-list",1,"btn","btn-secondary","btn-sm"],[1,"fa","fa-times"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(e,t){1&e&&(r.Vb(0,"div",0),r.Vb(1,"span"),r.Lc(2,"UDF"),r.Ub(),r.Lc(3,"Management - "),r.Jc(4,C,2,0,"ng-container",1),r.Jc(5,F,2,0,"ng-container",1),r.Vb(6,"div",2),r.Vb(7,"button",3),r.dc("click",(function(){return t.utilsService.goBack()})),r.Qb(8,"i",4),r.Vb(9,"span"),r.Lc(10,"Back"),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Vb(11,"div",5),r.Vb(12,"div",6),r.Vb(13,"div",7),r.Qb(14,"i",8),r.Lc(15,"Field Info "),r.Ub(),r.Vb(16,"div",9),r.Vb(17,"div",10),r.Vb(18,"div",11),r.Vb(19,"label",12),r.Lc(20,"Field Type"),r.Vb(21,"span",13),r.Lc(22,"*"),r.Ub(),r.Ub(),r.Vb(23,"select",14),r.dc("change",(function(){return t.fieldTypeChange()})),r.Vb(24,"option",15),r.Lc(25,"--SELECT--"),r.Ub(),r.Jc(26,V,2,2,"option",16),r.Ub(),r.Jc(27,S,2,1,"div",17),r.Ub(),r.Vb(28,"div",11),r.Vb(29,"label",12),r.Lc(30,"Field Description"),r.Vb(31,"span",13),r.Lc(32,"*"),r.Ub(),r.Ub(),r.Qb(33,"input",18),r.Jc(34,I,2,1,"div",17),r.Ub(),r.Vb(35,"div",11),r.Vb(36,"label",12),r.Lc(37,"Field Name"),r.Vb(38,"span",13),r.Lc(39,"*"),r.Ub(),r.Ub(),r.Qb(40,"input",19),r.Jc(41,D,2,1,"div",17),r.Ub(),r.Vb(42,"div",11),r.Vb(43,"label",12),r.Lc(44,"Mandatory Field"),r.Vb(45,"span",13),r.Lc(46,"*"),r.Ub(),r.Ub(),r.Vb(47,"select",20),r.Vb(48,"option",21),r.Lc(49,"No"),r.Ub(),r.Vb(50,"option",22),r.Lc(51,"Yes"),r.Ub(),r.Ub(),r.Ub(),r.Vb(52,"div",11),r.Vb(53,"label",12),r.Lc(54,"Status"),r.Vb(55,"span",13),r.Lc(56,"*"),r.Ub(),r.Ub(),r.Vb(57,"select",23),r.Jc(58,k,2,2,"option",16),r.Ub(),r.Jc(59,M,2,1,"div",17),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Jc(60,w,26,1,"div",24),r.Vb(61,"div",25),r.Jc(62,N,4,0,"button",26),r.Jc(63,E,4,0,"button",27),r.Jc(64,x,4,0,"button",26),r.Jc(65,P,4,0,"button",28),r.Ub(),r.Jc(66,_,7,0,"div",29),r.Jc(67,J,7,0,"div",29),r.Ub()),2&e&&(r.Cb(4),r.oc("ngIf",!t.inputEditId),r.Cb(1),r.oc("ngIf",t.inputEditId),r.Cb(6),r.oc("formGroup",t.myForm1),r.Cb(15),r.oc("ngForOf",t.fieldTypesList),r.Cb(1),r.oc("ngIf",t.myFormErrors1.fieldTypeId),r.Cb(7),r.oc("ngIf",t.myFormErrors1.fieldLabel),r.Cb(7),r.oc("ngIf",t.myFormErrors1.fieldName),r.Cb(17),r.oc("ngForOf",t.statusList),r.Cb(1),r.oc("ngIf",t.myFormErrors1.status),r.Cb(1),r.oc("ngIf","2"===t.myForm1Data.fieldTypeId),r.Cb(2),r.oc("ngIf",t.screenAcl.add&&!t.inputEditId),r.Cb(1),r.oc("ngIf",!t.inputEditId),r.Cb(1),r.oc("ngIf",t.screenAcl.update&&t.inputEditId),r.Cb(1),r.oc("ngIf",t.inputEditId),r.Cb(1),r.oc("ngIf",t.inputEditId&&!t.screenAcl.update),r.Cb(1),r.oc("ngIf",!t.inputEditId&&!t.screenAcl.add))},directives:[a.m,u.n,u.i,u.t,u.m,u.g,u.p,u.v,a.l,u.b,u.d,u.j,b.a,n.e],styles:[""]}),z),q=i("5+WD");function B(e,t){if(1&e&&(r.Vb(0,"option",21),r.Lc(1),r.Ub()),2&e){var i=t.$implicit;r.oc("value",i.documentTypeId),r.Cb(1),r.Mc(i.screenName)}}function R(e,t){if(1&e&&(r.Vb(0,"div",22),r.Vb(1,"strong"),r.Lc(2,"Description:"),r.Ub(),r.Lc(3),r.Vb(4,"div",23),r.Vb(5,"strong"),r.Lc(6,"Name:"),r.Ub(),r.Lc(7),r.Ub(),r.Ub()),2&e){var i=t.$implicit;r.Cb(3),r.Nc(" ",i.fieldLabel," "),r.Cb(4),r.Nc(" ",i.fieldName,"")}}function G(e,t){if(1&e&&(r.Vb(0,"div",24),r.Vb(1,"strong"),r.Lc(2,"Description:"),r.Ub(),r.Lc(3),r.Vb(4,"div",23),r.Vb(5,"strong"),r.Lc(6,"Name:"),r.Ub(),r.Lc(7),r.Ub(),r.Ub()),2&e){var i=t.$implicit;r.Cb(3),r.Nc(" ",i.fieldLabel," "),r.Cb(4),r.Nc(" ",i.fieldName,"")}}function W(e,t){if(1&e){var i=r.Wb();r.Vb(0,"div",25),r.Vb(1,"button",26),r.dc("click",(function(){return r.Dc(i),r.hc().update()})),r.Qb(2,"i",27),r.Vb(3,"span"),r.Lc(4,"Update"),r.Ub(),r.Ub(),r.Ub()}}function $(e,t){1&e&&(r.Vb(0,"div",28),r.Vb(1,"span",29),r.Lc(2,"Note:"),r.Ub(),r.Lc(3," You are unauthorized to "),r.Vb(4,"strong"),r.Lc(5,"update"),r.Ub(),r.Lc(6," this transaction! "),r.Ub())}var j,Y,H=function(e){return[e]},X=n.h.forChild([{path:"udf-mgmt-list",component:U},{path:"udf-mgmt-add",component:Q},{path:"udf-mgmt-edit/:id",component:Q},{path:"udf-mapping",component:(j=function(){function e(t,i,n){_classCallCheck(this,e),this.utilsService=t,this.authGuardService=i,this.udfDataService=n,this.screenAcl={},this.documentTypeId="",this.screenList=[],this.newList=[],this.selectedList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){if(this.screenAcl=this.authGuardService.getScreenAcl("54"),!this.screenAcl.view)return this.utilsService.showFailureMsg(o.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.getDocTypeList()}},{key:"getDocTypeList",value:function(){var e=this;this.udfDataService.getAllowedDocTypesForUDF().subscribe((function(t){"SUCCESS"===t.status?e.screenList=t.results:e.utilsService.showFailureMsg(t)}))}},{key:"getMappingByScreen",value:function(){var e=this;if(this.clearForm(),!this.documentTypeId)return!1;this.udfDataService.getMappingByScreen(this.documentTypeId).subscribe((function(t){"SUCCESS"===t.status?(e.selectedList=t.results.selectedFormControlList,e.newList=t.results.allFormControlList,e.screenMappingId=t.results.screenMappingId):e.utilsService.showFailureMsg(t)}))}},{key:"drop",value:function(e){e.previousContainer===e.container?Object(q.d)(e.container.data,e.previousIndex,e.currentIndex):Object(q.e)(e.previousContainer.data,e.container.data,e.previousIndex,e.currentIndex)}},{key:"update",value:function(){var e=this;if(!this.documentTypeId)return this.utilsService.showFailureMsg("Select screen to proceed"),!1;var t=[];this.selectedList.forEach((function(e){t.push(e.id)}));var i={documentTypeId:this.documentTypeId,formControlsId:t.join(","),screenMappingId:this.screenMappingId};this.udfDataService.updateMapping(i).subscribe((function(t){"SUCCESS"===t.status?(e.utilsService.showSuccessMsg(t),e.clearForm(),e.documentTypeId=""):e.utilsService.showFailureMsg(t)}))}},{key:"clearForm",value:function(){this.selectedList=[],this.newList=[],this.screenMappingId=""}}]),e}(),j.\u0275fac=function(e){return new(e||j)(r.Pb(o.g),r.Pb(o.a),r.Pb(c.lb))},j.\u0275cmp=r.Jb({type:j,selectors:[["app-udf-mapping"]],decls:33,vars:14,consts:[[1,"page-title"],[1,"working-container"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-form"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","udf-mapping"],[1,"col-sm-6"],["cdkDropList","",1,"dd-container",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["new","cdkDropList"],["class","list","cdkDrag","",4,"ngFor","ngForOf"],["selected","cdkDropList"],["class","list selected","cdkDrag","",4,"ngFor","ngForOf"],["class","btn-group text-right",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[3,"value"],["cdkDrag","",1,"list"],[1,"small"],["cdkDrag","",1,"list","selected"],[1,"btn-group","text-right"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-redo-alt"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(e,t){if(1&e&&(r.Vb(0,"div",0),r.Vb(1,"span"),r.Lc(2,"UDF"),r.Ub(),r.Lc(3,"Mapping\n"),r.Ub(),r.Vb(4,"div",1),r.Vb(5,"div",2),r.Vb(6,"div",3),r.Qb(7,"i",4),r.Lc(8,"Mapping Info "),r.Ub(),r.Vb(9,"div",5),r.Vb(10,"div",6),r.Vb(11,"div",7),r.Vb(12,"label",8),r.Lc(13,"Select Document Type"),r.Ub(),r.Vb(14,"select",9),r.dc("ngModelChange",(function(e){return t.documentTypeId=e}))("change",(function(){return t.getMappingByScreen()})),r.Vb(15,"option",10),r.Lc(16,"--SELECT--"),r.Ub(),r.Jc(17,B,2,2,"option",11),r.Ub(),r.Ub(),r.Ub(),r.Vb(18,"div",12),r.Vb(19,"div",13),r.Vb(20,"h6"),r.Lc(21,"All Fields"),r.Ub(),r.Vb(22,"div",14,15),r.dc("cdkDropListDropped",(function(e){return t.drop(e)})),r.Jc(24,R,8,2,"div",16),r.Ub(),r.Ub(),r.Vb(25,"div",13),r.Vb(26,"h6"),r.Lc(27,"Selected Fields"),r.Ub(),r.Vb(28,"div",14,17),r.dc("cdkDropListDropped",(function(e){return t.drop(e)})),r.Jc(30,G,8,2,"div",18),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Ub(),r.Jc(31,W,5,0,"div",19),r.Jc(32,$,7,0,"div",20),r.Ub()),2&e){var i=r.Ac(23),n=r.Ac(29);r.Cb(14),r.oc("ngModel",t.documentTypeId),r.Cb(3),r.oc("ngForOf",t.screenList),r.Cb(5),r.oc("cdkDropListData",t.newList)("cdkDropListConnectedTo",r.sc(10,H,n)),r.Cb(2),r.oc("ngForOf",t.newList),r.Cb(4),r.oc("cdkDropListData",t.selectedList)("cdkDropListConnectedTo",r.sc(12,H,i)),r.Cb(2),r.oc("ngForOf",t.selectedList),r.Cb(1),r.oc("ngIf",t.screenAcl.update),r.Cb(1),r.oc("ngIf",!t.screenAcl.update)}},directives:[u.t,u.m,u.o,u.p,u.v,a.l,q.b,a.m,q.a],styles:['.udf-mapping[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:13px;font-weight:"Open-Sans-SemiBold"}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]{background:#fff;padding:10px;height:300px;overflow:auto;border:1px solid #ddd}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-bottom:5px;background:#f1aeae;padding:5px 10px;border-bottom:1px solid #ccc;cursor:move}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]   .list.selected[_ngcontent-%COMP%]{background:#aef1b0}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]   .list.selected[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:#4d8a4f}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:12px;color:#8e5f5f}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#bbe1ff;padding:5px 10px;border-bottom:1px solid #ccc}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}']}),j)}]),Z=i("o+NB"),K=i("7zUj"),ee=((Y=function e(){_classCallCheck(this,e)}).\u0275mod=r.Nb({type:Y}),Y.\u0275inj=r.Mb({factory:function(e){return new(e||Y)},imports:[[X,Z.BranchModule,K.a]]}),Y)}}]);