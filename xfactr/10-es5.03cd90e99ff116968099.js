function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,i=!1,o=void 0;try{for(var r,c=e[Symbol.iterator]();!(a=(r=c.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(d){i=!0,o=d}finally{try{a||null==c.return||c.return()}finally{if(i)throw o}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{BhuL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"3",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hAvailable",bodyRef:"bAvailable",backendKey:"10",name:"Available",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hCommitted",bodyRef:"bCommitted",backendKey:"11",name:"Committed",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hOrdered",bodyRef:"bOrdered",backendKey:"12",name:"Ordered",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"13",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"14",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"15",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"16",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"17",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"18",name:"Dist.Rules",hideForCustomer:!0,hideForDealer:!0}],i=[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"3",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"4",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"5",name:"UOM"},{headerRef:"hFromWarehouse",bodyRef:"bFromWarehouse",backendKey:"6",name:"From Warehouse"},{headerRef:"hFromBin",bodyRef:"bFromBin",backendKey:"7",name:"From Bin"},{headerRef:"hToWarehouse",bodyRef:"bToWarehouse",backendKey:"8",name:"To Warehouse"},{headerRef:"hToBin",bodyRef:"bToBin",backendKey:"9",name:"To Bin"}],o=[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hGeneralDetails",bodyRef:"bGeneralDetails",backendKey:"3",name:"General Details"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hDuration",bodyRef:"bDuration",backendKey:"5",name:"Duration"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hStartDate",bodyRef:"bStartDate",backendKey:"7",name:"Start Date"},{headerRef:"hEndDate",bodyRef:"bEndDate",backendKey:"8",name:"End Date"},{headerRef:"hShipDate",bodyRef:"bShipDate",backendKey:"9",name:"Ship Date"},{headerRef:"hReturnDate",bodyRef:"bReturnDate",backendKey:"10",name:"Return Date"},{headerRef:"hPoExpiryDate",bodyRef:"bPoExpiryDate",backendKey:"11",name:"PO Expiry Date"},{headerRef:"hEquipmentName",bodyRef:"bEquipmentName",backendKey:"12",name:"Assign Equipment Card"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"13",name:"Unit Price"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"14",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"15",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"16",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"17",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"18",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"19",name:"Dist.Rules"}],r={salesQuote:a,salesOrder:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"3",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hAvailable",bodyRef:"bAvailable",backendKey:"10",name:"Available",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hCommitted",bodyRef:"bCommitted",backendKey:"11",name:"Committed",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hOrdered",bodyRef:"bOrdered",backendKey:"12",name:"Ordered",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"13",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"14",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"15",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"16",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"17",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"18",name:"Dist.Rules",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hSerialNumber",bodyRef:"bSerialNumber",backendKey:"19",name:"Batch / Serial No"},{headerRef:"hExpiryDate",bodyRef:"bExpiryDate",backendKey:"20",name:"Expiry Date"},{headerRef:"hBpApproval",bodyRef:"bBpApproval",backendKey:"21",name:"BP Approval"},{headerRef:"hRemarks",bodyRef:"bRemarks",backendKey:"22",name:"Remarks"},{headerRef:"hDealerDiscountPercentage",bodyRef:"bDealerDiscountPercentage",backendKey:"23",name:"Dealer Discount %",hideForCustomer:!0}],salesDelivery:a,salesArInvoice:a,salesArDpInvoice:a,salesArCreditMemo:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hWithoutQtyPosting",bodyRef:"bWithoutQtyPosting",backendKey:"2",name:"Without Qty Posting"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"3",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hAvailable",bodyRef:"bAvailable",backendKey:"10",name:"Available",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hCommitted",bodyRef:"bCommitted",backendKey:"11",name:"Committed",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hOrdered",bodyRef:"bOrdered",backendKey:"12",name:"Ordered",hideForCustomer:!0,hideForDealer:!0},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"13",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"14",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"15",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"16",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"17",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"18",name:"Dist.Rules",hideForCustomer:!0,hideForDealer:!0}],salesReturn:a,purchaseRequest:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hRequiredDate",bodyRef:"bRequiredDate",backendKey:"3",name:"Required Date"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse"},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"10",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"11",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"12",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"13",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"14",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"15",name:"Dist.Rules"},{headerRef:"hWeight",bodyRef:"bWeight",backendKey:"16",name:"Weight(kg)"}],purchaseOrder:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse"},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"10",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"11",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"12",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"13",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"14",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"15",name:"Dist.Rules"},{headerRef:"hWeight",bodyRef:"bWeight",backendKey:"16",name:"Weight(kg)"}],purchaseGrpo:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQty",bodyRef:"bOpenQty",backendKey:"5",name:"Open Qty"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"6",name:"UOM"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"7",name:"Unit Price"},{headerRef:"hWarehouse",bodyRef:"bWarehouse",backendKey:"8",name:"Warehouse"},{headerRef:"hBin",bodyRef:"bBin",backendKey:"9",name:"Bin"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"10",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"11",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"12",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"13",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"14",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"15",name:"Dist.Rules"}],inventoryRequest:i,inventoryTransfer:i,rentalQuote:o,rentalOrder:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hGeneralDetails",bodyRef:"bGeneralDetails",backendKey:"3",name:"General Details"},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"4",name:"Quantity"},{headerRef:"hOpenQuantity",bodyRef:"bOpenQuantity",backendKey:"5",name:"Open Quantity"},{headerRef:"hDuration",bodyRef:"bDuration",backendKey:"6",name:"Duration"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"7",name:"UOM"},{headerRef:"hStartDate",bodyRef:"bStartDate",backendKey:"8",name:"Start Date"},{headerRef:"hEndDate",bodyRef:"bEndDate",backendKey:"9",name:"End Date"},{headerRef:"hShipDate",bodyRef:"bShipDate",backendKey:"10",name:"Ship Date"},{headerRef:"hReturnDate",bodyRef:"bReturnDate",backendKey:"11",name:"Return Date"},{headerRef:"hPoExpiryDate",bodyRef:"bPoExpiryDate",backendKey:"12",name:"PO Expiry Date"},{headerRef:"hEquipmentName",bodyRef:"bEquipmentName",backendKey:"13",name:"Assign Equipment Card"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"14",name:"Unit Price"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"15",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"16",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"17",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"18",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"19",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"20",name:"Dist.Rules"}],rentalDelivery:o,rentalInvoice:[{headerRef:"hActions",bodyRef:"bActions",backendKey:"0",name:"Actions"},{headerRef:"hSno",bodyRef:"bSno",backendKey:"1",name:"S.No"},{headerRef:"hItemName",bodyRef:"bItemName",backendKey:"2",name:"Item Name"},{headerRef:"hGeneralDetails",bodyRef:"bGeneralDetails",backendKey:"3",name:"General Details"},{headerRef:"hWorkLogRef",bodyRef:"bWorkLogRef",backendKey:"4",name:"Work Log Ref."},{headerRef:"hQuantity",bodyRef:"bQuantity",backendKey:"5",name:"Quantity"},{headerRef:"hDuration",bodyRef:"bDuration",backendKey:"6",name:"Duration"},{headerRef:"hUOM",bodyRef:"bUOM",backendKey:"7",name:"UOM"},{headerRef:"hStartDate",bodyRef:"bStartDate",backendKey:"8",name:"Start Date"},{headerRef:"hEndDate",bodyRef:"bEndDate",backendKey:"9",name:"End Date"},{headerRef:"hShipDate",bodyRef:"bShipDate",backendKey:"10",name:"Ship Date"},{headerRef:"hReturnDate",bodyRef:"bReturnDate",backendKey:"11",name:"Return Date"},{headerRef:"hPoExpiryDate",bodyRef:"bPoExpiryDate",backendKey:"12",name:"PO Expiry Date"},{headerRef:"hEquipmentName",bodyRef:"bEquipmentName",backendKey:"13",name:"Assign Equipment Card"},{headerRef:"hUnitPrice",bodyRef:"bUnitPrice",backendKey:"14",name:"Unit Price"},{headerRef:"hHSN",bodyRef:"bHSN",backendKey:"15",name:"HSN"},{headerRef:"hDiscount",bodyRef:"bDiscount",backendKey:"16",name:"Discount %"},{headerRef:"hTaxCode",bodyRef:"bTaxCode",backendKey:"17",name:"Tax Code"},{headerRef:"hTax",bodyRef:"bTax",backendKey:"18",name:"Tax %"},{headerRef:"hTotal",bodyRef:"bTotal",backendKey:"19",name:"Total"},{headerRef:"hDistRules",bodyRef:"bDistRules",backendKey:"20",name:"Dist.Rules"}],rentalReturn:o}},IzNV:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a,i=n("XNiG"),o=n("2Vo4"),r=n("HDdC"),c=n("LvDl"),d=n("BhuL"),s=n("fXoL"),l=n("ey9i"),u=n("oARB"),b=n("K3ix"),h=((a=function(){function e(t,n,a,r,c){_classCallCheck(this,e),this.utilsService=t,this.storageService=n,this.authGuardService=a,this.commonDataService=r,this.modalService=c,this.actionSaveUpdate=new i.a,this.itemListColumnOrderChanges=new i.a,this.visitHistoryBar=new i.a,this.mapViewInputs=new o.a({}),this.spiTxnOptions=new i.a,this.spiTxnOptionsDownloadPdf=new i.a,this.spiTxnOptionsDownloadPickListPdf=new i.a,this.itemSearch=new i.a,this.inspectionItemData=new i.a,this.inspectionListArray=[],this.notificationTotalUnreadCount=0,this.spiTxnId={sales:"sales",purchase:"purchase",inventory:"inventory",rental:"rental",inspection:"inspection",worklog:"worklog"},this.screenAttributes={masterBp:{title:"",backendKey:"BUSINESS_PARTNER",documentTypeId:"16"},masterItem:{title:"",backendKey:"MASTER_ITEM",documentTypeId:"15"},activity:{title:"",backendKey:"ACTIVITY",documentTypeId:"4"},opportunity:{title:"",backendKey:"OPPORTUNITY",allowedDocType:["2","3"],documentTypeId:"1"},purchaseRequest:{module:"purchase",documentTypeId:"5",title:"Purchase Request",uiKey:"purchaseRequest",backendKey:"PURCHASE_REQUEST",copyFrom:{show:!1},copyTo:{show:!0,allowedDocType:["6"]},addItem:[!0,!0],editRouteKey:"purchase-txn-edit",draftRouteKey:"purchase-txn-edit-draft"},purchaseOrder:{module:"purchase",documentTypeId:"6",title:"Purchase Order",uiKey:"purchaseOrder",backendKey:"PURCHASE_ORDER",copyFrom:{show:!0,allowedDocType:["5"]},copyTo:{show:!0,allowedDocType:["7"]},addItem:[!0,!0],editRouteKey:"purchase-txn-edit",draftRouteKey:"purchase-txn-edit-draft"},purchaseGrpo:{module:"purchase",documentTypeId:"7",title:"Goods Receipt PO",uiKey:"purchaseGrpo",backendKey:"GRPO",copyFrom:{show:!0,allowedDocType:["6"]},copyTo:{show:!1},addItem:[!0,!1],editRouteKey:"purchase-txn-edit",draftRouteKey:"purchase-txn-edit-draft"},inventoryRequest:{module:"inventory",documentTypeId:"8",title:"Inventory Transfer Request",uiKey:"inventoryRequest",backendKey:"INVENTORY_TRANSFER_REQUEST",copyFrom:{show:!1},copyTo:{show:!0,allowedDocType:["9"]},addItem:[!0,!0],editRouteKey:"inventory-txn-edit",draftRouteKey:"inventory-txn-edit-draft"},inventoryTransfer:{module:"inventory",documentTypeId:"9",title:"Inventory Transfer",uiKey:"inventoryTransfer",backendKey:"INVENTORY_TRANSFER",copyFrom:{show:!0,allowedDocType:["8"]},copyTo:{show:!1},addItem:[!0,!1],editRouteKey:"inventory-txn-edit",draftRouteKey:"inventory-txn-edit-draft"},salesQuote:{module:"sales",documentTypeId:"2",title:"Sales Quote",uiKey:"salesQuote",backendKey:"SALES_QUOTE",copyFrom:{show:!1},copyTo:{show:!0,allowedDocType:["3","10","11"]},addItem:[!0,!0],isAfterDelivery:!1,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesOrder:{module:"sales",documentTypeId:"3",title:"Sales Order",uiKey:"salesOrder",backendKey:"SALES_ORDER",copyFrom:{show:!0,allowedDocType:["2"]},copyTo:{show:!0,allowedDocType:["10","11","6"]},addItem:[!0,!0],isAfterDelivery:!1,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesDelivery:{module:"sales",documentTypeId:"10",title:"Delivery",uiKey:"salesDelivery",backendKey:"SALES_DELIVERY",copyFrom:{show:!0,allowedDocType:["2","3"]},copyTo:{show:!0,allowedDocType:["11","14"]},addItem:[!0,!1],isAfterDelivery:!1,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesArInvoice:{module:"sales",documentTypeId:"11",title:"A/R Invoice",uiKey:"salesArInvoice",backendKey:"SALES_AR_INVOICE",copyFrom:{show:!0,allowedDocType:["2","3","10"]},copyTo:{show:!0,allowedDocType:["13"]},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesArDpInvoice:{module:"sales",documentTypeId:"12",title:"A/R Down Payment Invoice",uiKey:"salesArDpInvoice",backendKey:"SALES_AR_DP_INVOICE",copyFrom:{show:!0,allowedDocType:["2","3","10"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesArCreditMemo:{module:"sales",documentTypeId:"13",title:"A/R Credit Memo",uiKey:"salesArCreditMemo",backendKey:"SALES_AR_CREDIT_MEMO",copyFrom:{show:!0,allowedDocType:["11","12"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},salesReturn:{module:"sales",documentTypeId:"14",title:"Return",uiKey:"salesReturn",backendKey:"SALES_RETURN",copyFrom:{show:!0,allowedDocType:["10"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"sales-txn-edit",draftRouteKey:"sales-txn-edit-draft"},rentalQuote:{module:"rental",documentTypeId:"18",title:"Rental Quote",uiKey:"rentalQuote",backendKey:"RENTAL_QUOTE",copyFrom:{show:!1},copyTo:{show:!0,allowedDocType:["19","20","21"]},addItem:[!0,!0],isAfterDelivery:!1,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},rentalOrder:{module:"rental",documentTypeId:"19",title:"Rental Order",uiKey:"rentalOrder",backendKey:"RENTAL_ORDER",copyFrom:{show:!0,allowedDocType:["18"]},copyTo:{show:!0,allowedDocType:["20","21","24","25"]},addItem:[!0,!0],isAfterDelivery:!1,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},rentalDelivery:{module:"rental",documentTypeId:"21",title:"Rental Delivery",uiKey:"rentalDelivery",backendKey:"RENTAL_DELIVERY",copyFrom:{show:!0,allowedDocType:["18","19","20"]},copyTo:{show:!0,allowedDocType:["22"]},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},rentalReturn:{module:"rental",documentTypeId:"22",title:"Rental Return",uiKey:"rentalReturn",backendKey:"RENTAL_RETURN",copyFrom:{show:!0,allowedDocType:["21"]},copyTo:{show:!0,allowedDocType:["23"]},addItem:[!1,!1],isAfterDelivery:!0,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},rentalInvoice:{module:"rental",documentTypeId:"24",title:"Rental Invoice",uiKey:"rentalInvoice",backendKey:"RENTAL_INVOICE",copyFrom:{show:!0,allowedDocType:["19"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"rental-txn-edit",draftRouteKey:"rental-txn-edit-draft"},inspectionIn:{module:"rental",documentTypeId:"23",title:"Inspection In",uiKey:"inspectionIn",backendKey:"RENTAL_INSPECTION_IN",copyFrom:{show:!0,allowedDocType:["22"]},copyTo:{show:!1},addItem:[!1,!1],isAfterDelivery:!0,editRouteKey:"inspection-txn-edit",draftRouteKey:"inspection-txn-edit-draft"},inspectionOut:{module:"rental",documentTypeId:"20",title:"Inspection Out",uiKey:"inspectionOut",backendKey:"RENTAL_INSPECTION_OUT",copyFrom:{show:!0,allowedDocType:["18","19"]},copyTo:{show:!0,allowedDocType:["21"]},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"inspection-txn-edit",draftRouteKey:"inspection-txn-edit-draft"},worklog:{module:"rental",documentTypeId:"25",title:"Worklog",uiKey:"worklog",backendKey:"RENTAL_WORKLOG",copyFrom:{show:!0,allowedDocType:["19"]},copyTo:{show:!1},addItem:[!0,!1],isAfterDelivery:!0,editRouteKey:"worklog-edit",draftRouteKey:"worklog-edit-draft"},transport:{title:"",backendKey:"TRANSPORT",documentTypeId:"27"}}}return _createClass(e,[{key:"distRulesRemoveZeroPatternOnEdit",value:function(e){return this.utilsService.isEmpty(e)?null:e.split(",").filter((function(e){return"0"!==e}))}},{key:"distRulesCheckUnique",value:function(e,t,n){var a=t.getRawValue(),i=[];a[n].forEach((function(t){var n=c.findIndex(e,{id:t});n>=0&&i.push(e[n].dimensionId)}));var o=c.uniq(i);if(i.length!==o.length){this.utilsService.showFailureMsg("Cannot select multiple items in same group!");var r=a[n];r.pop(),t.patchValue(_defineProperty({},n,r))}}},{key:"getBpContactListAndSet",value:function(e,t,n,a,i){var o=this,d=e.getRawValue();return new r.a((function(r){a||e.patchValue(_defineProperty({},t,null)),o.utilsService.isEmpty(d[n])?(r.next([]),r.complete()):o.commonDataService.getBpContactList(d[n]).subscribe((function(n){if("SUCCESS"===n.status){var d=n.results;if(a)o.utilsService.ifNotPushToList(d,i);else{var s=c.findIndex(d,{contactTypeId:"1"});s>=0&&e.patchValue(_defineProperty({},t,d[s].id))}r.next(d),r.complete()}else o.utilsService.showFailureMsg(n),r.error(),r.complete()}))}))}},{key:"getDocumentTypeListBasedOnScreen",value:function(e,t){var n=this;return new r.a((function(a){n.screenAttributes.hasOwnProperty(e)?n.commonDataService.getAutoSuggestionList("getDocumentTypeList").subscribe((function(i){if("SUCCESS"===i.status){var o=[];o=t?n.screenAttributes[e][t].allowedDocType:n.screenAttributes[e].allowedDocType;var r=i.results.filter((function(e){return o.indexOf(e.documentTypeId)>=0}));a.next(r),a.complete()}else n.utilsService.showFailureMsg(i),a.error(),a.complete()})):(n.utilsService.showFailureMsg("Screen name not in list"),a.error(),a.complete())}))}},{key:"txnGetTitle",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?e.substr(0,1):e.substr(1,e.length):""}},{key:"txnRoundingOffChange",value:function(e){e.getRawValue().roundingOffCheckbox?e.controls.rounding.enable():e.controls.rounding.disable(),this.txnCalcTotal(e)}},{key:"txnCalcItemsTotal",value:function(e){e.patchValue({itemsTotalAmount:0}),e.controls.itemListArray.controls.forEach((function(t){var n=t.getRawValue(),a=parseFloat(n.quantity?n.quantity:0)*parseFloat(n.unitPrice?n.unitPrice:0),i=a-a*(parseFloat(n.discountPercentage?n.discountPercentage:0)/100);parseFloat(n.itemTaxPercentage?n.itemTaxPercentage:0),t.patchValue({totalItemAmount:i.toFixed(2)}),e.patchValue({itemsTotalAmount:e.controls.itemsTotalAmount.value+i}),e.patchValue({totalBeforeDiscount:e.controls.itemsTotalAmount.value.toFixed(2)})})),this.txnCalcTotal(e)}},{key:"txnCalcTotal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=parseFloat(e.controls.discountPercentage.value?e.controls.discountPercentage.value:0),a=parseFloat(e.controls.itemsTotalAmount.value?e.controls.itemsTotalAmount.value:0);if(e.value.hasOwnProperty("dpmPercentage")){var i=parseFloat(e.controls.dpmPercentage.value?e.controls.dpmPercentage.value:0),o=parseFloat(e.controls.totalBeforeDiscount.value)/100*i;e.patchValue({dpmValue:o.toFixed(2)}),a=o}var r=0;n?(r=a-a*(n/100),e.patchValue({discountValue:(a-r).toFixed(2)})):e.patchValue({discountValue:0});var c=0;e.controls.itemListArray.controls.forEach((function(t){var a=t.getRawValue(),i=parseFloat(a.totalItemAmount?a.totalItemAmount:0),o=parseFloat(a.itemTaxPercentage?a.itemTaxPercentage:0),r=100;e.value.hasOwnProperty("dpmPercentage")&&(r=parseFloat(e.controls.dpmPercentage.value));var d=o/100*r/100,s=0;s=e.value.hasOwnProperty("dpmPercentage")?i*d:(i-i*(n/100))*d,c+=s,t.patchValue({itemTaxValue:s.toFixed(2)})})),e.patchValue({taxPercentage:c.toFixed(2)});var d=0;d=e.getRawValue().hasOwnProperty("dpmPercentage")?a+c:a-parseFloat(e.controls.discountValue.value)+c,!1===t&&!1===e.controls.editFlag.value&&e.patchValue({rounding:(Math.round(d)-d).toFixed(2)}),!0===e.controls.editFlag.value&&e.patchValue({editFlag:!1});var s=0,l=0;e.getRawValue().hasOwnProperty("salesArDpInvoiceUsedAmount")&&(s=e.controls.salesArDpInvoiceUsedAmount.value?e.controls.salesArDpInvoiceUsedAmount.value:0,l=e.controls.salesArDpInvoiceUsedTaxAmount.value?e.controls.salesArDpInvoiceUsedTaxAmount.value:0);var u=d+parseFloat(e.controls.rounding.value?e.controls.rounding.value:0);e.patchValue({totalAmount:(u-(s+l)).toFixed(2)})}},{key:"txnSetCurrency",value:function(e,t,n,a){var i=t.getRawValue();if(t.patchValue(_defineProperty({},a,"")),i[n]){var o=c.findIndex(e,{id:i[n]});o>=0&&t.patchValue(_defineProperty({},a,e[o].currencyId))}}},{key:"txnSetTaxCode",value:function(e,t,n){var a=t.getRawValue(),i="";if(a[n]){var o=c.findIndex(e,{id:a[n]});o>=0&&(i=e[o].taxCode)}t.patchValue({taxCode:i})}},{key:"txnSetTermsAndMethods",value:function(e,t,n){var a=t.getRawValue(),i="",o="";if(a[n]){var r=c.findIndex(e,{id:a[n]});r>=0&&(this.utilsService.isEmpty(e[r].paymentTermsId)||(i=e[r].paymentTermsId),this.utilsService.isEmpty(e[r].paymentMethodId)||(o=e[r].paymentMethodId))}t.patchValue({paymentTermsId:i,paymentMethodId:o})}},{key:"txnGetActiveCurrency",value:function(e,t,n){var a=t.getRawValue(),i=c.findIndex(e,{id:a[n]});return i>=0?e[i].code:""}},{key:"txnSetUom",value:function(e,t,n,a){var i=t.getRawValue(),o=t.controls.itemListArray.at(n),r=c.findIndex(e,{id:i.itemListArray[n][a]}),d=null;r>=0&&(this.utilsService.isEmpty(e[r].uomId)||(d=e[r].uomId)),o.patchValue({uomId:d})}},{key:"txnSetHsn",value:function(e,t,n,a){var i=t.getRawValue(),o=t.controls.itemListArray.at(n),r=c.findIndex(e,{id:i.itemListArray[n][a]}),d=null;r>=0&&(this.utilsService.isEmpty(e[r].hsnId)||(d=e[r].hsnId)),o.patchValue({hsnId:d})}},{key:"txnSetUnitPrice",value:function(e,t,n){var a=this,i=e.getRawValue(),o=e.controls.itemListArray.at(t),r=i.itemListArray[t].itemId;o.patchValue({unitPrice:"0.00",discountPercentage:"0.00"}),r&&this.commonDataService.getItemPriceValue({itemId:r,businessPartnerId:n,type:"TXN"}).subscribe((function(t){"SUCCESS"===t.status?(o.patchValue({unitPrice:t.results.unitPrice,discountPercentage:t.results.discountPercentage}),a.txnCalcItemsTotal(e)):a.utilsService.showFailureMsg(t)}))}},{key:"txnCheckItemDuplicate",value:function(e,t,n,a){var i,o=e.getRawValue();if((i=o.itemListArray[t][n])&&c.filter(o.itemListArray,_defineProperty({},n,i)).length>1){var r=c.filter(a,{id:i});this.utilsService.showInfoMsg("Selected item (".concat(r[0].itemName+" - "+r[0].itemCode,") already available in the list!"))}}},{key:"setLastPriceAndAvailableStock",value:function(e,t,n,a){var i,o=t.getRawValue(),r=t.controls.itemListArray.at(n),d=c.findIndex(e,{id:o.itemListArray[n].itemId}),s="-",l=0,u=0,b=0;if(r.patchValue({lastPrice:s,availableStock:l,committedStock:u,orderedStock:b}),d>=0&&(a===this.spiTxnId.sales?i=e[d].lastSalesPrice:a===this.spiTxnId.purchase&&(i=e[d].lastPurchasePrice),this.utilsService.isEmpty(i)||(s=i),r.patchValue({lastPrice:s}),a===this.spiTxnId.sales)){var h=parseFloat(e[d].stock),f=parseFloat(e[d].salesOpenCount),m=parseFloat(e[d].purchaseOpenCount);l=h-f+m,u=f,b=m,r.patchValue({availableStock:l,committedStock:u,orderedStock:b})}}},{key:"txnSetBinListAndPreselect",value:function(e,t,n,a,i,o,r,d,s){var l=n.getRawValue(),u=n.controls.itemListArray.at(a),b=l.itemListArray[a][i];if(u.patchValue(_defineProperty({},r,[])),d||u.patchValue(_defineProperty({},o,null)),!this.utilsService.isEmpty(b)){var h=e[c.findIndex(e,{id:b})].binList;d&&this.utilsService.ifNotPushToList(h,s),u.patchValue(_defineProperty({},r,h)),d||this.txnSetDefaultItemBin(t,n,a,i,o,r)}}},{key:"txnSetDefaultItemBin",value:function(e,t,n,a,i,o){var r=t.controls.itemListArray.at(n),d=r.getRawValue(),s=d.itemId,l=d[a],u=d[o];if(r.patchValue(_defineProperty({},i,null)),s&&l){var b=e[c.findIndex(e,{id:s})].itemWarehouseList,h=c.findIndex(b,{warehouseId:l});h>=0&&b[h].binId&&c.findIndex(u,{id:b[h].binId})>=0&&r.patchValue(_defineProperty({},i,b[h].binId))}}},{key:"txnTaxChange",value:function(e,t,n){var a,i=t.controls.itemListArray.at(n),o=c.findIndex(e,{id:i.value.taxId});a=o>=0?e[o].attributePercentage:0,i.patchValue({itemTaxPercentage:a}),this.txnCalcItemsTotal(t)}},{key:"txnGetBpAddressListAndSet",value:function(e,t,n,a,i,o,d){var s=this,l=t.getRawValue();return new r.a((function(r){o||t.patchValue(_defineProperty({},n,"")),s.utilsService.isEmpty(l[i])?(r.next([]),r.complete()):s.commonDataService.getBpAddressList(l[i]).subscribe((function(i){if("SUCCESS"===i.status){var l=i.results.filter((function(t){return t.addressTypeId===e}));if(o)s.utilsService.ifNotPushToList(l,d);else{var u,b=c.findIndex(l,{defaultAddress:"1"});b>=0&&(t.patchValue((_defineProperty(u={},n,l[b].id),_defineProperty(u,a,s.txnFrameAddress(l[b])),u)),"customerShipToBpAddressId"!==n&&"vendorPayToBpAddressId"!==n||s.txnSetTaxCode(l,t,n))}r.next(l),r.complete()}else s.utilsService.showFailureMsg(i),r.error(),r.complete()}))}))}},{key:"txnBpAddressChange",value:function(e,t,n,a){var i=t.getRawValue(),o=c.findIndex(e,{id:i[n]}),r="";o>=0&&(r=this.txnFrameAddress(e[o])),t.patchValue(_defineProperty({},a,r))}},{key:"txnFrameAddress",value:function(e){var t=[];return e.address&&t.push(e.address),e.city&&t.push(e.city),e.stateName&&t.push(e.stateName),e.countryName&&t.push(e.countryName),e.zipcode&&t.push(e.zipcode),t.join(", ")}},{key:"txnAddItemAccess",value:function(e,t,n){var a=this.screenAttributes[e];if("1"===t.getRawValue().status)if(n){if(a.addItem[1])return!0}else if(a.addItem[0])return!0;return!1}},{key:"txnPaymentTermsChange",value:function(e,t,n,a){var i=n.getRawValue(),o=c.findIndex(t,{id:i[a]});if("salesOrder"!==e&&"salesDelivery"!==e&&"purchaseOrder"!==e||n.patchValue({deliveryDate:""}),"salesArInvoice"!==e&&"salesReturn"!==e&&"salesArDpInvoice"!==e&&"salesArCreditMemo"!==e&&"purchaseGrpo"!==e||n.patchValue({dueDate:""}),o>=0){var r=new Date,d=parseInt(t[o].paymentDuration,0);r.setDate(r.getDate()+d),"salesOrder"!==e&&"salesDelivery"!==e&&"purchaseOrder"!==e||n.patchValue({deliveryDate:r}),"salesArInvoice"!==e&&"salesReturn"!==e&&"salesArDpInvoice"!==e&&"salesArCreditMemo"!==e&&"purchaseGrpo"!==e||n.patchValue({dueDate:r})}}},{key:"txnSetItemStockToBinTooltip",value:function(e,t,n,a){var i=this,o=e.getRawValue(),r=o.itemListArray[t].itemId,c=o.itemListArray[t][n],d=e.controls.itemListArray.at(t);r&&c&&""===o.itemListArray[t][a]?this.commonDataService.getStockByItemId(r).subscribe((function(e){if("SUCCESS"===e.status){var t=[];e.results.forEach((function(e){c===e.warehouseId&&t.push(e.binInfo[0].binName+" ("+e.availability+")")})),d.patchValue(t.length>0?_defineProperty({},a,t.join(", ")):_defineProperty({},a,"Stock not available"))}else i.utilsService.showFailureMsg(e)})):""===o.itemListArray[t][a]&&this.utilsService.showFailureMsg("Select Item and Warehouse to show stock!")}},{key:"txnValidateBtn",value:function(e,t,n){var a=this.authGuardService.getScreenAcl(this.screenAttributes[t.inputScreenName].documentTypeId),i=e.getRawValue();return"save"===n||"saveDraft"===n?a.add&&!t.inputEditId:"clear"===n?!t.inputEditId&&!t.inputDraftId:"update"===n?a.update&&t.inputEditId&&"1"===t.editStatusId&&"2"!==i.approvalStatus:"cancel"===n||"editMsgContainer"===n?t.inputEditId||t.inputDraftId:"updateNote"===n?"1"!==t.editStatusId||"2"===i.approvalStatus:"updateAclNote"===n?!a.update&&!t.inputDraftId:"addAclNote"===n?(!t.inputEditId||t.inputDraftId)&&!a.add:"add"===n?a.add&&t.inputDraftId&&"1"===t.editStatusId&&"1"===i.showAddButton:void 0}},{key:"getSelectedItemColumnDataByTxn",value:function(e,t){var n=this,a=this.storageService.get("lineItemConfig"),i=c.find(a,(function(t){return t.module===n.screenAttributes[e].backendKey}));if(i){var o=i.fieldsSelected?i.fieldsSelected:i.defaultFields,r=d.a[e];if("3"===this.storageService.get("employeeTypeId")){var s=r.filter((function(e){return!e.hideForCustomer}));r=s}if("5"===this.storageService.get("employeeTypeId")){var l=r.filter((function(e){return!e.hideForDealer}));r=l}if(t)return{selectedIds:o.split(","),disabledIds:i.disabledFields.split(",")};var u=[];return o.split(",").forEach((function(e){var t=c.findIndex(r,(function(t){return e===t.backendKey}));t>=0&&u.push(r[t])})),u}return[]}},{key:"getMasterDocumentNumbering",value:function(e,t,n,a){var i=this,o=[];return new r.a((function(r){"edit"===n?(o=a,r.next(o),r.complete()):i.commonDataService.getMasterDocumentNumbering(t).subscribe((function(t){var a;"SUCCESS"===t.status?((a=o).push.apply(a,_toConsumableArray(t.results)),"draft"!==n&&o.forEach((function(t){"PRIMARY"===t.documentNumberingType&&(e.patchValue({documentNumberingId:t.id,documentNumber:t.nextNumber,documentNumberingType:t.documentNumberingType}),"MANUAL"===t.documentNumberingType?e.controls.documentNumber.enable():e.controls.documentNumber.disable())})),r.next(o),r.complete()):(i.utilsService.showFailureMsg(t),r.error(),r.complete())}))}))}},{key:"onDocumentNumberingChange",value:function(e,t){t.patchValue({documentNumber:"",documentNumberingType:""});var n=t.getRawValue(),a=c.find(e,(function(e){return e.id===n.documentNumberingId}));a&&a.id&&(t.patchValue({documentNumber:a.nextNumber,documentNumberingType:a.documentNumberingType}),"MANUAL"===a.documentNumberingType?t.controls.documentNumber.enable():t.controls.documentNumber.disable())}},{key:"setItemWeight",value:function(e,t,n,a){var i=t.getRawValue(),o=t.controls.itemListArray.at(n),r=c.findIndex(e,{id:i.itemListArray[n][a]}),d=null;r>=0&&(this.utilsService.isEmpty(e[r].itemWeight)||(d=i.itemListArray[n].quantity*e[r].itemWeight)),o.patchValue({itemWeight:d})}},{key:"txnGetTotalWeight",value:function(e){var t=0;e.controls.itemListArray.controls.forEach((function(e){var n=e.getRawValue(),a=parseFloat(n.itemWeight);t+=a})),e.patchValue({totalWeight:parseFloat(t.toFixed(2))})}}]),e}()).\u0275fac=function(e){return new(e||a)(s.Zb(l.g),s.Zb(l.f),s.Zb(l.a),s.Zb(u.l),s.Zb(b.b))},a.\u0275prov=s.Lb({token:a,factory:a.\u0275fac}),a)},"o+NB":function(e,t,n){"use strict";n.r(t),n.d(t,"BranchModule",(function(){return ie}));var a=n("tyNb"),i=n("ey9i"),o=n("fXoL"),r=n("wd/R"),c=n("oARB"),d=n("IzNV"),s=n("ofXK"),l=n("dZIy"),u=n("3Pt+"),b=n("Mfq2");function h(e,t){if(1&e&&(o.Vb(0,"option",24),o.Lc(1),o.Ub()),2&e){var n=t.$implicit;o.oc("value",n.id),o.Cb(1),o.Oc("",n.branchCode," - ",n.branchName," ")}}function f(e,t){if(1&e){var n=o.Wb();o.Vb(0,"li",20),o.Vb(1,"a",21),o.Vb(2,"select",22),o.dc("change",(function(e){return o.Dc(n),o.hc().branchChange(e.target.value)})),o.Jc(3,h,2,3,"option",23),o.Ub(),o.Ub(),o.Ub()}if(2&e){var a=o.hc();o.Cb(2),o.oc("ngModel",a.storageService.get("branchId")),o.Cb(1),o.oc("ngForOf",a.branchList)}}function m(e,t){if(1&e){var n=o.Wb();o.Vb(0,"div",38),o.dc("click",(function(){o.Dc(n);var e=o.hc(),t=e.$implicit,a=e.index;return o.hc(2).markAsReadOnChange(t.id,a)})),o.Qb(1,"i",39),o.Ub()}}function y(e,t){if(1&e&&(o.Vb(0,"div",40),o.Lc(1),o.Ub()),2&e){var n=o.hc().$implicit;o.Cb(1),o.Nc("",n.timeHourCalc," hours ago")}}function p(e,t){if(1&e&&(o.Vb(0,"div",40),o.Lc(1),o.Ub()),2&e){var n=o.hc().$implicit;o.Cb(1),o.Nc("",n.timeDayCalc," days ago")}}function R(e,t){if(1&e&&(o.Vb(0,"li",31),o.Vb(1,"div",32),o.Vb(2,"div"),o.Vb(3,"span",33),o.Lc(4),o.Ub(),o.Ub(),o.Vb(5,"div",34),o.Lc(6),o.Ub(),o.Ub(),o.Vb(7,"div",35),o.Jc(8,m,2,0,"div",36),o.Jc(9,y,2,1,"div",37),o.Jc(10,p,2,1,"div",37),o.Ub(),o.Ub()),2&e){var n=t.$implicit;o.Cb(4),o.Mc(n.documentTypeName[0]),o.Cb(2),o.Oc("",n.documentTypeName," -- ",n.content,""),o.Cb(2),o.oc("ngIf","1"===n.status),o.Cb(1),o.oc("ngIf",n.timeHourCalc),o.Cb(1),o.oc("ngIf",n.timeDayCalc)}}function v(e,t){if(1&e){var n=o.Wb();o.Vb(0,"div",25),o.Vb(1,"ul",26),o.Vb(2,"li",27),o.Vb(3,"strong"),o.Lc(4,"Notifications"),o.Ub(),o.Ub(),o.Jc(5,R,11,6,"li",28),o.Vb(6,"button",29),o.dc("click",(function(){return o.Dc(n),o.hc(),o.Ac(11).hide()})),o.Qb(7,"i",30),o.Lc(8,"\xa0\xa0Show all notifications"),o.Ub(),o.Ub(),o.Ub()}if(2&e){var a=o.hc();o.Cb(5),o.oc("ngForOf",a.notificationList)}}function g(e,t){if(1&e){var n=o.Wb();o.Vb(0,"ul",41),o.Vb(1,"li"),o.Vb(2,"a",42),o.Lc(3,"My Profile"),o.Ub(),o.Ub(),o.Vb(4,"li"),o.Vb(5,"a",43),o.Lc(6,"Change Password"),o.Ub(),o.Ub(),o.Vb(7,"li"),o.Vb(8,"a",44),o.dc("click",(function(){return o.Dc(n),o.hc().utilsService.logout()})),o.Lc(9,"Logout"),o.Ub(),o.Ub(),o.Ub()}}var k,C=function(e){return{show:e}},I=((k=function(){function e(t,n,a,i){_classCallCheck(this,e),this.utilsService=t,this.commonDataService=n,this.storageService=a,this.branchUtilsService=i,this.collapseNavbar=!1,this.notificationList=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.branchList=this.storageService.get("branchList"),this.getNotificationList()}},{key:"ngAfterViewInit",value:function(){document.getElementById("close-sidebar").addEventListener("click",(function(){document.getElementsByClassName("page-wrapper")[0].classList.toggle("toggled")}))}},{key:"branchChange",value:function(e){this.storageService.append("branchId",e),window.location.reload()}},{key:"markAsReadOnChange",value:function(e,t){var n=this;this.commonDataService.getNotificationMarkAsRead({id:[e]}).subscribe((function(e){"SUCCESS"===e.status?(n.branchUtilsService.notificationTotalUnreadCount=n.branchUtilsService.notificationTotalUnreadCount-1,n.notificationList[t].status="2"):n.utilsService.showFailureMsg(e)}))}},{key:"getNotificationList",value:function(){var e=this;this.commonDataService.getNotificationList({search:{documentTypeId:"",status:"1"},tableProperties:{first:0,rows:5,sortOrder:0}}).subscribe((function(t){"SUCCESS"===t.status?(t.results.searchResults.forEach((function(e){var t=r(),n=r.duration(t.diff(e.createdOn)),a=n.asHours();if(a<24)e.timeHourCalc=a.toFixed(0);else{var i=n.asDays();e.timeDayCalc=i.toFixed(0)}})),e.notificationList=t.results.searchResults,e.branchUtilsService.notificationTotalUnreadCount=t.results.totalUnreadCount):e.utilsService.showFailureMsg(t)}))}}]),e}()).\u0275fac=function(e){return new(e||k)(o.Pb(i.g),o.Pb(c.l),o.Pb(i.f),o.Pb(d.a))},k.\u0275cmp=o.Jb({type:k,selectors:[["app-header"]],decls:23,vars:6,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","fixed-top"],[1,"menu-icon"],["id","close-sidebar",1,"fa","fa-bars","fa-lg"],["href","javascript:void(0)",1,"navbar-brand"],["src","/assets/images/logo.png","height","40px"],[1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngClass"],[1,"navbar-nav","ml-auto"],["class","nav-item",4,"ngIf"],["dropdown","",1,"nav-item",3,"autoClose"],["dropdown","bs-dropdown"],["href","javascript:void(0)","dropdownToggle","",1,"nav-link"],[1,"fa","fa-bell","fa-lg"],[1,"badge","badge-pill","badge-danger"],["class","dropdown-menu header-notifications",4,"dropdownMenu"],["dropdown","",1,"nav-item"],[1,"fa","fa-user-tie","fa-lg"],[1,"fa","fa-caret-down"],["class","dropdown-menu",4,"dropdownMenu"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"branch-control",3,"ngModel","change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"dropdown-menu","header-notifications"],[1,"list-group"],[1,"list-group-item","header"],["class","list-group-item",4,"ngFor","ngForOf"],["routerLink","/branch/notifications",1,"list-group-item","footer",3,"click"],[1,"fa","fa-arrow-right"],[1,"list-group-item"],[1,"first-row"],[1,"user","ntn-bg-2"],[1,"content"],[1,"second-row"],["class","mark-read","tooltip","Mak as Read",3,"click",4,"ngIf"],["class","time",4,"ngIf"],["tooltip","Mak as Read",1,"mark-read",3,"click"],[1,"fa","fa-envelope","fa-lg"],[1,"time"],[1,"dropdown-menu"],["routerLink","/branch/settings/my-profile",1,"dropdown-item"],["routerLink","/branch/settings/change-password",1,"dropdown-item"],[1,"dropdown-item",3,"click"]],template:function(e,t){1&e&&(o.Vb(0,"nav",0),o.Vb(1,"div",1),o.Qb(2,"i",2),o.Ub(),o.Vb(3,"a",3),o.Qb(4,"img",4),o.Ub(),o.Vb(5,"button",5),o.dc("click",(function(){return t.collapseNavbar=!t.collapseNavbar})),o.Qb(6,"span",6),o.Ub(),o.Vb(7,"div",7),o.Vb(8,"ul",8),o.Jc(9,f,4,2,"li",9),o.Vb(10,"li",10,11),o.Vb(12,"a",12),o.Qb(13,"i",13),o.Vb(14,"span",14),o.Lc(15),o.Ub(),o.Ub(),o.Jc(16,v,9,1,"div",15),o.Ub(),o.Vb(17,"li",16),o.Vb(18,"a",12),o.Qb(19,"i",17),o.Lc(20,"\xa0"),o.Qb(21,"i",18),o.Ub(),o.Jc(22,g,10,0,"ul",19),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Cb(7),o.oc("ngClass",o.sc(4,C,t.collapseNavbar)),o.Cb(2),o.oc("ngIf","BRANCH"===t.storageService.get("loggedInModule")),o.Cb(1),o.oc("autoClose",!1),o.Cb(5),o.Mc(t.branchUtilsService.notificationTotalUnreadCount))},directives:[s.k,s.m,l.a,l.d,l.b,u.t,u.m,u.o,s.l,u.p,u.v,a.e,b.a,a.g],styles:[""]}),k),S=n("LvDl");function D(e,t){if(1&e&&(o.Vb(0,"li",14),o.Vb(1,"span"),o.Lc(2),o.Ub(),o.Ub()),2&e){var n=o.hc().$implicit;o.Cb(2),o.Mc(n.key)}}function T(e,t){if(1&e&&(o.Vb(0,"li"),o.Vb(1,"a",18),o.Lc(2),o.Ub(),o.Ub()),2&e){var n=t.$implicit;o.Cb(1),o.oc("routerLink",n.menuUrl),o.Cb(1),o.Mc(n.screenName)}}function K(e,t){if(1&e&&(o.Vb(0,"li",15),o.Vb(1,"a",16),o.Qb(2,"i"),o.Vb(3,"span"),o.Lc(4),o.Ub(),o.Ub(),o.Vb(5,"div",17),o.Vb(6,"ul"),o.Jc(7,T,3,2,"li",11),o.Ub(),o.Ub(),o.Ub()),2&e){var n=t.$implicit;o.Cb(2),o.Eb(n.menuIconName),o.Cb(2),o.Mc(n.moduleName),o.Cb(3),o.oc("ngForOf",n.screenList)}}function A(e,t){if(1&e&&(o.Tb(0),o.Jc(1,D,3,1,"li",12),o.Jc(2,K,8,5,"li",13),o.Sb()),2&e){var n=t.$implicit;o.Cb(1),o.oc("ngIf",n.key),o.Cb(1),o.oc("ngForOf",n.value)}}var U,x,w,O=((w=function(){function e(t,n){_classCallCheck(this,e),this.utilsService=t,this.storageService=n,this.appConstants=i.h,this.aclData={}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this.storageService.get("branchAccessControlList");e.forEach((function(e){e.screenList=S.orderBy(e.screenList,[function(e){return parseInt(e.screenOrder)}],["screenOrder"],["asc"])})),this.aclData=S.groupBy(this.addUrlAndIconInAcl(e),"group")}},{key:"ngAfterViewInit",value:function(){$(".sidebar-dropdown > a").click((function(){$(".sidebar-submenu").slideUp(200),$(this).parent().hasClass("active")?($(".sidebar-dropdown").removeClass("active"),$(this).parent().removeClass("active")):($(".sidebar-dropdown").removeClass("active"),$(this).next(".sidebar-submenu").slideDown(200),$(this).parent().addClass("active"))}))}},{key:"addUrlAndIconInAcl",value:function(e){return e.forEach((function(e){var t=S.find(i.b,{moduleId:e.moduleId});t&&(e.menuIconName=t.menuIconName,e.group=t.group),e.screenList.forEach((function(e){var t=S.find(i.c,{screenId:e.screenId});t&&(e.menuUrl=t.menuUrl)}))})),e}}]),e}()).\u0275fac=function(e){return new(e||w)(o.Pb(i.g),o.Pb(i.f))},w.\u0275cmp=o.Jb({type:w,selectors:[["app-sidebar"]],decls:19,vars:7,consts:[[1,"sidebar-wrapper"],[1,"sidebar-content"],[1,"sidebar-header"],[1,"user-pic"],["alt","User picture",1,"img-responsive","img-rounded",3,"src"],[1,"user-info"],[1,"user-name"],[1,"user-code"],[1,"sidebar-menu"],["routerLink","/branch/dashboard","routerLinkActive","active"],[1,"fa","fa-tachometer-alt"],[4,"ngFor","ngForOf"],["class","header-menu",4,"ngIf"],["class","sidebar-dropdown",4,"ngFor","ngForOf"],[1,"header-menu"],[1,"sidebar-dropdown"],["href","javascript:void(0)"],[1,"sidebar-submenu"],["routerLinkActive","active",3,"routerLink"]],template:function(e,t){1&e&&(o.Vb(0,"nav",0),o.Vb(1,"div",1),o.Vb(2,"div",2),o.Vb(3,"div",3),o.Qb(4,"img",4),o.Ub(),o.Vb(5,"div",5),o.Vb(6,"span",6),o.Lc(7),o.Ub(),o.Vb(8,"span",7),o.Lc(9),o.Ub(),o.Ub(),o.Ub(),o.Vb(10,"div",8),o.Vb(11,"ul"),o.Vb(12,"li"),o.Vb(13,"a",9),o.Qb(14,"i",10),o.Vb(15,"span"),o.Lc(16,"Dashboard"),o.Ub(),o.Ub(),o.Ub(),o.Jc(17,A,3,2,"ng-container",11),o.ic(18,"keyvalue"),o.Ub(),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Cb(4),o.oc("src",t.storageService.get("userImageUrl")?t.storageService.get("userImageUrl"):t.appConstants.DEFAULT_USER_ICON,o.Fc),o.Cb(3),o.Mc(t.storageService.get("name")),o.Cb(2),o.Oc("",t.storageService.get("empCode")," | ",t.storageService.get("designationName"),""),o.Cb(8),o.oc("ngForOf",o.jc(18,5,t.aclData)))},directives:[a.g,a.f,s.l,s.m],pipes:[s.g],styles:[""]}),w),P=((x=function(){function e(){_classCallCheck(this,e),this.appConstants=i.h,this.todayDate=new Date}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||x)},x.\u0275cmp=o.Jb({type:x,selectors:[["app-branch-container"]],decls:9,vars:5,consts:[[1,"page-wrapper","toggled"],[1,"page-content"],[1,"container-fluid"],[1,"footer"]],template:function(e,t){1&e&&(o.Qb(0,"app-header"),o.Vb(1,"div",0),o.Qb(2,"app-sidebar"),o.Vb(3,"div",1),o.Vb(4,"div",2),o.Qb(5,"router-outlet"),o.Ub(),o.Vb(6,"div",3),o.Lc(7),o.ic(8,"date"),o.Ub(),o.Ub(),o.Ub()),2&e&&(o.Cb(7),o.Oc(" Copyright \xa9 ",o.kc(8,2,t.todayDate,"yyyy")," ",t.appConstants.COMPANY_NAME,". All rights reserved. v7.3 "))},directives:[I,O,a.i],pipes:[s.d],styles:[""]}),x),V=((U=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"ngOnInit",value:function(){}}]),e}()).\u0275fac=function(e){return new(e||U)},U.\u0275cmp=o.Jb({type:U,selectors:[["app-dashboard"]],decls:8,vars:0,consts:[[1,"page-title"],[1,"working-container"],[2,"text-align","center","margin-top","150px"],["src","/assets/images/no-images/no-dashboard.png","height","150"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Lc(1," Dashboard\n"),o.Ub(),o.Vb(2,"div",1),o.Vb(3,"div",2),o.Qb(4,"img",3),o.Qb(5,"br"),o.Qb(6,"br"),o.Lc(7," There is no dashboard items available! "),o.Ub(),o.Ub())},styles:[""]}),U),N=n("ZOsW");function L(e,t){if(1&e){var n=o.Wb();o.Vb(0,"span",22),o.dc("click",(function(){return o.Dc(n),o.hc().$implicit.show=!1})),o.Qb(1,"i",23),o.Ub()}}function M(e,t){if(1&e){var n=o.Wb();o.Vb(0,"span",24),o.dc("click",(function(){return o.Dc(n),o.hc().$implicit.show=!0})),o.Qb(1,"i",25),o.Ub()}}function F(e,t){if(1&e&&(o.Vb(0,"div",27),o.Vb(1,"strong"),o.Lc(2,"Request:"),o.Ub(),o.Vb(3,"pre"),o.Lc(4),o.ic(5,"json"),o.Ub(),o.Ub()),2&e){var n=o.hc(2).$implicit;o.Cb(4),o.Mc(o.jc(5,1,n.requestParameter))}}function _(e,t){if(1&e&&(o.Vb(0,"div",27),o.Vb(1,"strong"),o.Lc(2,"Response:"),o.Ub(),o.Vb(3,"pre"),o.Lc(4),o.ic(5,"json"),o.Ub(),o.Ub()),2&e){var n=o.hc(2).$implicit;o.Cb(4),o.Mc(o.jc(5,1,n.responseParameter))}}function E(e,t){if(1&e&&(o.Tb(0),o.Jc(1,F,6,3,"div",26),o.Jc(2,_,6,3,"div",26),o.Sb()),2&e){var n=o.hc().$implicit;o.Cb(1),o.oc("ngIf",n.requestParameter),o.Cb(1),o.oc("ngIf",n.responseParameter)}}function Q(e,t){if(1&e&&(o.Vb(0,"div",13),o.Vb(1,"div",14),o.Vb(2,"div",15),o.Vb(3,"div",16),o.Vb(4,"strong"),o.Lc(5,"URL:"),o.Ub(),o.Qb(6,"br"),o.Lc(7),o.Ub(),o.Vb(8,"div",17),o.Vb(9,"strong"),o.Lc(10,"Method:"),o.Ub(),o.Qb(11,"br"),o.Lc(12),o.ic(13,"uppercase"),o.Ub(),o.Vb(14,"div",17),o.Vb(15,"strong"),o.Lc(16,"Screen:"),o.Ub(),o.Qb(17,"br"),o.Lc(18),o.Ub(),o.Vb(19,"div",18),o.Vb(20,"strong"),o.Jc(21,L,2,0,"span",19),o.Jc(22,M,2,0,"span",20),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Jc(23,E,3,2,"ng-container",21),o.Ub()),2&e){var n=t.$implicit;o.Cb(7),o.Nc("",n.apiUrl," "),o.Cb(5),o.Nc("",o.jc(13,6,n.methodType)," "),o.Cb(6),o.Nc("",n.screenName," "),o.Cb(3),o.oc("ngIf",n.show),o.Cb(1),o.oc("ngIf",!n.show),o.Cb(1),o.oc("ngIf",n.show)}}function B(e,t){if(1&e&&(o.Vb(0,"option",11),o.Lc(1),o.Ub()),2&e){var n=t.$implicit;o.oc("value",n.id),o.Cb(1),o.Mc(n.screenName)}}function W(e,t){if(1&e){var n=o.Wb();o.Vb(0,"a",22),o.dc("click",(function(){o.Dc(n);var e=o.hc(),t=e.$implicit,a=e.index;return o.hc(2).markAsReadOnChange(t.id,a)})),o.Lc(1,"Mark as read"),o.Ub()}}function H(e,t){if(1&e&&(o.Vb(0,"span"),o.Lc(1),o.Ub()),2&e){var n=o.hc().$implicit;o.Cb(1),o.Nc("",n.timeHourCalc," hours ago")}}function J(e,t){if(1&e&&(o.Vb(0,"span"),o.Lc(1),o.Ub()),2&e){var n=o.hc().$implicit;o.Cb(1),o.Nc("",n.timeDayCalc," days ago")}}function q(e,t){if(1&e){var n=o.Wb();o.Vb(0,"div",16),o.Vb(1,"div"),o.Lc(2),o.Ub(),o.Vb(3,"div",17),o.Vb(4,"h4",18),o.Lc(5),o.Ub(),o.Vb(6,"p"),o.Lc(7),o.Ub(),o.Vb(8,"span"),o.Vb(9,"a",19),o.dc("click",(function(){o.Dc(n);var e=t.$implicit;return o.hc(2).documentNavigation(e)})),o.Lc(10,"Click to view more"),o.Ub(),o.Jc(11,W,2,0,"a",20),o.Ub(),o.Vb(12,"div",21),o.Jc(13,H,2,1,"span",10),o.Jc(14,J,2,1,"span",10),o.Vb(15,"span"),o.Lc(16),o.Ub(),o.Ub(),o.Ub(),o.Ub()}if(2&e){var a=t.$implicit,i=t.index;o.Cb(1),o.Fb("timeline-icon ntn-bg-",i+1,""),o.Cb(1),o.Nc(" ",a.documentTypeName[0]," "),o.Cb(3),o.Mc(a.documentTypeName),o.Cb(2),o.Mc(a.content),o.Cb(4),o.oc("ngIf","1"===a.status),o.Cb(2),o.oc("ngIf",a.timeHourCalc),o.Cb(1),o.oc("ngIf",a.timeDayCalc),o.Cb(2),o.Oc("Posted by: ",a.firstName," ",a.lastName,"")}}function j(e,t){if(1&e){var n=o.Wb();o.Vb(0,"button",23),o.dc("click",(function(){return o.Dc(n),o.hc(2).getNotificationList()})),o.Lc(1,"Read more..."),o.Ub()}}function G(e,t){if(1&e){var n=o.Wb();o.Vb(0,"button",23),o.dc("click",(function(){return o.Dc(n),o.hc(2).markAllAsRead()})),o.Lc(1,"Mark All as Read"),o.Ub()}}function z(e,t){1&e&&(o.Vb(0,"div"),o.Lc(1," No more notifications to show! "),o.Ub())}function Z(e,t){if(1&e&&(o.Vb(0,"div",12),o.Jc(1,q,17,11,"div",13),o.Vb(2,"div",14),o.Jc(3,j,2,0,"button",15),o.Jc(4,G,2,0,"button",15),o.Ub(),o.Jc(5,z,2,0,"div",10),o.Ub()),2&e){var n=o.hc();o.Cb(1),o.oc("ngForOf",n.notificationList),o.Cb(2),o.oc("ngIf",n.totalRecords!==n.notificationList.length),o.Cb(1),o.oc("ngIf",n.branchUtilsService.notificationTotalUnreadCount>0),o.Cb(1),o.oc("ngIf",n.totalRecords===n.notificationList.length)}}function Y(e,t){1&e&&(o.Vb(0,"div"),o.Lc(1," No notifications to show "),o.Ub())}var X,ee,te,ne=a.h.forChild([{path:"",component:P,children:[{path:"dashboard",component:V},{path:"api-documentation",component:(ee=function(){function e(t,n){_classCallCheck(this,e),this.utilsService=t,this.commonDataService=n,this.appConstants=i.h,this.screenList=[],this.listing=[],this.filteredListing=[]}return _createClass(e,[{key:"ngOnInit",value:function(){this.getApiDocument()}},{key:"getApiDocument",value:function(){var e=this;this.commonDataService.getApiDocument().subscribe((function(t){if("SUCCESS"===t.status){t.results.searchResults=S.orderBy(t.results.searchResults,["screenName"],["asc"]);var n=S.uniqBy(t.results.searchResults,"screenName");e.screenList=n.map((function(e){return e.screenName})),e.listing=t.results.searchResults.map((function(e){return e.show=!0,e})),e.screenName=e.screenList[0],e.getScreenBasedApis()}else e.utilsService.showFailureMsg(t)}))}},{key:"getScreenBasedApis",value:function(){this.filteredListing=this.screenName?S.filter(this.listing,{screenName:this.screenName}):this.listing}},{key:"collapseAll",value:function(e){this.listing=this.listing.map((function(t){return t.show=e,t}))}},{key:"printDiv",value:function(e){var t=document.getElementById(e).innerHTML;document.body.innerHTML=t,window.print(),window.location.reload()}}]),e}(),ee.\u0275fac=function(e){return new(e||ee)(o.Pb(i.g),o.Pb(c.l))},ee.\u0275cmp=o.Jb({type:ee,selectors:[["app-api-document-container"]],decls:26,vars:4,consts:[[1,"page-title"],[1,"btn-group"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-compress"],[1,"fa","fa-expand"],[1,"fa","fa-print"],[1,"working-container","api-documentation"],[1,"row","mb-3"],[1,"col-sm-3"],[1,"form-label"],["placeholder","--SELECT--","appendTo","body",3,"items","ngModel","multiple","ngModelChange","change"],["id","print"],["class","list",4,"ngFor","ngForOf"],[1,"list"],[1,"alert","alert-warning"],[1,"row"],[1,"col-sm-7"],[1,"col-sm-2"],[1,"col-sm-1"],["tooltip","Hide",3,"click",4,"ngIf"],["tooltip","Expand",3,"click",4,"ngIf"],[4,"ngIf"],["tooltip","Hide",3,"click"],[1,"fa","fa-eye-slash"],["tooltip","Expand",3,"click"],[1,"fa","fa-eye"],["class","req-res",4,"ngIf"],[1,"req-res"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Vb(1,"span"),o.Lc(2,"API"),o.Ub(),o.Lc(3," Documentation "),o.Vb(4,"div",1),o.Vb(5,"button",2),o.dc("click",(function(){return t.collapseAll(!1)})),o.Qb(6,"i",3),o.Vb(7,"span"),o.Lc(8,"Collapse All"),o.Ub(),o.Ub(),o.Vb(9,"button",2),o.dc("click",(function(){return t.collapseAll(!0)})),o.Qb(10,"i",4),o.Vb(11,"span"),o.Lc(12,"Expand All"),o.Ub(),o.Ub(),o.Vb(13,"button",2),o.dc("click",(function(){return t.printDiv("print")})),o.Qb(14,"i",5),o.Vb(15,"span"),o.Lc(16,"Print"),o.Ub(),o.Ub(),o.Ub(),o.Ub(),o.Vb(17,"div",6),o.Vb(18,"div",7),o.Vb(19,"div",8),o.Vb(20,"label",9),o.Vb(21,"strong"),o.Lc(22,"Select Screen"),o.Ub(),o.Ub(),o.Vb(23,"ng-select",10),o.dc("ngModelChange",(function(e){return t.screenName=e}))("change",(function(){return t.getScreenBasedApis()})),o.Ub(),o.Ub(),o.Ub(),o.Vb(24,"div",11),o.Jc(25,Q,24,8,"div",12),o.Ub(),o.Ub()),2&e&&(o.Cb(23),o.oc("items",t.screenList)("ngModel",t.screenName)("multiple",!1),o.Cb(2),o.oc("ngForOf",t.filteredListing))},directives:[N.a,u.m,u.o,s.l,s.m,b.a],pipes:[s.u,s.f],styles:[".api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-bottom:20px}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#000;font-family:Open-Sans-Bold}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{cursor:pointer}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .req-res[_ngcontent-%COMP%]{font-size:14px}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .req-res[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:red}.api-documentation[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .req-res[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{padding:10px;font-size:12px;background:#ecfaff;margin-bottom:10px}"]}),ee)},{path:"notifications",component:(X=function(){function e(t,n,a){_classCallCheck(this,e),this.utilsService=t,this.commonDataService=n,this.branchUtilsService=a,this.appConstants=i.h,this.notificationList=[],this.notificationScreenList=[],this.totalRecords=0,this.screenId=""}return _createClass(e,[{key:"ngOnInit",value:function(){this.getNotificationList(),this.getNotificationScreenList()}},{key:"documentNavigation",value:function(e){var t=this;Object.entries(this.branchUtilsService.screenAttributes).forEach((function(n){var a=_slicedToArray(n,2),i=(a[0],a[1]),o=JSON.parse(JSON.stringify(i));o.documentTypeId===e.documentTypeId&&t.utilsService.redirect("/branch/".concat(o.module,"/").concat(o.editRouteKey,"/").concat(o.uiKey,"/").concat(e.documentId))}))}},{key:"getNotificationScreenList",value:function(){var e=this;this.commonDataService.getNotificationScreens().subscribe((function(t){"SUCCESS"===t.status?e.notificationScreenList=t.results:e.utilsService.showFailureMsg(t)}))}},{key:"markAsReadOnChange",value:function(e,t){var n=this;this.commonDataService.getNotificationMarkAsRead({id:[e]}).subscribe((function(e){"SUCCESS"===e.status?(n.branchUtilsService.notificationTotalUnreadCount=n.branchUtilsService.notificationTotalUnreadCount-1,n.notificationList[t].status="2"):n.utilsService.showFailureMsg(e)}))}},{key:"markAllAsRead",value:function(){var e=this;this.commonDataService.getMarkAllAsRead().subscribe((function(t){"SUCCESS"===t.status?e.notificationList.forEach((function(e){e.status="2"})):e.utilsService.showFailureMsg(t)}))}},{key:"getNotificationList",value:function(e){var t=this;this.commonDataService.getNotificationList({search:{documentTypeId:e?this.screenId:"",status:""},tableProperties:{first:"search"===e?0:this.notificationList.length,rows:10,sortOrder:0}}).subscribe((function(n){var a;"SUCCESS"===n.status?(n.results.searchResults.forEach((function(e){var t=r(),n=r.duration(t.diff(e.createdOn)),a=n.asHours();if(a<24)e.timeHourCalc=a.toFixed(0);else{var i=n.asDays();e.timeDayCalc=i.toFixed(0)}})),"search"===e?(t.notificationList=[],t.notificationList=n.results.searchResults):(a=t.notificationList).push.apply(a,_toConsumableArray(n.results.searchResults)),t.branchUtilsService.notificationTotalUnreadCount=n.results.totalUnreadCount,t.totalRecords=n.results.totalRecords):t.utilsService.showFailureMsg(n)}))}}]),e}(),X.\u0275fac=function(e){return new(e||X)(o.Pb(i.g),o.Pb(c.l),o.Pb(d.a))},X.\u0275cmp=o.Jb({type:X,selectors:[["app-notifications-container"]],decls:19,vars:4,consts:[[1,"page-title"],[1,"working-container"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary","btn-sm","mt-3",3,"click"],["class","timeline",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"timeline"],["class","timeline-container primary",4,"ngFor","ngForOf"],[1,"btn-group","text-right"],["class","btn btn-dark btn-sm",3,"click",4,"ngIf"],[1,"timeline-container","primary"],[1,"timeline-body"],[1,"timeline-title"],["href","javascript:void(0)",3,"click"],["href","javascript:void(0)","style","margin-left: 10px;",3,"click",4,"ngIf"],[1,"timeline-subtitle"],["href","javascript:void(0)",2,"margin-left","10px",3,"click"],[1,"btn","btn-dark","btn-sm",3,"click"]],template:function(e,t){1&e&&(o.Vb(0,"div",0),o.Vb(1,"span"),o.Lc(2,"N"),o.Ub(),o.Lc(3,"otifications\n"),o.Ub(),o.Vb(4,"div",1),o.Vb(5,"div",2),o.Vb(6,"div",3),o.Vb(7,"label",4),o.Vb(8,"strong"),o.Lc(9,"Filter by Document Type"),o.Ub(),o.Ub(),o.Vb(10,"select",5),o.dc("ngModelChange",(function(e){return t.screenId=e})),o.Vb(11,"option",6),o.Lc(12,"--ALL--"),o.Ub(),o.Jc(13,B,2,2,"option",7),o.Ub(),o.Ub(),o.Vb(14,"div",3),o.Vb(15,"button",8),o.dc("click",(function(){return t.getNotificationList("search")})),o.Lc(16,"Search"),o.Ub(),o.Ub(),o.Ub(),o.Jc(17,Z,6,4,"div",9),o.Jc(18,Y,2,0,"div",10),o.Ub()),2&e&&(o.Cb(10),o.oc("ngModel",t.screenId),o.Cb(3),o.oc("ngForOf",t.notificationScreenList),o.Cb(4),o.oc("ngIf",t.notificationList.length>0),o.Cb(1),o.oc("ngIf",0===t.notificationList.length))},directives:[u.t,u.m,u.o,u.p,u.v,s.l,s.m],styles:['.timeline[_ngcontent-%COMP%]{position:relative;padding-left:4rem;margin:0 0 0 30px;font-size:13px}.timeline[_ngcontent-%COMP%]:before{content:"";position:absolute;left:0;top:0;width:4px;height:100%;background:#8d99a2}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]{position:relative;margin-bottom:2.5rem}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]{position:absolute;left:-88px;top:4px;width:50px;height:50px;border-radius:50%;text-align:center;font-size:2rem}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-icon[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]{background:#d2ebff;border-radius:3px;padding:10px 20px;box-shadow:1px 3px 9px rgba(0,0,0,.1)}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]:before{content:"";background:inherit;width:20px;height:20px;display:block;position:absolute;left:-10px;transform:rotate(45deg);border-radius:0 0 0 2px}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-title[_ngcontent-%COMP%]{margin-bottom:10px;font-size:14px;font-family:Open-Sans-Bold}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-action[_ngcontent-%COMP%]{margin-bottom:10px}.timeline[_ngcontent-%COMP%]   .timeline-container[_ngcontent-%COMP%]   .timeline-body[_ngcontent-%COMP%]   .timeline-subtitle[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-weight:300;font-style:italic;margin-top:16px;font-size:11px}']}),X)},{path:"settings",loadChildren:function(){return n.e(24).then(n.bind(null,"ef8g")).then((function(e){return e.SettingsModule}))}},{path:"crm",loadChildren:function(){return Promise.all([n.e(0),n.e(1),n.e(15)]).then(n.bind(null,"J6bJ")).then((function(e){return e.CrmModule}))}},{path:"sales",loadChildren:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(23)]).then(n.bind(null,"XLNE")).then((function(e){return e.SalesModule}))}},{path:"smt",loadChildren:function(){return n.e(25).then(n.bind(null,"RCZk")).then((function(e){return e.SmtModule}))}},{path:"bp",loadChildren:function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"Fg2s")).then((function(e){return e.BusinessPartnerModule}))}},{path:"inventory",loadChildren:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(19)]).then(n.bind(null,"FP8e")).then((function(e){return e.InventoryModule}))}},{path:"purchase",loadChildren:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(20)]).then(n.bind(null,"dJxe")).then((function(e){return e.PurchaseModule}))}},{path:"hr",loadChildren:function(){return Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"UmRt")).then((function(e){return e.HrModule}))}},{path:"admin-general",loadChildren:function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"cuSC")).then((function(e){return e.AdminGeneralModule}))}},{path:"sales-opportunities",loadChildren:function(){return Promise.all([n.e(0),n.e(22)]).then(n.bind(null,"gEGQ")).then((function(e){return e.SalesOpportunitiesModule}))}},{path:"financials",loadChildren:function(){return Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"oDoc")).then((function(e){return e.FinancialsModule}))}},{path:"admin-inventory",loadChildren:function(){return Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"i2d0")).then((function(e){return e.AdminInventoryModule}))}},{path:"customization",loadChildren:function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"AXVv")).then((function(e){return e.CustomizationModule}))}},{path:"rental",loadChildren:function(){return Promise.all([n.e(0),n.e(1),n.e(3),n.e(21)]).then(n.bind(null,"WfjI")).then((function(e){return e.RentalModule}))}},{path:"system-initialization",loadChildren:function(){return n.e(26).then(n.bind(null,"CiB8")).then((function(e){return e.SystemInitializationModule}))}},{path:"approval-process",loadChildren:function(){return n.e(14).then(n.bind(null,"FinS")).then((function(e){return e.ApprovalModule}))}},{path:"transport",loadChildren:function(){return Promise.all([n.e(1),n.e(9)]).then(n.bind(null,"Ir9b")).then((function(e){return e.TransportModule}))}}]}]),ae=n("PCNd"),ie=((te=function e(){_classCallCheck(this,e)}).\u0275mod=o.Nb({type:te}),te.\u0275inj=o.Mb({factory:function(e){return new(e||te)},providers:[d.a],imports:[[ne,ae.a],ae.a]}),te)}}]);