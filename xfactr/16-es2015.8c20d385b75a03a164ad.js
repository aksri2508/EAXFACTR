(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{AXVv:function(t,e,i){"use strict";i.r(e),i.d(e,"CustomizationModule",(function(){return H}));var o=i("tyNb"),s=i("ey9i"),n=i("fXoL"),c=i("oARB"),r=i("IzNV"),a=i("ofXK"),d=i("rEr+"),b=i("7zfz"),l=i("Mfq2"),u=i("3Pt+");const p=["dataTable"];function m(t,e){1&t&&(n.Vb(0,"colgroup"),n.Qb(1,"col",14),n.Qb(2,"col",15),n.Qb(3,"col",16),n.Qb(4,"col",16),n.Qb(5,"col",17),n.Ub())}function f(t,e){if(1&t&&(n.Vb(0,"option",27),n.Lc(1),n.Ub()),2&t){const t=e.$implicit;n.oc("value",t.id),n.Cb(1),n.Mc(t.fieldTypeName)}}function h(t,e){if(1&t&&(n.Vb(0,"option",27),n.Lc(1),n.Ub()),2&t){const t=e.$implicit;n.oc("value",t.id),n.Cb(1),n.Mc(t.name)}}function g(t,e){if(1&t){const t=n.Wb();n.Vb(0,"tr"),n.Vb(1,"th"),n.Lc(2,"Actions"),n.Ub(),n.Vb(3,"th",18),n.Lc(4,"Field Type"),n.Qb(5,"p-sortIcon",19),n.Ub(),n.Vb(6,"th",18),n.Lc(7,"Field Name"),n.Qb(8,"p-sortIcon",19),n.Ub(),n.Vb(9,"th",18),n.Lc(10,"Field Description"),n.Qb(11,"p-sortIcon",19),n.Ub(),n.Vb(12,"th",18),n.Lc(13,"Status"),n.Qb(14,"p-sortIcon",19),n.Ub(),n.Ub(),n.Vb(15,"tr",20),n.Vb(16,"th"),n.Vb(17,"a",21),n.dc("click",(function(){return n.Dc(t),n.hc(2).clearSearchForm()})),n.Qb(18,"i",22),n.Lc(19,"Clear"),n.Ub(),n.Ub(),n.Vb(20,"th"),n.Vb(21,"select",23),n.dc("ngModelChange",(function(e){return n.Dc(t),n.hc(2).searchForm.fieldTypeId=e}))("change",(function(){return n.Dc(t),n.hc(2).resetListing()})),n.Vb(22,"option",24),n.Lc(23,"--SELECT--"),n.Ub(),n.Jc(24,f,2,2,"option",25),n.Ub(),n.Ub(),n.Vb(25,"th"),n.Vb(26,"input",26),n.dc("ngModelChange",(function(e){return n.Dc(t),n.hc(2).searchForm.fieldName=e}))("keyup.enter",(function(){return n.Dc(t),n.hc(2).resetListing()})),n.Ub(),n.Ub(),n.Vb(27,"th"),n.Vb(28,"input",26),n.dc("ngModelChange",(function(e){return n.Dc(t),n.hc(2).searchForm.fieldLabel=e}))("keyup.enter",(function(){return n.Dc(t),n.hc(2).resetListing()})),n.Ub(),n.Ub(),n.Vb(29,"th"),n.Vb(30,"select",23),n.dc("ngModelChange",(function(e){return n.Dc(t),n.hc(2).searchForm.status=e}))("change",(function(){return n.Dc(t),n.hc(2).resetListing()})),n.Lc(31,"> "),n.Vb(32,"option",24),n.Lc(33,"--SELECT--"),n.Ub(),n.Jc(34,h,2,2,"option",25),n.Ub(),n.Ub(),n.Ub()}if(2&t){const t=n.hc(2);n.Cb(3),n.oc("pSortableColumn","fieldTypeId"),n.Cb(2),n.oc("field","fieldTypeId"),n.Cb(1),n.oc("pSortableColumn","fieldName"),n.Cb(2),n.oc("field","fieldName"),n.Cb(1),n.oc("pSortableColumn","fieldLabel"),n.Cb(2),n.oc("field","fieldLabel"),n.Cb(1),n.oc("pSortableColumn","status"),n.Cb(2),n.oc("field","status"),n.Cb(7),n.oc("ngModel",t.searchForm.fieldTypeId),n.Cb(3),n.oc("ngForOf",t.fieldTypesList),n.Cb(2),n.oc("ngModel",t.searchForm.fieldName),n.Cb(2),n.oc("ngModel",t.searchForm.fieldLabel),n.Cb(2),n.oc("ngModel",t.searchForm.status),n.Cb(4),n.oc("ngForOf",t.statusList)}}function L(t,e){if(1&t&&(n.Vb(0,"tr"),n.Vb(1,"td"),n.Vb(2,"a",28),n.Qb(3,"i",29),n.Ub(),n.Ub(),n.Vb(4,"td"),n.Lc(5),n.Ub(),n.Vb(6,"td"),n.Lc(7),n.Ub(),n.Vb(8,"td"),n.Lc(9),n.Ub(),n.Vb(10,"td"),n.Vb(11,"span",30),n.Lc(12),n.Ub(),n.Ub(),n.Ub()),2&t){const t=e.$implicit,i=n.hc(2);n.Cb(2),n.qc("routerLink","/branch/customization/udf-mgmt-edit/",i.utilsService.encrypt(t.id),""),n.Cb(3),n.Mc(t.fieldTypeName),n.Cb(2),n.Mc(t.fieldName),n.Cb(2),n.Mc(t.fieldLabel),n.Cb(2),n.oc("ngClass",i.appConstants.STATUS_COLOR_CLS[t.status]),n.Cb(1),n.Mc(t.statusName)}}function U(t,e){if(1&t){const t=n.Wb();n.Tb(0),n.Vb(1,"div",1),n.Vb(2,"span"),n.Lc(3,"UDF"),n.Ub(),n.Lc(4,"Management - List "),n.Vb(5,"div",2),n.Vb(6,"button",3),n.Qb(7,"i",4),n.Vb(8,"span"),n.Lc(9,"Add Field"),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Vb(10,"div",5),n.Vb(11,"div",6),n.Vb(12,"div",7),n.Vb(13,"div",8),n.Vb(14,"p-table",9,10),n.dc("onLazyLoad",(function(e){return n.Dc(t),n.hc().getListing(e)})),n.Jc(16,m,6,0,"ng-template",11),n.Jc(17,g,35,14,"ng-template",12),n.Jc(18,L,13,6,"ng-template",13),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Sb()}if(2&t){const t=n.hc();n.Cb(14),n.oc("value",t.listing.data)("lazy",!0)("paginator",!0)("rows",t.appConstants.TABLE_DEFAULT_ROWS)("totalRecords",t.listing.totalRecords)}}let v=(()=>{class t{constructor(t,e,i,o,n){this.utilsService=t,this.authGuardService=e,this.commonDataService=i,this.branchUtilsService=o,this.udfDataService=n,this.appConstants=s.h,this.screenAcl={},this.statusList=[],this.fieldTypesList=[],this.listing={data:[],totalRecords:0},this.searchForm={fieldTypeId:"",fieldName:"",fieldLabel:"",status:"1"}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("53"),!this.screenAcl.view)return this.utilsService.showFailureMsg(s.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.getAutoSuggestionList("getCommonStatusList"),this.getFieldTypes()}getAutoSuggestionList(t){this.commonDataService.getAutoSuggestionList(t).subscribe(e=>{"SUCCESS"===e.status?"getCommonStatusList"===t&&(this.statusList=e.results):this.utilsService.showFailureMsg(e)})}getFieldTypes(){this.udfDataService.getFieldTypes().subscribe(t=>{"SUCCESS"===t.status?this.fieldTypesList=t.results:this.utilsService.showFailureMsg(t)})}getListing(t){const e=this.utilsService.dataTableParameterFormation(t,this.searchForm);this.udfDataService.getFieldList(e).subscribe(t=>{"SUCCESS"===t.status?(this.listing.data=t.results.searchResults,this.listing.totalRecords=t.results.totalRecords):this.utilsService.showFailureMsg(t)})}clearSearchForm(){this.searchForm={fieldTypeId:"",fieldName:"",fieldLabel:"",status:"1"},this.resetListing()}resetListing(){this.dataTable.reset()}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(s.g),n.Pb(s.a),n.Pb(c.l),n.Pb(r.a),n.Pb(c.lb))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-udf-mgmt-list"]],viewQuery:function(t,e){var i;1&t&&n.Pc(p,!0),2&t&&n.zc(i=n.ec())&&(e.dataTable=i.first)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"btn-group"],["routerLink","/branch/customization/udf-mgmt-add",1,"btn","btn-primary","btn-sm"],[1,"fa","fa-plus"],[1,"working-container"],[1,"row"],[1,"col-12"],[1,"datatable-responsive"],[3,"value","lazy","paginator","rows","totalRecords","onLazyLoad"],["dataTable",""],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[2,"width","80px"],[2,"width","200px"],[2,"width","150px"],[2,"width","120px"],[3,"pSortableColumn"],[3,"field"],["placement","top","container","body","tooltip","Press Enter key to search",1,"search"],[1,"clear-search",3,"click"],[1,"fa","fa-times"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup.enter"],[3,"value"],["placement","top","container","body","tooltip","Edit",1,"action","blue",3,"routerLink"],[1,"fa","fa-edit"],[1,"badge",3,"ngClass"]],template:function(t,e){1&t&&n.Jc(0,U,19,5,"ng-container",0),2&t&&n.oc("ngIf",e.screenAcl.view)},directives:[a.m,o.e,d.c,b.b,d.b,d.a,l.a,u.t,u.m,u.o,u.p,u.v,a.l,u.b,o.g,a.k],styles:[""]}),t})();function y(t,e){1&t&&(n.Tb(0),n.Lc(1,"Add"),n.Sb())}function F(t,e){1&t&&(n.Tb(0),n.Lc(1,"Edit"),n.Sb())}function C(t,e){if(1&t&&(n.Vb(0,"option",30),n.Lc(1),n.Ub()),2&t){const t=e.$implicit;n.oc("value",t.id),n.Cb(1),n.Mc(t.fieldTypeName)}}function V(t,e){if(1&t&&(n.Vb(0,"div",31),n.Lc(1),n.Ub()),2&t){const t=n.hc();n.Cb(1),n.Nc(" ",t.myFormErrors1.fieldTypeId," ")}}function S(t,e){if(1&t&&(n.Vb(0,"div",31),n.Lc(1),n.Ub()),2&t){const t=n.hc();n.Cb(1),n.Nc(" ",t.myFormErrors1.fieldLabel," ")}}function I(t,e){if(1&t&&(n.Vb(0,"div",31),n.Lc(1),n.Ub()),2&t){const t=n.hc();n.Cb(1),n.Nc(" ",t.myFormErrors1.fieldName," ")}}function D(t,e){if(1&t&&(n.Vb(0,"option",30),n.Lc(1),n.Ub()),2&t){const t=e.$implicit;n.oc("value",t.id),n.Cb(1),n.Mc(t.name)}}function M(t,e){if(1&t&&(n.Vb(0,"div",31),n.Lc(1),n.Ub()),2&t){const t=n.hc();n.Cb(1),n.Nc(" ",t.myFormErrors1.status," ")}}function O(t,e){if(1&t&&(n.Vb(0,"div",31),n.Lc(1),n.Ub()),2&t){const t=n.hc().index,e=n.hc(2);n.Cb(1),n.Nc(" ",e.myFormErrors1.selectOptionListArray[t].optionsFieldLabel," ")}}function T(t,e){if(1&t&&(n.Vb(0,"div",31),n.Lc(1),n.Ub()),2&t){const t=n.hc().index,e=n.hc(2);n.Cb(1),n.Nc(" ",e.myFormErrors1.selectOptionListArray[t].defaultSelected," ")}}function A(t,e){if(1&t){const t=n.Wb();n.Vb(0,"tr",40),n.Vb(1,"td"),n.Vb(2,"a",41),n.dc("click",(function(){n.Dc(t);const i=e.index;return n.hc(2).removeOptionFields(i)})),n.Qb(3,"i",42),n.Ub(),n.Ub(),n.Vb(4,"td"),n.Qb(5,"input",43),n.Jc(6,O,2,1,"div",17),n.Ub(),n.Vb(7,"td"),n.Vb(8,"select",44),n.Vb(9,"option",21),n.Lc(10,"No"),n.Ub(),n.Vb(11,"option",22),n.Lc(12,"Yes"),n.Ub(),n.Ub(),n.Jc(13,T,2,1,"div",17),n.Ub(),n.Ub()}if(2&t){const t=e.index,i=n.hc(2);n.oc("formGroupName",t),n.Cb(6),n.oc("ngIf",i.myFormErrors1.selectOptionListArray[t].optionsFieldLabel),n.Cb(7),n.oc("ngIf",i.myFormErrors1.selectOptionListArray[t].defaultSelected)}}function N(t,e){if(1&t){const t=n.Wb();n.Vb(0,"div",6),n.Vb(1,"div",7),n.Qb(2,"i",8),n.Lc(3,"Select Options "),n.Ub(),n.Vb(4,"div",32),n.Vb(5,"div",33),n.Vb(6,"table",34),n.Vb(7,"thead"),n.Vb(8,"tr"),n.Vb(9,"th"),n.Lc(10,"Action"),n.Ub(),n.Vb(11,"th"),n.Lc(12,"Option Description"),n.Vb(13,"span",13),n.Lc(14,"*"),n.Ub(),n.Ub(),n.Vb(15,"th"),n.Lc(16,"Pre Select"),n.Ub(),n.Ub(),n.Ub(),n.Vb(17,"tbody",35),n.Jc(18,A,14,3,"tr",36),n.Ub(),n.Vb(19,"tfoot"),n.Vb(20,"tr"),n.Vb(21,"td",37),n.Vb(22,"button",38),n.dc("click",(function(){return n.Dc(t),n.hc().addOptionFields()})),n.Qb(23,"i",39),n.Vb(24,"span"),n.Lc(25,"Add Options"),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub()}if(2&t){const t=n.hc();n.Cb(18),n.oc("ngForOf",t.myForm1.controls.selectOptionListArray.controls)}}function w(t,e){if(1&t){const t=n.Wb();n.Vb(0,"button",45),n.dc("click",(function(){return n.Dc(t),n.hc().saveUpdate()})),n.Qb(1,"i",46),n.Vb(2,"span"),n.Lc(3,"Save"),n.Ub(),n.Ub()}}function k(t,e){if(1&t){const t=n.Wb();n.Vb(0,"button",3),n.dc("click",(function(){return n.Dc(t),n.hc().clearForm()})),n.Qb(1,"i",47),n.Vb(2,"span"),n.Lc(3,"Clear"),n.Ub(),n.Ub()}}function E(t,e){if(1&t){const t=n.Wb();n.Vb(0,"button",45),n.dc("click",(function(){return n.Dc(t),n.hc().saveUpdate()})),n.Qb(1,"i",48),n.Vb(2,"span"),n.Lc(3,"Update"),n.Ub(),n.Ub()}}function x(t,e){1&t&&(n.Vb(0,"button",49),n.Qb(1,"i",50),n.Vb(2,"span"),n.Lc(3,"Cancel"),n.Ub(),n.Ub())}function P(t,e){1&t&&(n.Vb(0,"div",51),n.Vb(1,"span",52),n.Lc(2,"Note:"),n.Ub(),n.Lc(3," You are unauthorized to "),n.Vb(4,"strong"),n.Lc(5,"update"),n.Ub(),n.Lc(6," this transaction! "),n.Ub())}function J(t,e){1&t&&(n.Vb(0,"div",51),n.Vb(1,"span",52),n.Lc(2,"Note:"),n.Ub(),n.Lc(3," You are unauthorized to "),n.Vb(4,"strong"),n.Lc(5,"add"),n.Ub(),n.Lc(6," this transaction!. "),n.Ub())}let _=(()=>{class t{constructor(t,e,i,o,s,n){this.utilsService=t,this.authGuardService=e,this.formBuilder=i,this.commonDataService=o,this.udfDataService=s,this.activatedRoute=n,this.screenAcl={},this.fieldTypesList=[],this.statusList=[],this.myForm1Data={},this.myFormErrors1={fieldTypeId:"",fieldLabel:"",fieldName:"",requiredField:"",status:"",selectOptionListArray:[]},this.myFormValidationMsgs1={fieldTypeId:{required:"Field Type is required"},fieldLabel:{required:"Field Description is required"},fieldName:{required:"Field Name is required"},status:{required:"Status is required"},selectOptionListArray:{optionsFieldLabel:{required:"Option Description is required"}}}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("53"),!this.screenAcl.view)return this.utilsService.showFailureMsg(s.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.initializeForm1(),this.initializeSubscriptions(),this.getAutoSuggestionList("getCommonStatusList"),this.getFieldTypes()}initializeSubscriptions(){this.activatedRoute.params.subscribe(t=>{t.id&&(this.inputEditId=this.utilsService.decrypt(t.id),this.get())})}initializeForm1(){this.myForm1=this.formBuilder.group({fieldTypeId:["",[u.u.required]],fieldLabel:["",[u.u.required]],fieldName:["",[u.u.required]],requiredField:[0],status:["1",[u.u.required]],deletedOptionChildIds:[[]],selectOptionListArray:this.formBuilder.array([this.initOptionFields()])}),this.myForm1.valueChanges.subscribe(t=>{this.utilsService.validation(this.myForm1,this.myFormErrors1,this.myFormValidationMsgs1),this.myForm1Data=this.myForm1.getRawValue()}),this.myForm1Data=this.myForm1.getRawValue(),this.removeOptionFields(0)}addOptionFields(t){this.myForm1.controls.selectOptionListArray.push(this.initOptionFields(t))}initOptionFields(t){const e={optionsFieldLabel:"",defaultSelected:0,id:""};return t&&(e.optionsFieldLabel=t.optionsFieldLabel,e.defaultSelected=t.defaultSelected,e.id=t.id),this.myFormErrors1.selectOptionListArray.push({optionsFieldLabel:""}),this.formBuilder.group({optionsFieldLabel:[e.optionsFieldLabel,[u.u.required]],defaultSelected:[e.defaultSelected],id:[e.id]})}removeOptionFields(t){const e=this.myForm1Data.selectOptionListArray[t].id;if(e){const t=this.myForm1Data.deletedOptionChildIds;t.push(e),this.myForm1.patchValue({deletedOptionChildIds:t})}this.myForm1.controls.selectOptionListArray.removeAt(t)}saveUpdate(){if("2"===this.myForm1Data.fieldTypeId){let t=0;if(this.myForm1Data.selectOptionListArray.forEach(e=>{"1"===e.defaultSelected&&(t+=1)}),t>1)return this.utilsService.showFailureMsg("Only one option pre select is allowed"),!1}if(!this.myForm1.valid)return this.utilsService.validation(this.myForm1,this.myFormErrors1,this.myFormValidationMsgs1,!0),!1;const t={fieldTypeId:this.myForm1Data.fieldTypeId,fieldLabel:this.myForm1Data.fieldLabel,fieldName:this.myForm1Data.fieldName,requiredField:this.myForm1Data.requiredField,status:this.myForm1Data.status,selectOptionListArray:[]};let e;this.myForm1Data.selectOptionListArray.forEach(e=>{t.selectOptionListArray.push({optionsFieldLabel:e.optionsFieldLabel,defaultSelected:e.defaultSelected,id:e.id})}),this.inputEditId?(e="update",t.id=this.inputEditId,t.deletedOptionChildIds=this.myForm1Data.deletedOptionChildIds):e="save",this.udfDataService[e](t).subscribe(t=>{"SUCCESS"===t.status?(this.utilsService.showSuccessMsg(t),this.utilsService.redirect("/branch/customization/udf-mgmt-list")):this.utilsService.showFailureMsg(t)})}get(){this.udfDataService.get(this.inputEditId).subscribe(t=>{if("SUCCESS"===t.status){const e=t.results;this.myForm1.patchValue({fieldTypeId:e.fieldTypeId,fieldLabel:e.fieldLabel,fieldName:e.fieldName,requiredField:e.requiredField,status:e.status}),e.selectOptionListArray.forEach(t=>{this.addOptionFields(t)}),this.myForm1.controls.fieldTypeId.disable()}else this.utilsService.showFailureMsg(t)})}clearForm(){this.initializeForm1()}fieldTypeChange(){if("2"!==this.myForm1Data.fieldTypeId){const t=this.myForm1.controls.selectOptionListArray,e=t.length;for(let i=0;i<e;i++)t.removeAt(0)}}getAutoSuggestionList(t){this.commonDataService.getAutoSuggestionList(t).subscribe(e=>{"SUCCESS"===e.status?"getCommonStatusList"===t&&(this.statusList=e.results):this.utilsService.showFailureMsg(e)})}getFieldTypes(){this.udfDataService.getFieldTypes().subscribe(t=>{"SUCCESS"===t.status?this.fieldTypesList=t.results:this.utilsService.showFailureMsg(t)})}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(s.g),n.Pb(s.a),n.Pb(u.e),n.Pb(c.l),n.Pb(c.lb),n.Pb(o.a))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-udf-mgmt-add"]],decls:68,vars:16,consts:[[1,"page-title"],[4,"ngIf"],[1,"btn-group"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-arrow-left"],[1,"working-container",3,"formGroup"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-form"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"mandatory"],["formControlName","fieldTypeId",1,"form-control","form-control-sm",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","validation-error",4,"ngIf"],["type","text","formControlName","fieldLabel",1,"form-control","form-control-sm"],["type","text","formControlName","fieldName",1,"form-control","form-control-sm"],["formControlName","requiredField",1,"form-control","form-control-sm"],["value","0"],["value","1"],["formControlName","status",1,"form-control","form-control-sm"],["class","box",4,"ngIf"],[1,"btn-group","text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm","routerLink","/branch/customization/udf-mgmt-list",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[3,"value"],[1,"validation-error"],[1,"box-body","box-table"],[1,"table-responsive"],[1,"table","table-striped","table-bordered"],["formArrayName","selectOptionListArray"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","5"],[1,"btn","btn-success","btn-sm",3,"click"],[1,"fa","fa-plus"],[3,"formGroupName"],["placement","top","container","body","tooltip","Delete",1,"action","red",3,"click"],[1,"fa","fa-minus-circle"],["type","text","formControlName","optionsFieldLabel",1,"form-control","form-control-sm"],["formControlName","defaultSelected",1,"form-control","form-control-sm"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save"],[1,"fa","fa-broom"],[1,"fa","fa-redo-alt"],["routerLink","/branch/customization/udf-mgmt-list",1,"btn","btn-secondary","btn-sm"],[1,"fa","fa-times"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(n.Vb(0,"div",0),n.Vb(1,"span"),n.Lc(2,"UDF"),n.Ub(),n.Lc(3,"Management - "),n.Jc(4,y,2,0,"ng-container",1),n.Jc(5,F,2,0,"ng-container",1),n.Vb(6,"div",2),n.Vb(7,"button",3),n.dc("click",(function(){return e.utilsService.goBack()})),n.Qb(8,"i",4),n.Vb(9,"span"),n.Lc(10,"Back"),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Vb(11,"div",5),n.Vb(12,"div",6),n.Vb(13,"div",7),n.Qb(14,"i",8),n.Lc(15,"Field Info "),n.Ub(),n.Vb(16,"div",9),n.Vb(17,"div",10),n.Vb(18,"div",11),n.Vb(19,"label",12),n.Lc(20,"Field Type"),n.Vb(21,"span",13),n.Lc(22,"*"),n.Ub(),n.Ub(),n.Vb(23,"select",14),n.dc("change",(function(){return e.fieldTypeChange()})),n.Vb(24,"option",15),n.Lc(25,"--SELECT--"),n.Ub(),n.Jc(26,C,2,2,"option",16),n.Ub(),n.Jc(27,V,2,1,"div",17),n.Ub(),n.Vb(28,"div",11),n.Vb(29,"label",12),n.Lc(30,"Field Description"),n.Vb(31,"span",13),n.Lc(32,"*"),n.Ub(),n.Ub(),n.Qb(33,"input",18),n.Jc(34,S,2,1,"div",17),n.Ub(),n.Vb(35,"div",11),n.Vb(36,"label",12),n.Lc(37,"Field Name"),n.Vb(38,"span",13),n.Lc(39,"*"),n.Ub(),n.Ub(),n.Qb(40,"input",19),n.Jc(41,I,2,1,"div",17),n.Ub(),n.Vb(42,"div",11),n.Vb(43,"label",12),n.Lc(44,"Mandatory Field"),n.Vb(45,"span",13),n.Lc(46,"*"),n.Ub(),n.Ub(),n.Vb(47,"select",20),n.Vb(48,"option",21),n.Lc(49,"No"),n.Ub(),n.Vb(50,"option",22),n.Lc(51,"Yes"),n.Ub(),n.Ub(),n.Ub(),n.Vb(52,"div",11),n.Vb(53,"label",12),n.Lc(54,"Status"),n.Vb(55,"span",13),n.Lc(56,"*"),n.Ub(),n.Ub(),n.Vb(57,"select",23),n.Jc(58,D,2,2,"option",16),n.Ub(),n.Jc(59,M,2,1,"div",17),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Jc(60,N,26,1,"div",24),n.Vb(61,"div",25),n.Jc(62,w,4,0,"button",26),n.Jc(63,k,4,0,"button",27),n.Jc(64,E,4,0,"button",26),n.Jc(65,x,4,0,"button",28),n.Ub(),n.Jc(66,P,7,0,"div",29),n.Jc(67,J,7,0,"div",29),n.Ub()),2&t&&(n.Cb(4),n.oc("ngIf",!e.inputEditId),n.Cb(1),n.oc("ngIf",e.inputEditId),n.Cb(6),n.oc("formGroup",e.myForm1),n.Cb(15),n.oc("ngForOf",e.fieldTypesList),n.Cb(1),n.oc("ngIf",e.myFormErrors1.fieldTypeId),n.Cb(7),n.oc("ngIf",e.myFormErrors1.fieldLabel),n.Cb(7),n.oc("ngIf",e.myFormErrors1.fieldName),n.Cb(17),n.oc("ngForOf",e.statusList),n.Cb(1),n.oc("ngIf",e.myFormErrors1.status),n.Cb(1),n.oc("ngIf","2"===e.myForm1Data.fieldTypeId),n.Cb(2),n.oc("ngIf",e.screenAcl.add&&!e.inputEditId),n.Cb(1),n.oc("ngIf",!e.inputEditId),n.Cb(1),n.oc("ngIf",e.screenAcl.update&&e.inputEditId),n.Cb(1),n.oc("ngIf",e.inputEditId),n.Cb(1),n.oc("ngIf",e.inputEditId&&!e.screenAcl.update),n.Cb(1),n.oc("ngIf",!e.inputEditId&&!e.screenAcl.add))},directives:[a.m,u.n,u.i,u.t,u.m,u.g,u.p,u.v,a.l,u.b,u.d,u.j,l.a,o.e],styles:[""]}),t})();var z=i("5+WD");function Q(t,e){if(1&t&&(n.Vb(0,"option",21),n.Lc(1),n.Ub()),2&t){const t=e.$implicit;n.oc("value",t.documentTypeId),n.Cb(1),n.Mc(t.screenName)}}function q(t,e){if(1&t&&(n.Vb(0,"div",22),n.Vb(1,"strong"),n.Lc(2,"Description:"),n.Ub(),n.Lc(3),n.Vb(4,"div",23),n.Vb(5,"strong"),n.Lc(6,"Name:"),n.Ub(),n.Lc(7),n.Ub(),n.Ub()),2&t){const t=e.$implicit;n.Cb(3),n.Nc(" ",t.fieldLabel," "),n.Cb(4),n.Nc(" ",t.fieldName,"")}}function B(t,e){if(1&t&&(n.Vb(0,"div",24),n.Vb(1,"strong"),n.Lc(2,"Description:"),n.Ub(),n.Lc(3),n.Vb(4,"div",23),n.Vb(5,"strong"),n.Lc(6,"Name:"),n.Ub(),n.Lc(7),n.Ub(),n.Ub()),2&t){const t=e.$implicit;n.Cb(3),n.Nc(" ",t.fieldLabel," "),n.Cb(4),n.Nc(" ",t.fieldName,"")}}function R(t,e){if(1&t){const t=n.Wb();n.Vb(0,"div",25),n.Vb(1,"button",26),n.dc("click",(function(){return n.Dc(t),n.hc().update()})),n.Qb(2,"i",27),n.Vb(3,"span"),n.Lc(4,"Update"),n.Ub(),n.Ub(),n.Ub()}}function G(t,e){1&t&&(n.Vb(0,"div",28),n.Vb(1,"span",29),n.Lc(2,"Note:"),n.Ub(),n.Lc(3," You are unauthorized to "),n.Vb(4,"strong"),n.Lc(5,"update"),n.Ub(),n.Lc(6," this transaction! "),n.Ub())}const W=function(t){return[t]},$=o.h.forChild([{path:"udf-mgmt-list",component:v},{path:"udf-mgmt-add",component:_},{path:"udf-mgmt-edit/:id",component:_},{path:"udf-mapping",component:(()=>{class t{constructor(t,e,i){this.utilsService=t,this.authGuardService=e,this.udfDataService=i,this.screenAcl={},this.documentTypeId="",this.screenList=[],this.newList=[],this.selectedList=[]}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("54"),!this.screenAcl.view)return this.utilsService.showFailureMsg(s.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.getDocTypeList()}getDocTypeList(){this.udfDataService.getAllowedDocTypesForUDF().subscribe(t=>{"SUCCESS"===t.status?this.screenList=t.results:this.utilsService.showFailureMsg(t)})}getMappingByScreen(){if(this.clearForm(),!this.documentTypeId)return!1;this.udfDataService.getMappingByScreen(this.documentTypeId).subscribe(t=>{"SUCCESS"===t.status?(this.selectedList=t.results.selectedFormControlList,this.newList=t.results.allFormControlList,this.screenMappingId=t.results.screenMappingId):this.utilsService.showFailureMsg(t)})}drop(t){t.previousContainer===t.container?Object(z.d)(t.container.data,t.previousIndex,t.currentIndex):Object(z.e)(t.previousContainer.data,t.container.data,t.previousIndex,t.currentIndex)}update(){if(!this.documentTypeId)return this.utilsService.showFailureMsg("Select screen to proceed"),!1;const t=[];this.selectedList.forEach(e=>{t.push(e.id)});const e={documentTypeId:this.documentTypeId,formControlsId:t.join(","),screenMappingId:this.screenMappingId};this.udfDataService.updateMapping(e).subscribe(t=>{"SUCCESS"===t.status?(this.utilsService.showSuccessMsg(t),this.clearForm(),this.documentTypeId=""):this.utilsService.showFailureMsg(t)})}clearForm(){this.selectedList=[],this.newList=[],this.screenMappingId=""}}return t.\u0275fac=function(e){return new(e||t)(n.Pb(s.g),n.Pb(s.a),n.Pb(c.lb))},t.\u0275cmp=n.Jb({type:t,selectors:[["app-udf-mapping"]],decls:33,vars:14,consts:[[1,"page-title"],[1,"working-container"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-form"],[1,"row"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"row","udf-mapping"],[1,"col-sm-6"],["cdkDropList","",1,"dd-container",3,"cdkDropListData","cdkDropListConnectedTo","cdkDropListDropped"],["new","cdkDropList"],["class","list","cdkDrag","",4,"ngFor","ngForOf"],["selected","cdkDropList"],["class","list selected","cdkDrag","",4,"ngFor","ngForOf"],["class","btn-group text-right",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[3,"value"],["cdkDrag","",1,"list"],[1,"small"],["cdkDrag","",1,"list","selected"],[1,"btn-group","text-right"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-redo-alt"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(t,e){if(1&t&&(n.Vb(0,"div",0),n.Vb(1,"span"),n.Lc(2,"UDF"),n.Ub(),n.Lc(3,"Mapping\n"),n.Ub(),n.Vb(4,"div",1),n.Vb(5,"div",2),n.Vb(6,"div",3),n.Qb(7,"i",4),n.Lc(8,"Mapping Info "),n.Ub(),n.Vb(9,"div",5),n.Vb(10,"div",6),n.Vb(11,"div",7),n.Vb(12,"label",8),n.Lc(13,"Select Document Type"),n.Ub(),n.Vb(14,"select",9),n.dc("ngModelChange",(function(t){return e.documentTypeId=t}))("change",(function(){return e.getMappingByScreen()})),n.Vb(15,"option",10),n.Lc(16,"--SELECT--"),n.Ub(),n.Jc(17,Q,2,2,"option",11),n.Ub(),n.Ub(),n.Ub(),n.Vb(18,"div",12),n.Vb(19,"div",13),n.Vb(20,"h6"),n.Lc(21,"All Fields"),n.Ub(),n.Vb(22,"div",14,15),n.dc("cdkDropListDropped",(function(t){return e.drop(t)})),n.Jc(24,q,8,2,"div",16),n.Ub(),n.Ub(),n.Vb(25,"div",13),n.Vb(26,"h6"),n.Lc(27,"Selected Fields"),n.Ub(),n.Vb(28,"div",14,17),n.dc("cdkDropListDropped",(function(t){return e.drop(t)})),n.Jc(30,B,8,2,"div",18),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Ub(),n.Jc(31,R,5,0,"div",19),n.Jc(32,G,7,0,"div",20),n.Ub()),2&t){const t=n.Ac(23),i=n.Ac(29);n.Cb(14),n.oc("ngModel",e.documentTypeId),n.Cb(3),n.oc("ngForOf",e.screenList),n.Cb(5),n.oc("cdkDropListData",e.newList)("cdkDropListConnectedTo",n.sc(10,W,i)),n.Cb(2),n.oc("ngForOf",e.newList),n.Cb(4),n.oc("cdkDropListData",e.selectedList)("cdkDropListConnectedTo",n.sc(12,W,t)),n.Cb(2),n.oc("ngForOf",e.selectedList),n.Cb(1),n.oc("ngIf",e.screenAcl.update),n.Cb(1),n.oc("ngIf",!e.screenAcl.update)}},directives:[u.t,u.m,u.o,u.p,u.v,a.l,z.b,a.m,z.a],styles:['.udf-mapping[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:13px;font-weight:"Open-Sans-SemiBold"}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]{background:#fff;padding:10px;height:300px;overflow:auto;border:1px solid #ddd}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-bottom:5px;background:#f1aeae;padding:5px 10px;border-bottom:1px solid #ccc;cursor:move}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]   .list.selected[_ngcontent-%COMP%]{background:#aef1b0}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]   .list.selected[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{color:#4d8a4f}.udf-mapping[_ngcontent-%COMP%]   .dd-container[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]   .small[_ngcontent-%COMP%]{font-size:12px;color:#8e5f5f}.cdk-drag-preview[_ngcontent-%COMP%]{box-sizing:border-box;border-radius:4px;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12);background:#bbe1ff;padding:5px 10px;border-bottom:1px solid #ccc}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:0}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}']}),t})()}]);var j=i("o+NB"),Y=i("7zUj");let H=(()=>{class t{}return t.\u0275mod=n.Nb({type:t}),t.\u0275inj=n.Mb({factory:function(e){return new(e||t)},imports:[[$,j.BranchModule,Y.a]]}),t})()}}]);