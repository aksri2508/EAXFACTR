function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{CiB8:function(e,t,r){"use strict";r.r(t),r.d(t,"SystemInitializationModule",(function(){return z}));var i=r("o+NB"),n=r("tyNb"),c=r("LvDl"),o=r("ey9i"),a=r("3Pt+"),b=r("fXoL"),s=r("oARB"),u=r("IzNV"),m=r("K3ix"),l=r("ofXK"),d=r("ZOsW");function h(e,t){1&e&&(b.Tb(0),b.Lc(1,"Add"),b.Sb())}function f(e,t){1&e&&(b.Tb(0),b.Lc(1,"Edit"),b.Sb())}function p(e,t){if(1&e&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&e){var r=b.hc();b.Cb(1),b.Nc(" ",r.myFormErrors.documentTypeId," ")}}function g(e,t){if(1&e&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&e){var r=b.hc();b.Cb(1),b.Nc(" ",r.myFormErrors.documentNumberingName," ")}}function N(e,t){if(1&e&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&e){var r=b.hc();b.Cb(1),b.Nc(" ",r.myFormErrors.firstNumber," ")}}function v(e,t){if(1&e&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&e){var r=b.hc();b.Cb(1),b.Nc(" ",r.myFormErrors.lastNumber," ")}}function C(e,t){if(1&e&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&e){var r=b.hc();b.Cb(1),b.Nc(" ",r.myFormErrors.digits," ")}}function y(e,t){if(1&e&&(b.Vb(0,"div",28),b.Lc(1),b.Ub()),2&e){var r=b.hc();b.Cb(1),b.Nc(" ",r.myFormErrors.branchId," ")}}function U(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",29),b.dc("click",(function(){return b.Dc(r),b.hc().saveUpdate()})),b.Qb(1,"i",30),b.Vb(2,"span"),b.Lc(3,"Save"),b.Ub(),b.Ub()}}function V(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",31),b.dc("click",(function(){return b.Dc(r),b.hc().clearForm()})),b.Qb(1,"i",32),b.Vb(2,"span"),b.Lc(3,"Clear"),b.Ub(),b.Ub()}}function L(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",29),b.dc("click",(function(){return b.Dc(r),b.hc().saveUpdate()})),b.Qb(1,"i",33),b.Vb(2,"span"),b.Lc(3,"Update"),b.Ub(),b.Ub()}}function F(e,t){if(1&e){var r=b.Wb();b.Vb(0,"button",31),b.dc("click",(function(){return b.Dc(r),b.hc().activeModal.hide()})),b.Qb(1,"i",34),b.Vb(2,"span"),b.Lc(3,"Cancel"),b.Ub(),b.Ub()}}function S(e,t){1&e&&(b.Vb(0,"div",35),b.Vb(1,"span",36),b.Lc(2,"Note:"),b.Ub(),b.Lc(3," You are unauthorized to "),b.Vb(4,"strong"),b.Lc(5,"update"),b.Ub(),b.Lc(6," this transaction! "),b.Ub())}function k(e,t){1&e&&(b.Vb(0,"div",35),b.Vb(1,"span",36),b.Lc(2,"Note:"),b.Ub(),b.Lc(3," You are unauthorized to "),b.Vb(4,"strong"),b.Lc(5,"add"),b.Ub(),b.Lc(6," this transaction!. "),b.Ub())}var I,D=((I=function(){function e(t,r,i,n,c,a,b,s){_classCallCheck(this,e),this.utilsService=t,this.authGuardService=r,this.commonDataService=i,this.documentNumberingDataService=n,this.branchUtilsService=c,this.activeModal=a,this.formBuilder=b,this.storageService=s,this.screenAcl={},this.branchList=[],this.screenList=[],this.appConstants=o.h,this.myFormData={},this.myFormErrors={documentTypeId:"",documentNumberingName:"",firstNumber:"",lastNumber:"",digits:"",branchId:""},this.myFormValidationMsgs={documentTypeId:{required:"Document Type is required"},documentNumberingName:{required:"Name is required"},firstNumber:{required:"First No is required",pattern:"Only positive numbers are allowed"},lastNumber:{required:"Last No is required",pattern:"Only positive numbers are allowed",min:"Last number should be greater than first number"},digits:{required:"Digits is required",maxlength:"One character is allowed",pattern:"Only positive numbers are allowed"},branchId:{required:"Branch is required"}}}return _createClass(e,[{key:"ngOnInit",value:function(){this.screenAcl=this.authGuardService.getScreenAcl("55"),this.initializeForm(),this.branchList=this.storageService.get("branchList"),this.inputEditId?this.get():this.getDocTypeList()}},{key:"initializeForm",value:function(){var e=this;this.myForm=this.formBuilder.group({documentTypeId:[null,[a.u.required]],documentNumberingName:["",[a.u.required]],firstNumber:[{value:"",disabled:!1},[a.u.required,a.u.pattern(o.h.VALIDATION_PATTERNS.positiveFloatNumber)]],lastNumber:["",[a.u.required,a.u.pattern(o.h.VALIDATION_PATTERNS.positiveFloatNumber)]],nextNumber:[{value:"",disabled:!0}],prefix:[{value:"",disabled:!1}],suffix:[{value:"",disabled:!1}],digits:[{value:0,disabled:!1},[a.u.required,a.u.maxLength(1),a.u.pattern(o.h.VALIDATION_PATTERNS.positiveFloatNumber)]],remarks:[""],isLock:[!1],branchId:[{value:null,disabled:!1},[a.u.required]]}),this.myForm.valueChanges.subscribe((function(t){e.utilsService.validation(e.myForm,e.myFormErrors,e.myFormValidationMsgs),e.myFormData=e.myForm.getRawValue()})),this.myFormData=this.myForm.getRawValue()}},{key:"saveUpdate",value:function(){var e=this;if(!this.myForm.valid)return this.utilsService.validation(this.myForm,this.myFormErrors,this.myFormValidationMsgs,!0),!1;var t,r={documentTypeId:this.myFormData.documentTypeId,documentNumberingName:this.myFormData.documentNumberingName,firstNumber:this.myFormData.firstNumber,lastNumber:this.myFormData.lastNumber,nextNumber:this.myFormData.nextNumber,prefix:this.myFormData.prefix,suffix:this.myFormData.suffix,digits:this.myFormData.digits,remarks:this.myFormData.remarks,isLock:this.myFormData.isLock?1:0,branchId:this.myFormData.branchId};this.inputEditId?(t="update",r.id=this.inputEditId):t="save",this.documentNumberingDataService[t](r).subscribe((function(t){"SUCCESS"===t.status?(e.utilsService.showSuccessMsg(t),e.branchUtilsService.actionSaveUpdate.next({triggerType:"document-numbering"}),e.activeModal.hide()):e.utilsService.showFailureMsg(t)}))}},{key:"get",value:function(){var e=this;this.documentNumberingDataService.get(this.inputEditId).subscribe((function(t){if("SUCCESS"===t.status){var r=t.results[0];e.myForm.patchValue({documentTypeId:r.documentTypeId,documentNumberingName:r.documentNumberingName,firstNumber:r.firstNumber,lastNumber:r.lastNumber,nextNumber:r.nextNumber,prefix:r.prefix,suffix:r.suffix,digits:r.digits,remarks:r.remarks,isLock:"1"===r.isLock,branchId:r.branchId}),r.firstNumber===r.nextNumber?e.myForm.enable():(e.myForm.controls.documentTypeId.disable(),e.myForm.controls.firstNumber.disable(),e.myForm.controls.prefix.disable(),e.myForm.controls.suffix.disable(),e.myForm.controls.digits.disable(),e.myForm.controls.branchId.disable()),e.getDocTypeList(r.documentTypeId)}else e.utilsService.showFailureMsg(t)}))}},{key:"clearForm",value:function(){this.initializeForm()}},{key:"onFirstnumberChange",value:function(){this.myForm.patchValue({nextNumber:this.myFormData.firstNumber}),this.onLastNumberChange()}},{key:"onLastNumberChange",value:function(){this.myForm.controls.lastNumber.setValidators([a.u.required,a.u.min(parseInt(this.myFormData.firstNumber,10)),a.u.pattern(o.h.VALIDATION_PATTERNS.positiveFloatNumber)]),this.myForm.controls.lastNumber.updateValueAndValidity()}},{key:"getDocTypeList",value:function(e){var t=this;this.documentNumberingDataService.getAllowedDocTypesForDocNumbering().subscribe((function(r){"SUCCESS"===r.status?(t.screenList=r.results,t.utilsService.ifNotPushToList(r.results,e)):t.utilsService.showFailureMsg(r)}))}}]),e}()).\u0275fac=function(e){return new(e||I)(b.Pb(o.g),b.Pb(o.a),b.Pb(s.l),b.Pb(s.q),b.Pb(u.a),b.Pb(m.a),b.Pb(a.e),b.Pb(o.f))},I.\u0275cmp=b.Jb({type:I,selectors:[["app-document-numbering-add-popup"]],decls:82,vars:17,consts:[[1,"modal-header"],[1,"modal-title"],[4,"ngIf"],[1,"close",3,"click"],[1,"modal-body"],[1,"row",3,"formGroup"],[1,"form-group","col-sm-4"],[1,"form-label"],[1,"mandatory"],["formControlName","documentTypeId","bindLabel","screenName","bindValue","documentTypeId","placeholder","--SELECT--",3,"items"],["class","validation-error",4,"ngIf"],["type","text","formControlName","documentNumberingName",1,"form-control","form-control-sm"],["type","text","formControlName","firstNumber",1,"form-control","form-control-sm",3,"change"],["type","text","formControlName","nextNumber",1,"form-control","form-control-sm"],["type","text","formControlName","lastNumber",1,"form-control","form-control-sm",3,"change"],["type","text","formControlName","prefix",1,"form-control","form-control-sm"],["type","text","formControlName","suffix",1,"form-control","form-control-sm"],["type","text","formControlName","digits",1,"form-control","form-control-sm"],["type","text","formControlName","remarks",1,"form-control","form-control-sm"],["formControlName","branchId","bindLabel","branchName","bindValue","id","placeholder","--SELECT--",3,"items"],[1,"checkbox"],["type","checkbox","formControlName","isLock"],[1,"checkmark"],[1,"modal-footer"],[1,"btn-group","text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[1,"validation-error"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-broom"],[1,"fa","fa-sync"],[1,"fa","fa-times"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(e,t){1&e&&(b.Vb(0,"div",0),b.Vb(1,"h5",1),b.Jc(2,h,2,0,"ng-container",2),b.Jc(3,f,2,0,"ng-container",2),b.Lc(4," Document Numbering "),b.Ub(),b.Vb(5,"button",3),b.dc("click",(function(){return t.activeModal.hide()})),b.Vb(6,"span"),b.Lc(7,"\xd7"),b.Ub(),b.Ub(),b.Ub(),b.Vb(8,"div",4),b.Vb(9,"div",5),b.Vb(10,"div",6),b.Vb(11,"label",7),b.Lc(12,"Document Name"),b.Vb(13,"span",8),b.Lc(14,"*"),b.Ub(),b.Ub(),b.Qb(15,"ng-select",9),b.Jc(16,p,2,1,"div",10),b.Ub(),b.Vb(17,"div",6),b.Vb(18,"label",7),b.Lc(19,"Name"),b.Vb(20,"span",8),b.Lc(21,"*"),b.Ub(),b.Ub(),b.Qb(22,"input",11),b.Jc(23,g,2,1,"div",10),b.Ub(),b.Vb(24,"div",6),b.Vb(25,"label",7),b.Lc(26,"First No"),b.Vb(27,"span",8),b.Lc(28,"*"),b.Ub(),b.Ub(),b.Vb(29,"input",12),b.dc("change",(function(){return t.onFirstnumberChange()})),b.Ub(),b.Jc(30,N,2,1,"div",10),b.Ub(),b.Vb(31,"div",6),b.Vb(32,"label",7),b.Lc(33,"Next No"),b.Ub(),b.Qb(34,"input",13),b.Ub(),b.Vb(35,"div",6),b.Vb(36,"label",7),b.Lc(37,"Last No"),b.Vb(38,"span",8),b.Lc(39,"*"),b.Ub(),b.Ub(),b.Vb(40,"input",14),b.dc("change",(function(){return t.onLastNumberChange()})),b.Ub(),b.Jc(41,v,2,1,"div",10),b.Ub(),b.Vb(42,"div",6),b.Vb(43,"label",7),b.Lc(44,"Prefix"),b.Ub(),b.Qb(45,"input",15),b.Ub(),b.Vb(46,"div",6),b.Vb(47,"label",7),b.Lc(48,"Suffix"),b.Ub(),b.Qb(49,"input",16),b.Ub(),b.Vb(50,"div",6),b.Vb(51,"label",7),b.Lc(52,"Digits"),b.Vb(53,"span",8),b.Lc(54,"*"),b.Ub(),b.Ub(),b.Qb(55,"input",17),b.Jc(56,C,2,1,"div",10),b.Ub(),b.Vb(57,"div",6),b.Vb(58,"label",7),b.Lc(59,"Remarks"),b.Ub(),b.Qb(60,"input",18),b.Ub(),b.Vb(61,"div",6),b.Vb(62,"label",7),b.Lc(63,"Branch"),b.Vb(64,"span",8),b.Lc(65,"*"),b.Ub(),b.Ub(),b.Qb(66,"ng-select",19),b.Jc(67,y,2,1,"div",10),b.Ub(),b.Vb(68,"div",6),b.Vb(69,"label",7),b.Lc(70,"Lock"),b.Ub(),b.Vb(71,"label",20),b.Qb(72,"input",21),b.Qb(73,"span",22),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(74,"div",23),b.Vb(75,"div",24),b.Jc(76,U,4,0,"button",25),b.Jc(77,V,4,0,"button",26),b.Jc(78,L,4,0,"button",25),b.Jc(79,F,4,0,"button",26),b.Ub(),b.Jc(80,S,7,0,"div",27),b.Jc(81,k,7,0,"div",27),b.Ub()),2&e&&(b.Cb(2),b.oc("ngIf",!t.inputEditId),b.Cb(1),b.oc("ngIf",t.inputEditId),b.Cb(6),b.oc("formGroup",t.myForm),b.Cb(6),b.oc("items",t.screenList),b.Cb(1),b.oc("ngIf",t.myFormErrors.documentTypeId),b.Cb(7),b.oc("ngIf",t.myFormErrors.documentNumberingName),b.Cb(7),b.oc("ngIf",t.myFormErrors.firstNumber),b.Cb(11),b.oc("ngIf",t.myFormErrors.lastNumber),b.Cb(15),b.oc("ngIf",t.myFormErrors.digits),b.Cb(10),b.oc("items",t.branchList),b.Cb(1),b.oc("ngIf",t.myFormErrors.branchId),b.Cb(9),b.oc("ngIf",t.screenAcl.add&&!t.inputEditId),b.Cb(1),b.oc("ngIf",!t.inputEditId),b.Cb(1),b.oc("ngIf",t.screenAcl.update&&t.inputEditId),b.Cb(1),b.oc("ngIf",t.inputEditId),b.Cb(1),b.oc("ngIf",t.inputEditId&&!t.screenAcl.update),b.Cb(1),b.oc("ngIf",!t.inputEditId&&!t.screenAcl.add))},directives:[l.m,a.n,a.i,d.a,a.m,a.g,a.b,a.a],styles:[""]}),I),x=r("rEr+"),M=r("7zfz"),T=r("Mfq2"),E=["dataTable"];function w(e,t){if(1&e&&(b.Vb(0,"div",15),b.Vb(1,"div",16),b.Vb(2,"div",17),b.Lc(3),b.Ub(),b.Vb(4,"div",18),b.Lc(5),b.Ub(),b.Ub(),b.Ub()),2&e){var r=t.$implicit,i=t.index,n=b.hc(2);b.Cb(3),b.Nc(" ",r.name," "),b.Cb(1),b.oc("ngClass",n.appConstants.DOC_NUMBERING_STATUS_COLOR_CLS[i]),b.Cb(1),b.Nc("",r.count," ")}}function A(e,t){if(1&e){var r=b.Wb();b.Vb(0,"tr"),b.Vb(1,"th",19),b.Lc(2,"Actions"),b.Ub(),b.Vb(3,"th",20),b.Lc(4,"Document Name"),b.Qb(5,"p-sortIcon",21),b.Ub(),b.Vb(6,"th",22),b.Lc(7,"Name"),b.Qb(8,"p-sortIcon",21),b.Ub(),b.Vb(9,"th",22),b.Lc(10,"First No"),b.Qb(11,"p-sortIcon",21),b.Ub(),b.Vb(12,"th",22),b.Lc(13,"Next No"),b.Qb(14,"p-sortIcon",21),b.Ub(),b.Vb(15,"th",22),b.Lc(16,"Last No"),b.Qb(17,"p-sortIcon",21),b.Ub(),b.Vb(18,"th",23),b.Lc(19,"Prefix"),b.Qb(20,"p-sortIcon",21),b.Ub(),b.Vb(21,"th",23),b.Lc(22,"Suffix"),b.Qb(23,"p-sortIcon",21),b.Ub(),b.Vb(24,"th",24),b.Lc(25,"Digits"),b.Qb(26,"p-sortIcon",21),b.Ub(),b.Vb(27,"th",25),b.Lc(28,"Remarks"),b.Qb(29,"p-sortIcon",21),b.Ub(),b.Vb(30,"th",24),b.Lc(31,"Lock"),b.Qb(32,"p-sortIcon",21),b.Ub(),b.Vb(33,"th",22),b.Lc(34,"Branch"),b.Qb(35,"p-sortIcon",21),b.Ub(),b.Ub(),b.Vb(36,"tr",26),b.Vb(37,"th"),b.Vb(38,"a",27),b.dc("click",(function(){return b.Dc(r),b.hc(2).clearSearchForm()})),b.Qb(39,"i",28),b.Lc(40,"Clear"),b.Ub(),b.Ub(),b.Vb(41,"th"),b.Vb(42,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.screenName=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(43,"th"),b.Vb(44,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.documentNumberingName=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(45,"th"),b.Vb(46,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.firstNumber=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(47,"th"),b.Vb(48,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.nextNumber=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(49,"th"),b.Vb(50,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.lastNumber=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(51,"th"),b.Vb(52,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.prefix=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(53,"th"),b.Vb(54,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.suffix=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(55,"th"),b.Vb(56,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.digits=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(57,"th"),b.Vb(58,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.remarks=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(59,"th"),b.Vb(60,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.isLock=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Vb(61,"th"),b.Vb(62,"input",29),b.dc("ngModelChange",(function(e){return b.Dc(r),b.hc(2).searchForm.branchName=e}))("keyup.enter",(function(){return b.Dc(r),b.hc(2).resetListing()})),b.Ub(),b.Ub(),b.Ub()}if(2&e){var i=b.hc(2);b.Cb(3),b.oc("pSortableColumn","screenName"),b.Cb(2),b.oc("field","screenName"),b.Cb(1),b.oc("pSortableColumn","documentNumberingName"),b.Cb(2),b.oc("field","name"),b.Cb(1),b.oc("pSortableColumn","firstNumber"),b.Cb(2),b.oc("field","firstNo"),b.Cb(1),b.oc("pSortableColumn","nextNumber"),b.Cb(2),b.oc("field","nextNo"),b.Cb(1),b.oc("pSortableColumn","lastNumber"),b.Cb(2),b.oc("field","lastNo"),b.Cb(1),b.oc("pSortableColumn","prefix"),b.Cb(2),b.oc("field","prefix"),b.Cb(1),b.oc("pSortableColumn","suffix"),b.Cb(2),b.oc("field","suffix"),b.Cb(1),b.oc("pSortableColumn","digits"),b.Cb(2),b.oc("field","digits"),b.Cb(1),b.oc("pSortableColumn","remarks"),b.Cb(2),b.oc("field","remarks"),b.Cb(1),b.oc("pSortableColumn","isLock"),b.Cb(2),b.oc("field","isLock"),b.Cb(1),b.oc("pSortableColumn","branchName"),b.Cb(2),b.oc("field","branchName"),b.Cb(7),b.oc("ngModel",i.searchForm.screenName),b.Cb(2),b.oc("ngModel",i.searchForm.documentNumberingName),b.Cb(2),b.oc("ngModel",i.searchForm.firstNumber),b.Cb(2),b.oc("ngModel",i.searchForm.nextNumber),b.Cb(2),b.oc("ngModel",i.searchForm.lastNumber),b.Cb(2),b.oc("ngModel",i.searchForm.prefix),b.Cb(2),b.oc("ngModel",i.searchForm.suffix),b.Cb(2),b.oc("ngModel",i.searchForm.digits),b.Cb(2),b.oc("ngModel",i.searchForm.remarks),b.Cb(2),b.oc("ngModel",i.searchForm.isLock),b.Cb(2),b.oc("ngModel",i.searchForm.branchName)}}function P(e,t){if(1&e){var r=b.Wb();b.Vb(0,"a",32),b.dc("click",(function(){b.Dc(r);var e=b.hc().$implicit;return b.hc(2).showAddPopup(e.id)})),b.Qb(1,"i",33),b.Ub()}}function Q(e,t){1&e&&(b.Vb(0,"span",34),b.Lc(1,"System"),b.Ub())}function J(e,t){if(1&e&&(b.Vb(0,"tr"),b.Vb(1,"td"),b.Jc(2,P,2,0,"a",30),b.Jc(3,Q,2,0,"span",31),b.Ub(),b.Vb(4,"td"),b.Lc(5),b.Ub(),b.Vb(6,"td"),b.Lc(7),b.Ub(),b.Vb(8,"td"),b.Lc(9),b.Ub(),b.Vb(10,"td"),b.Lc(11),b.Ub(),b.Vb(12,"td"),b.Lc(13),b.Ub(),b.Vb(14,"td"),b.Lc(15),b.Ub(),b.Vb(16,"td"),b.Lc(17),b.Ub(),b.Vb(18,"td"),b.Lc(19),b.Ub(),b.Vb(20,"td"),b.Lc(21),b.Ub(),b.Vb(22,"td"),b.Lc(23),b.Ub(),b.Vb(24,"td"),b.Lc(25),b.Ub(),b.Ub()),2&e){var r=t.$implicit;b.Cb(2),b.oc("ngIf","0"===r.isSystemConfig),b.Cb(1),b.oc("ngIf","1"===r.isSystemConfig),b.Cb(2),b.Mc(r.screenName),b.Cb(2),b.Mc(r.documentNumberingName),b.Cb(2),b.Mc(r.firstNumber),b.Cb(2),b.Mc(r.nextNumber),b.Cb(2),b.Mc(r.lastNumber),b.Cb(2),b.Mc(r.prefix),b.Cb(2),b.Mc(r.suffix),b.Cb(2),b.Mc(r.digits),b.Cb(2),b.Mc(r.remarks),b.Cb(2),b.Mc(r.isLock),b.Cb(2),b.Mc(r.branchName)}}function q(e,t){if(1&e){var r=b.Wb();b.Tb(0),b.Vb(1,"div",1),b.Vb(2,"span"),b.Lc(3,"D"),b.Ub(),b.Lc(4,"ocument Numbering - List "),b.Vb(5,"div",2),b.Vb(6,"button",3),b.dc("click",(function(){return b.Dc(r),b.hc().showAddPopup()})),b.Qb(7,"i",4),b.Vb(8,"span"),b.Lc(9,"Add Document Number"),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Vb(10,"div",5),b.Vb(11,"div",6),b.Vb(12,"div",7),b.Jc(13,w,6,3,"div",8),b.Ub(),b.Ub(),b.Vb(14,"div",7),b.Vb(15,"div",9),b.Vb(16,"div",10),b.Vb(17,"p-table",11,12),b.dc("onLazyLoad",(function(e){return b.Dc(r),b.hc().getListing(e)})),b.Jc(19,A,63,33,"ng-template",13),b.Jc(20,J,26,13,"ng-template",14),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Ub(),b.Sb()}if(2&e){var i=b.hc();b.Cb(13),b.oc("ngForOf",i.analyticsData),b.Cb(4),b.oc("value",i.listing.data)("lazy",!0)("paginator",!0)("rows",i.appConstants.TABLE_DEFAULT_ROWS)("totalRecords",i.listing.totalRecords)}}var _,R,O=n.h.forChild([{path:"document-numbering",component:(_=function(){function e(t,r,i,n,c){_classCallCheck(this,e),this.utilsService=t,this.authGuardService=r,this.branchUtilsService=i,this.modalService=n,this.documentNumberingDataService=c,this.appConstants=o.h,this.screenAcl={},this.analyticsData=[],this.listing={data:[],totalRecords:0},this.searchForm={screenName:"",documentNumberingName:"",firstNumber:"",nextNumber:"",lastNumber:"",prefix:"",suffix:"",digits:"",remarks:"",isLock:"",branchName:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;if(this.screenAcl=this.authGuardService.getScreenAcl("55"),!this.screenAcl.view)return this.utilsService.showFailureMsg(o.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.branchUtilsService.actionSaveUpdate.subscribe((function(t){"document-numbering"===t.triggerType&&e.resetListing()})),this.getAnalyticsData()}},{key:"getListing",value:function(e){var t=this,r=this.utilsService.dataTableParameterFormation(e,this.searchForm);this.documentNumberingDataService.getList(r).subscribe((function(e){"SUCCESS"===e.status?(t.listing.data=e.results.searchResults,t.listing.totalRecords=e.results.totalRecords):t.utilsService.showFailureMsg(e)}))}},{key:"clearSearchForm",value:function(){this.searchForm={screenName:"",documentNumberingName:"",firstNumber:"",nextNumber:"",lastNumber:"",prefix:"",suffix:"",digits:"",remarks:"",isLock:"",branchName:""},this.resetListing()}},{key:"resetListing",value:function(){this.dataTable.reset()}},{key:"getAnalyticsData",value:function(){var e=this;this.documentNumberingDataService.getAnalyticsData().subscribe((function(t){var r=c.orderBy(t.results,["name"],["asc"]);e.analyticsData=r}))}},{key:"showAddPopup",value:function(e){var t={backdrop:"static",class:"modal-lg"};e&&(t.initialState={inputEditId:e}),this.modalService.show(D,t)}}]),e}(),_.\u0275fac=function(e){return new(e||_)(b.Pb(o.g),b.Pb(o.a),b.Pb(u.a),b.Pb(m.b),b.Pb(s.q))},_.\u0275cmp=b.Jb({type:_,selectors:[["app-document-numbering-list"]],viewQuery:function(e,t){var r;1&e&&b.Pc(E,!0),2&e&&b.zc(r=b.ec())&&(t.dataTable=r.first)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"btn-group"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-plus"],[1,"working-container"],[1,"analytics"],[1,"row"],["class","col-lg-2 col-md-3 col-sm-4 col-xs-12",4,"ngFor","ngForOf"],[1,"col-12"],[1,"datatable-responsive"],[3,"value","lazy","paginator","rows","totalRecords","onLazyLoad"],["dataTable",""],["pTemplate","header"],["pTemplate","body"],[1,"col-lg-2","col-md-3","col-sm-4","col-xs-12"],[1,"item"],[1,"name"],[1,"count",3,"ngClass"],[2,"width","100px"],[2,"width","130px",3,"pSortableColumn"],[3,"field"],[2,"width","100px",3,"pSortableColumn"],[2,"width","75px",3,"pSortableColumn"],[2,"width","70px",3,"pSortableColumn"],[2,"width","150px",3,"pSortableColumn"],["placement","top","container","body","tooltip","Press Enter key to search",1,"search"],[1,"clear-search",3,"click"],[1,"fa","fa-times"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup.enter"],["class","action blue","placement","top","container","body","tooltip","Edit",3,"click",4,"ngIf"],["class","badge badge-danger",4,"ngIf"],["placement","top","container","body","tooltip","Edit",1,"action","blue",3,"click"],[1,"fa","fa-edit"],[1,"badge","badge-danger"]],template:function(e,t){1&e&&b.Jc(0,q,21,6,"ng-container",0),2&e&&b.oc("ngIf",t.screenAcl.view)},directives:[l.m,l.l,x.c,M.b,l.k,x.b,x.a,T.a,a.b,a.m,a.o],styles:[""]}),_)}]),z=((R=function e(){_classCallCheck(this,e)}).\u0275mod=b.Nb({type:R}),R.\u0275inj=b.Mb({factory:function(e){return new(e||R)},imports:[[O,i.BranchModule]]}),R)}}]);