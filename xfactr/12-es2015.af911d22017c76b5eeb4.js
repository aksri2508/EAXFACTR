(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{cuSC:function(t,e,i){"use strict";i.r(e),i.d(e,"AdminGeneralModule",(function(){return nt}));var n=i("tyNb"),s=i("3Pt+"),o=i("LvDl"),r=i("ey9i"),c=i("fXoL"),a=i("oARB"),b=i("IzNV"),l=i("ofXK");function u(t,e){1&t&&(c.Vb(0,"span",33),c.Lc(1,"(In-active)"),c.Ub())}function d(t,e){if(1&t){const t=c.Wb();c.Vb(0,"span",31),c.dc("click",(function(){c.Dc(t);const e=c.hc().$implicit;return c.hc(2).selectedTreeObject=e})),c.Lc(1),c.Jc(2,u,2,0,"span",32),c.Ub()}if(2&t){const t=c.hc().$implicit;c.Cb(1),c.Nc("",t.territoryName," "),c.Cb(1),c.oc("ngIf","2"===t.status)}}function m(t,e){1&t&&(c.Vb(0,"span",33),c.Lc(1,"(In-active)"),c.Ub())}function h(t,e){if(1&t){const t=c.Wb();c.Tb(0),c.Vb(1,"span",34),c.dc("click",(function(){c.Dc(t);const e=c.hc().$implicit;return c.hc(2).selectedTreeObject=e})),c.Lc(2),c.Jc(3,m,2,0,"span",32),c.Ub(),c.Sb()}if(2&t){const t=c.hc().$implicit;c.Cb(2),c.Nc("",t.territoryName," "),c.Cb(1),c.oc("ngIf","2"===t.status)}}function g(t,e){if(1&t){const t=c.Wb();c.Vb(0,"i",35),c.dc("click",(function(){c.Dc(t);const e=c.hc().$implicit;return c.hc(2).edit(e)})),c.Ub()}}function f(t,e){1&t&&c.Rb(0)}const p=function(t){return{$implicit:t}};function v(t,e){if(1&t&&(c.Vb(0,"ul",36),c.Jc(1,f,1,0,"ng-container",10),c.Ub()),2&t){const t=c.hc().$implicit;c.hc(2);const e=c.Ac(15);c.Cb(1),c.oc("ngTemplateOutlet",e)("ngTemplateOutletContext",c.sc(2,p,t.children))}}function C(t,e){if(1&t&&(c.Vb(0,"li"),c.Jc(1,d,3,2,"span",27),c.Jc(2,h,4,2,"ng-container",28),c.Lc(3," \xa0 "),c.Jc(4,g,1,0,"i",29),c.Jc(5,v,2,4,"ul",30),c.Ub()),2&t){const t=e.$implicit;c.Cb(1),c.oc("ngIf",t.children),c.Cb(1),c.oc("ngIf",!t.children),c.Cb(2),c.oc("ngIf","1"!==t.id),c.Cb(1),c.oc("ngIf",t.children)}}function U(t,e){1&t&&c.Jc(0,C,6,4,"li",26),2&t&&c.oc("ngForOf",e.$implicit)}function y(t,e){1&t&&c.Rb(0)}function L(t,e){if(1&t&&(c.Vb(0,"div",37),c.Lc(1),c.Ub()),2&t){const t=c.hc();c.Cb(1),c.Nc(" ",t.myFormErrors1.territoryName," ")}}function S(t,e){if(1&t&&(c.Vb(0,"option",38),c.Lc(1),c.Ub()),2&t){const t=e.$implicit;c.oc("value",t.id),c.Cb(1),c.Mc(t.name)}}function V(t,e){if(1&t&&(c.Vb(0,"div",37),c.Lc(1),c.Ub()),2&t){const t=c.hc();c.Cb(1),c.Nc(" ",t.myFormErrors1.status," ")}}function F(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",39),c.dc("click",(function(){return c.Dc(t),c.hc().saveUpdate()})),c.Qb(1,"i",40),c.Vb(2,"span"),c.Lc(3,"Save"),c.Ub(),c.Ub()}}function O(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",39),c.dc("click",(function(){return c.Dc(t),c.hc().saveUpdate()})),c.Qb(1,"i",41),c.Vb(2,"span"),c.Lc(3,"Update"),c.Ub(),c.Ub()}}function T(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",42),c.dc("click",(function(){return c.Dc(t),c.hc().resetForm()})),c.Qb(1,"i",43),c.Vb(2,"span"),c.Lc(3,"Cancel"),c.Ub(),c.Ub()}}function w(t,e){1&t&&(c.Vb(0,"div",44),c.Vb(1,"span",45),c.Lc(2,"Note:"),c.Ub(),c.Lc(3," You are unauthorized to "),c.Vb(4,"strong"),c.Lc(5,"update"),c.Ub(),c.Lc(6," this transaction! "),c.Ub())}function I(t,e){1&t&&(c.Vb(0,"div",44),c.Vb(1,"span",45),c.Lc(2,"Note:"),c.Ub(),c.Lc(3," You are unauthorized to "),c.Vb(4,"strong"),c.Lc(5,"add"),c.Ub(),c.Lc(6," this transaction!. "),c.Ub())}let M=(()=>{class t{constructor(t,e,i,n,s,o){this.utilsService=t,this.authGuardService=e,this.commonDataService=i,this.territoryDataService=n,this.branchUtilsService=s,this.formBuilder=o,this.screenAcl={},this.statusList=[],this.selectedTreeObject={},this.editObject={},this.originalTerritoryList=[],this.territoryList=[],this.myForm1Data={},this.myFormErrors1={territoryName:"",status:""},this.myFormValidationMsgs1={territoryName:{required:"Name is required"},status:{required:"Status is required"}}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("36"),!this.screenAcl.view)return this.utilsService.showFailureMsg(r.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.initializeForm1(),this.getAutoSuggestionList("getCommonStatusList"),this.getTerritoryList()}initializeForm1(){this.myForm1=this.formBuilder.group({territoryName:["",[s.u.required]],level:["1"],status:["1"]}),this.myForm1.valueChanges.subscribe(t=>{this.utilsService.validation(this.myForm1,this.myFormErrors1,this.myFormValidationMsgs1),this.myForm1Data=this.myForm1.getRawValue()}),this.myForm1Data=this.myForm1.getRawValue()}saveUpdate(){if(!this.selectedTreeObject.id)return this.utilsService.showFailureMsg("Select tree to proceed!"),!1;if(!this.myForm1.valid)return this.utilsService.validation(this.myForm1,this.myFormErrors1,this.myFormValidationMsgs1,!0),!1;let t;t="1"===this.myForm1Data.level?this.selectedTreeObject.mappingId:this.selectedTreeObject.id;const e={territoryName:this.myForm1Data.territoryName,status:this.myForm1Data.status,mappingId:t};let i;this.editObject.id?(i="update",e.id=this.editObject.id):i="save",this.territoryDataService[i](e).subscribe(t=>{"SUCCESS"===t.status?(this.utilsService.showSuccessMsg(t),this.getTerritoryList(),this.resetForm()):this.utilsService.showFailureMsg(t)})}edit(t){this.editObject=t,this.myForm1.patchValue({territoryName:t.territoryName,level:"2",status:t.status}),this.selectedTreeObject={};const e=o.find(this.originalTerritoryList,["id",t.mappingId]);this.selectedTreeObject=e||{id:"-2",territoryName:"Root",mappingId:"-2",status:"1"}}resetForm(){this.initializeForm1(),this.editObject={},this.selectedTreeObject={}}formatToTreeView(t){t.forEach(t=>{"-2"===t.mappingId&&this.territoryList.push(t)}),this.recursiveTreeLoop(this.territoryList,t,!0)}recursiveTreeLoop(t,e,i){t.forEach(t=>{const i=[];e.forEach(e=>{t.id===e.mappingId&&i.push(e)}),i.length>0&&(t.children=[],i.forEach(e=>{t.children.push(e)}),this.recursiveTreeLoop(t.children,e))}),i&&setTimeout(()=>{this.initializeTreeView()},1e3)}initializeTreeView(){const t=document.getElementsByClassName("caret");for(let e=0;e<t.length;e++)t[e].addEventListener("click",(function(){this.parentElement.querySelector(".nested").classList.toggle("active"),this.classList.toggle("caret-down")}))}getAutoSuggestionList(t){this.commonDataService.getAutoSuggestionList(t).subscribe(e=>{"SUCCESS"===e.status?"getCommonStatusList"===t&&(this.statusList=e.results):this.utilsService.showFailureMsg(e)})}getTerritoryList(){this.territoryDataService.getList().subscribe(t=>{"SUCCESS"===t.status?(this.territoryList=[],this.originalTerritoryList=Object.create(t.results),this.formatToTreeView(t.results)):this.utilsService.showFailureMsg(t)})}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(r.g),c.Pb(r.a),c.Pb(a.l),c.Pb(a.jb),c.Pb(b.a),c.Pb(s.e))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-territory"]],decls:57,vars:14,consts:[[1,"page-title"],[1,"working-container"],[1,"row"],[1,"col-sm-6"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body"],[1,"tree-view"],["recursiveList",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"box-body","box-form",3,"formGroup"],[1,"form-group"],[1,"form-label"],[1,"mandatory"],["type","text","formControlName","territoryName",1,"form-control","form-control-sm"],["class","validation-error",4,"ngIf"],["formControlName","level",1,"form-control","form-control-sm"],["value","1"],["value","2"],["formControlName","status",1,"form-control","form-control-sm"],[3,"value",4,"ngFor","ngForOf"],[1,"btn-group","text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[4,"ngFor","ngForOf"],["class","caret",3,"click",4,"ngIf"],[4,"ngIf"],["class","fa fa-edit",3,"click",4,"ngIf"],["class","nested",4,"ngIf"],[1,"caret",3,"click"],["class","inactive",4,"ngIf"],[1,"inactive"],[3,"click"],[1,"fa","fa-edit",3,"click"],[1,"nested"],[1,"validation-error"],[3,"value"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save"],[1,"fa","fa-sync"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-times"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(t,e){if(1&t&&(c.Vb(0,"div",0),c.Vb(1,"span"),c.Lc(2,"T"),c.Ub(),c.Lc(3,"erritories\n"),c.Ub(),c.Vb(4,"div",1),c.Vb(5,"div",2),c.Vb(6,"div",3),c.Vb(7,"div",4),c.Vb(8,"div",5),c.Qb(9,"i",6),c.Lc(10,"Territory List "),c.Ub(),c.Vb(11,"div",7),c.Vb(12,"div",8),c.Vb(13,"ul"),c.Jc(14,U,1,1,"ng-template",null,9,c.Kc),c.Jc(16,y,1,0,"ng-container",10),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(17,"div",3),c.Vb(18,"div",4),c.Vb(19,"div",5),c.Qb(20,"i",6),c.Lc(21,"Save / Update "),c.Ub(),c.Vb(22,"div",11),c.Vb(23,"div",12),c.Vb(24,"label",13),c.Lc(25),c.Ub(),c.Ub(),c.Vb(26,"div",12),c.Vb(27,"label",13),c.Lc(28,"Territory Name"),c.Vb(29,"span",14),c.Lc(30,"*"),c.Ub(),c.Ub(),c.Qb(31,"input",15),c.Jc(32,L,2,1,"div",16),c.Ub(),c.Vb(33,"div",12),c.Vb(34,"label",13),c.Lc(35,"Level"),c.Vb(36,"span",14),c.Lc(37,"*"),c.Ub(),c.Ub(),c.Vb(38,"select",17),c.Vb(39,"option",18),c.Lc(40,"Same level"),c.Ub(),c.Vb(41,"option",19),c.Lc(42,"Sub level"),c.Ub(),c.Ub(),c.Ub(),c.Vb(43,"div",12),c.Vb(44,"label",13),c.Lc(45,"Status"),c.Vb(46,"span",14),c.Lc(47,"*"),c.Ub(),c.Ub(),c.Vb(48,"select",20),c.Jc(49,S,2,2,"option",21),c.Ub(),c.Jc(50,V,2,1,"div",16),c.Ub(),c.Vb(51,"div",22),c.Jc(52,F,4,0,"button",23),c.Jc(53,O,4,0,"button",23),c.Jc(54,T,4,0,"button",24),c.Ub(),c.Jc(55,w,7,0,"div",25),c.Jc(56,I,7,0,"div",25),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub()),2&t){const t=c.Ac(15);c.Cb(16),c.oc("ngTemplateOutlet",t)("ngTemplateOutletContext",c.sc(12,p,e.territoryList)),c.Cb(6),c.oc("formGroup",e.myForm1),c.Cb(3),c.Nc("Selected Tree: ",e.selectedTreeObject.territoryName,""),c.Cb(7),c.oc("ngIf",e.myFormErrors1.territoryName),c.Cb(17),c.oc("ngForOf",e.statusList),c.Cb(1),c.oc("ngIf",e.myFormErrors1.status),c.Cb(2),c.oc("ngIf",e.screenAcl.add&&!e.editObject.id),c.Cb(1),c.oc("ngIf",e.screenAcl.update&&e.editObject.id),c.Cb(1),c.oc("ngIf",e.editObject.id),c.Cb(1),c.oc("ngIf",e.editObject.id&&!e.screenAcl.update),c.Cb(1),c.oc("ngIf",!e.editObject.id&&!e.screenAcl.add)}},directives:[l.q,s.n,s.i,s.b,s.m,s.g,l.m,s.t,s.p,s.v,l.l],styles:['@charset "UTF-8";.tree-view[_ngcontent-%COMP%]{overflow:auto;max-height:400px;min-height:200px}.tree-view[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{margin:0;padding:0}.tree-view[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none;color:#333}.tree-view[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:3px 5px}.tree-view[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{cursor:pointer;color:#007ad9}.tree-view[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{float:right}.tree-view[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%]{color:#f15959;font-size:11px}.tree-view[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;font-family:Open-Sans-SemiBold}.tree-view[_ngcontent-%COMP%]   .caret[_ngcontent-%COMP%]:before{content:"\u25b6";color:#000;display:inline-block;margin-right:6px}.tree-view[_ngcontent-%COMP%]   .caret-down[_ngcontent-%COMP%]:before{transform:rotate(90deg)}.tree-view[_ngcontent-%COMP%]   .nested[_ngcontent-%COMP%]{display:none}.tree-view[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{display:block}']}),t})();var E=i("mUB+");function P(t,e){1&t&&(c.Tb(0),c.Lc(1,"Add"),c.Sb())}function k(t,e){1&t&&(c.Tb(0),c.Lc(1,"Edit"),c.Sb())}function D(t,e){if(1&t&&(c.Vb(0,"div",25),c.Lc(1),c.Ub()),2&t){const t=c.hc();c.Cb(1),c.Nc(" ",t.myFormErrors1.description," ")}}function A(t,e){if(1&t&&(c.Vb(0,"option",26),c.Lc(1),c.Ub()),2&t){const t=e.$implicit;c.oc("value",t.id),c.Cb(1),c.Mc(t.name)}}function N(t,e){if(1&t&&(c.Vb(0,"div",25),c.Lc(1),c.Ub()),2&t){const t=c.hc();c.Cb(1),c.Nc(" ",t.myFormErrors1.status," ")}}function J(t,e){if(1&t&&(c.Vb(0,"div",25),c.Lc(1),c.Ub()),2&t){const t=c.hc();c.Cb(1),c.Nc(" ",t.myFormErrors1.bodyContent," ")}}function _(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",27),c.dc("click",(function(){return c.Dc(t),c.hc().saveUpdate()})),c.Qb(1,"i",28),c.Vb(2,"span"),c.Lc(3,"Save"),c.Ub(),c.Ub()}}function x(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",3),c.dc("click",(function(){return c.Dc(t),c.hc().clearForm()})),c.Qb(1,"i",29),c.Vb(2,"span"),c.Lc(3,"Clear"),c.Ub(),c.Ub()}}function z(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",27),c.dc("click",(function(){return c.Dc(t),c.hc().saveUpdate()})),c.Qb(1,"i",30),c.Vb(2,"span"),c.Lc(3,"Update"),c.Ub(),c.Ub()}}function j(t,e){if(1&t){const t=c.Wb();c.Vb(0,"button",3),c.dc("click",(function(){return c.Dc(t),c.hc().utilsService.goBack()})),c.Qb(1,"i",31),c.Vb(2,"span"),c.Lc(3,"Cancel"),c.Ub(),c.Ub()}}function R(t,e){1&t&&(c.Vb(0,"div",32),c.Vb(1,"span",33),c.Lc(2,"Note:"),c.Ub(),c.Lc(3," You are unauthorized to "),c.Vb(4,"strong"),c.Lc(5,"update"),c.Ub(),c.Lc(6," this transaction! "),c.Ub())}function Q(t,e){1&t&&(c.Vb(0,"div",32),c.Vb(1,"span",33),c.Lc(2,"Note:"),c.Ub(),c.Lc(3," You are unauthorized to "),c.Vb(4,"strong"),c.Lc(5,"add"),c.Ub(),c.Lc(6," this transaction!. "),c.Ub())}let q=(()=>{class t{constructor(t,e,i,n,s,o,c,a){this.utilsService=t,this.storageService=e,this.authGuardService=i,this.commonDataService=n,this.branchUtilsService=s,this.termsandconditionDataService=o,this.formBuilder=c,this.activatedRoute=a,this.editorConfig={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],customClasses:[{name:"quote",class:"quote"},{name:"redText",class:"redText"},{name:"titleText",class:"titleText",tag:"h1"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",toolbarHiddenButtons:[["strikeThrough","subscript","superscript"],["backgroundColor","link","unlink","insertImage","insertVideo","insertHorizontalRule","removeFormat","toggleEditorMode"]]},this.appConstants=r.h,this.screenAcl={},this.statusList=[],this.myForm1Data={},this.myFormErrors1={description:"",status:"",bodyContent:""},this.myFormValidationMsgs1={description:{required:"Description is required"},status:{required:"Status is required"},bodyContent:{required:"Terms and Condition is required"}}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("37"),!this.screenAcl.view)return this.utilsService.showFailureMsg(r.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.initializeForm1(),this.initializeSubscriptions(),this.getAutoSuggestionList("getCommonStatusList")}initializeSubscriptions(){this.activatedRoute.params.subscribe(t=>{t.id&&(this.inputEditId=this.utilsService.decrypt(t.id),this.get())})}initializeForm1(){this.myForm1=this.formBuilder.group({description:["",[s.u.required]],status:["1",[s.u.required]],bodyContent:[""]}),this.myForm1.valueChanges.subscribe(t=>{this.utilsService.validation(this.myForm1,this.myFormErrors1,this.myFormValidationMsgs1),this.myForm1Data=this.myForm1.getRawValue()}),this.myForm1Data=this.myForm1.getRawValue()}saveUpdate(){if(!this.myForm1.valid)return this.utilsService.validation(this.myForm1,this.myFormErrors1,this.myFormValidationMsgs1,!0),!1;const t={heading:this.myForm1Data.description,status:this.myForm1Data.status,bodyContent:this.myForm1Data.bodyContent};let e;this.inputEditId?(e="update",t.id=this.inputEditId):e="save",this.termsandconditionDataService[e](t).subscribe(t=>{"SUCCESS"===t.status?(this.utilsService.showSuccessMsg(t),this.utilsService.redirect("/branch/admin-general/terms-and-condition-list")):this.utilsService.showFailureMsg(t)})}get(){this.termsandconditionDataService.get(this.inputEditId).subscribe(t=>{if("SUCCESS"===t.status){const e=t.results[0],i={};this.utilsService.updateObject(i,"description",e.heading),this.utilsService.updateObject(i,"status",e.status),this.utilsService.updateObject(i,"bodyContent",e.bodyContent),this.myForm1.patchValue(i)}else this.utilsService.showFailureMsg(t)})}clearForm(){this.initializeForm1()}getAutoSuggestionList(t,e){this.commonDataService.getAutoSuggestionList(t).subscribe(i=>{"SUCCESS"===i.status?(this.utilsService.ifNotPushToList(i.results,e),"getCommonStatusList"===t&&(this.statusList=i.results)):this.utilsService.showFailureMsg(i)})}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(r.g),c.Pb(r.f),c.Pb(r.a),c.Pb(a.l),c.Pb(b.a),c.Pb(a.ib),c.Pb(s.e),c.Pb(n.a))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-terms-and-condition-add"]],decls:49,vars:14,consts:[[1,"page-title"],[4,"ngIf"],[1,"btn-group"],[1,"btn","btn-secondary","btn-sm",3,"click"],[1,"fa","fa-arrow-left"],[1,"working-container"],[1,"box"],[1,"box-header"],[1,"fa","fa-angle-right"],[1,"box-body","box-form"],[1,"row",3,"formGroup"],[1,"form-group","col-sm-3"],[1,"form-label"],[1,"mandatory"],["type","text","formControlName","description",1,"form-control","form-control-sm"],["class","validation-error",4,"ngIf"],["formControlName","status",1,"form-control","form-control-sm"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-sm-12"],["formControlName","bodyContent",3,"config"],[1,"btn-group","text-right"],["class","btn btn-primary btn-sm",3,"click",4,"ngIf"],["class","btn btn-secondary btn-sm",3,"click",4,"ngIf"],["class","alert alert-info mt-3",4,"ngIf"],[1,"validation-error"],[3,"value"],[1,"btn","btn-primary","btn-sm",3,"click"],[1,"fa","fa-save"],[1,"fa","fa-broom"],[1,"fa","fa-redo-alt"],[1,"fa","fa-times"],[1,"alert","alert-info","mt-3"],[1,"badge","badge-danger"]],template:function(t,e){1&t&&(c.Vb(0,"div",0),c.Vb(1,"span"),c.Lc(2,"T"),c.Ub(),c.Lc(3,"erms and Condition - "),c.Jc(4,P,2,0,"ng-container",1),c.Jc(5,k,2,0,"ng-container",1),c.Vb(6,"div",2),c.Vb(7,"button",3),c.dc("click",(function(){return e.utilsService.goBack()})),c.Qb(8,"i",4),c.Vb(9,"span"),c.Lc(10,"Back"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(11,"div",5),c.Vb(12,"div",6),c.Vb(13,"div",7),c.Qb(14,"i",8),c.Lc(15,"Basic Info "),c.Ub(),c.Vb(16,"div",9),c.Vb(17,"div",10),c.Vb(18,"div",11),c.Vb(19,"label",12),c.Lc(20,"Description"),c.Vb(21,"span",13),c.Lc(22,"*"),c.Ub(),c.Ub(),c.Qb(23,"input",14),c.Jc(24,D,2,1,"div",15),c.Ub(),c.Vb(25,"div",11),c.Vb(26,"label",12),c.Lc(27,"Status"),c.Vb(28,"span",13),c.Lc(29,"*"),c.Ub(),c.Ub(),c.Vb(30,"select",16),c.Vb(31,"option",17),c.Lc(32,"--SELECT--"),c.Ub(),c.Jc(33,A,2,2,"option",18),c.Ub(),c.Jc(34,N,2,1,"div",15),c.Ub(),c.Vb(35,"div",19),c.Vb(36,"label",12),c.Lc(37,"Terms and Condition"),c.Vb(38,"span",13),c.Lc(39,"*"),c.Ub(),c.Ub(),c.Qb(40,"angular-editor",20),c.Jc(41,J,2,1,"div",15),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(42,"div",21),c.Jc(43,_,4,0,"button",22),c.Jc(44,x,4,0,"button",23),c.Jc(45,z,4,0,"button",22),c.Jc(46,j,4,0,"button",23),c.Ub(),c.Jc(47,R,7,0,"div",24),c.Jc(48,Q,7,0,"div",24),c.Ub()),2&t&&(c.Cb(4),c.oc("ngIf",!e.inputEditId),c.Cb(1),c.oc("ngIf",e.inputEditId),c.Cb(12),c.oc("formGroup",e.myForm1),c.Cb(7),c.oc("ngIf",e.myFormErrors1.description),c.Cb(9),c.oc("ngForOf",e.statusList),c.Cb(1),c.oc("ngIf",e.myFormErrors1.status),c.Cb(6),c.oc("config",e.editorConfig),c.Cb(1),c.oc("ngIf",e.myFormErrors1.bodyContent),c.Cb(2),c.oc("ngIf",e.screenAcl.add&&!e.inputEditId),c.Cb(1),c.oc("ngIf",!e.inputEditId),c.Cb(1),c.oc("ngIf",e.screenAcl.update&&e.inputEditId),c.Cb(1),c.oc("ngIf",e.inputEditId),c.Cb(1),c.oc("ngIf",e.inputEditId&&!e.screenAcl.update),c.Cb(1),c.oc("ngIf",!e.inputEditId&&!e.screenAcl.add))},directives:[l.m,s.n,s.i,s.b,s.m,s.g,s.t,s.p,s.v,l.l,E.a],styles:[""]}),t})();var B=i("rEr+"),W=i("7zfz"),G=i("Mfq2");const $=["dataTable"];function H(t,e){1&t&&(c.Vb(0,"colgroup"),c.Qb(1,"col",14),c.Qb(2,"col",15),c.Qb(3,"col",16),c.Ub())}function Y(t,e){if(1&t&&(c.Vb(0,"option",26),c.Lc(1),c.Ub()),2&t){const t=e.$implicit;c.oc("value",t.id),c.Cb(1),c.Nc(" ",t.name," ")}}function Z(t,e){if(1&t){const t=c.Wb();c.Vb(0,"tr"),c.Vb(1,"th"),c.Lc(2,"Actions"),c.Ub(),c.Vb(3,"th"),c.Lc(4,"Description"),c.Ub(),c.Vb(5,"th",17),c.Lc(6,"Status "),c.Qb(7,"p-sortIcon",18),c.Ub(),c.Ub(),c.Vb(8,"tr",19),c.Vb(9,"th"),c.Vb(10,"a",20),c.dc("click",(function(){return c.Dc(t),c.hc(2).clearSearchForm()})),c.Qb(11,"i",21),c.Lc(12,"Clear"),c.Ub(),c.Ub(),c.Vb(13,"th"),c.Vb(14,"input",22),c.dc("ngModelChange",(function(e){return c.Dc(t),c.hc(2).searchForm.heading=e}))("keyup.enter",(function(){return c.Dc(t),c.hc(2).resetListing()})),c.Ub(),c.Ub(),c.Vb(15,"th"),c.Vb(16,"select",23),c.dc("ngModelChange",(function(e){return c.Dc(t),c.hc(2).searchForm.status=e}))("change",(function(){return c.Dc(t),c.hc(2).resetListing()})),c.Vb(17,"option",24),c.Lc(18,"--SELECT--"),c.Ub(),c.Jc(19,Y,2,2,"option",25),c.Ub(),c.Ub(),c.Ub()}if(2&t){const t=c.hc(2);c.Cb(5),c.oc("pSortableColumn","status"),c.Cb(2),c.oc("field","status"),c.Cb(7),c.oc("ngModel",t.searchForm.heading),c.Cb(2),c.oc("ngModel",t.searchForm.status),c.Cb(3),c.oc("ngForOf",t.statusList)}}function K(t,e){if(1&t&&(c.Vb(0,"tr"),c.Vb(1,"td"),c.Vb(2,"a",27),c.Qb(3,"i",28),c.Ub(),c.Ub(),c.Vb(4,"td"),c.Lc(5),c.Ub(),c.Vb(6,"td"),c.Vb(7,"span",29),c.Lc(8),c.Ub(),c.Ub(),c.Ub()),2&t){const t=e.$implicit,i=c.hc(2);c.Cb(2),c.qc("routerLink","/branch/admin-general/terms-and-condition-edit/",i.utilsService.encrypt(t.id),""),c.Cb(3),c.Nc(" ",t.heading," "),c.Cb(2),c.oc("ngClass",i.appConstants.STATUS_COLOR_CLS[t.status]),c.Cb(1),c.Nc(" ",t.statusName," ")}}function X(t,e){if(1&t){const t=c.Wb();c.Tb(0),c.Vb(1,"div",1),c.Vb(2,"span"),c.Lc(3,"T"),c.Ub(),c.Lc(4,"erms and Condition - List "),c.Vb(5,"div",2),c.Vb(6,"button",3),c.Qb(7,"i",4),c.Vb(8,"span"),c.Lc(9,"Add Terms and Condition"),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Vb(10,"div",5),c.Vb(11,"div",6),c.Vb(12,"div",7),c.Vb(13,"div",8),c.Vb(14,"p-table",9,10),c.dc("onLazyLoad",(function(e){return c.Dc(t),c.hc().getListing(e)})),c.Jc(16,H,4,0,"ng-template",11),c.Jc(17,Z,20,5,"ng-template",12),c.Jc(18,K,9,4,"ng-template",13),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Ub(),c.Sb()}if(2&t){const t=c.hc();c.Cb(14),c.oc("value",t.listing.data)("lazy",!0)("paginator",!0)("rows",t.appConstants.TABLE_DEFAULT_ROWS)("totalRecords",t.listing.totalRecords)}}const tt=n.h.forChild([{path:"territory",component:M},{path:"terms-and-condition-list",component:(()=>{class t{constructor(t,e,i,n,s){this.utilsService=t,this.storageService=e,this.authGuardService=i,this.commonDataService=n,this.termsAndConditionDataService=s,this.appConstants=r.h,this.screenAcl={},this.statusList=[],this.listingProperties={},this.listing={data:[],totalRecords:0},this.searchForm={heading:"",status:1}}ngOnInit(){if(this.screenAcl=this.authGuardService.getScreenAcl("37"),!this.screenAcl.view)return this.utilsService.showFailureMsg(r.h.ACL_UNAUTHORIZED_MSG),this.utilsService.goBack(),!1;this.getAutoSuggestionList("getCommonStatusList")}getListing(t){const e=this.utilsService.dataTableParameterFormation(t,this.searchForm);this.listingProperties=e,this.termsAndConditionDataService.getList(e).subscribe(t=>{"SUCCESS"===t.status?(this.listing.data=t.results.searchResults,this.listing.totalRecords=t.results.totalRecords):this.utilsService.showFailureMsg(t)})}clearSearchForm(){this.searchForm={heading:"",status:1},this.resetListing()}resetListing(){this.dataTable.reset()}getAutoSuggestionList(t){this.commonDataService.getAutoSuggestionList(t).subscribe(e=>{"SUCCESS"===e.status?"getCommonStatusList"===t&&(this.statusList=e.results):this.utilsService.showFailureMsg(e)})}}return t.\u0275fac=function(e){return new(e||t)(c.Pb(r.g),c.Pb(r.f),c.Pb(r.a),c.Pb(a.l),c.Pb(a.ib))},t.\u0275cmp=c.Jb({type:t,selectors:[["app-terms-and-condition-list"]],viewQuery:function(t,e){var i;1&t&&c.Pc($,!0),2&t&&c.zc(i=c.ec())&&(e.dataTable=i.first)},decls:1,vars:1,consts:[[4,"ngIf"],[1,"page-title"],[1,"btn-group"],["routerLink","/branch/admin-general/terms-and-condition-add",1,"btn","btn-primary","btn-sm"],[1,"fa","fa-plus"],[1,"working-container"],[1,"row"],[1,"col-12"],[1,"datatable-responsive"],[3,"value","lazy","paginator","rows","totalRecords","onLazyLoad"],["dataTable",""],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],[2,"width","80px"],[2,"width","150px"],[2,"width","100px"],[3,"pSortableColumn"],[3,"field"],["placement","top","container","body","tooltip","Press Enter key to search",1,"search"],[1,"clear-search",3,"click"],[1,"fa","fa-times"],["type","text",1,"form-control","form-control-sm",3,"ngModel","ngModelChange","keyup.enter"],[1,"form-control","form-control-sm",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["placement","top","container","body","tooltip","Edit",1,"action","blue",3,"routerLink"],[1,"fa","fa-edit"],[1,"badge",3,"ngClass"]],template:function(t,e){1&t&&c.Jc(0,X,19,5,"ng-container",0),2&t&&c.oc("ngIf",e.screenAcl.view)},directives:[l.m,n.e,B.c,W.b,B.b,B.a,G.a,s.b,s.m,s.o,s.t,s.p,s.v,l.l,n.g,l.k],styles:[""]}),t})()},{path:"terms-and-condition-add",component:q},{path:"terms-and-condition-edit/:id",component:q}]);var et=i("o+NB"),it=i("7zUj");let nt=(()=>{class t{}return t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({factory:function(e){return new(e||t)},imports:[[tt,et.BranchModule,it.a]]}),t})()}}]);